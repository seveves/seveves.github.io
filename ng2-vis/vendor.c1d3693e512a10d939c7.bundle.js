webpackJsonp([1],{0:function(e,t,i){"use strict";i(51),i(13),i(74),i(52),i(75),i(73)},51:function(e,t,i){(function(e){!function(e,n){n(t,i(13))}(this,function(t,i){"use strict";function getTypeNameForDebugging(e){return e.name||typeof e}function isPresent(e){return void 0!==e&&null!==e}function isBlank(e){return void 0===e||null===e}function isStringMap(e){return"object"==typeof e&&null!==e}function isArray(e){return Array.isArray(e)}function isDate(e){return e instanceof Date&&!isNaN(e.valueOf())}function stringify(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.overriddenName)return e.overriddenName;if(e.name)return e.name;var t=e.toString(),i=t.indexOf("\n");return i===-1?t:t.substring(0,i)}function isJsObject(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function getSymbolIterator(){if(isBlank(h))if(isPresent(n.Symbol)&&isPresent(Symbol.iterator))h=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),t=0;t<e.length;++t){var i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(h=i)}return h}function _stripBaseHref(e,t){return e.length>0&&t.startsWith(e)?t.substring(e.length):t}function _stripIndexHtml(e){return/\/index.html$/g.test(e)?e.substring(0,e.length-11):e}function getPluralCategory(e,t,i){var n="="+e;return t.indexOf(n)>-1?n:i.getPluralCategory(e)}function getPluralCase(e,t){"string"==typeof t&&(t=parseInt(t,10));var i=t,n=i.toString().replace(/^[^.]*\.?/,""),r=Math.floor(Math.abs(i)),o=n.length,s=parseInt(n,10),a=parseInt(i.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0,u=e.split("-")[0].toLowerCase();switch(u){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===i?l.One:l.Other;case"agq":case"bas":case"cu":case"dav":case"dje":case"dua":case"dyo":case"ebu":case"ewo":case"guz":case"kam":case"khq":case"ki":case"kln":case"kok":case"ksf":case"lrc":case"lu":case"luo":case"luy":case"mer":case"mfe":case"mgh":case"mua":case"mzn":case"nmg":case"nus":case"qu":case"rn":case"rw":case"sbp":case"twq":case"vai":case"yav":case"yue":case"zgh":case"ak":case"ln":case"mg":case"pa":case"ti":return i===Math.floor(i)&&i>=0&&i<=1?l.One:l.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===r||1===i?l.One:l.Other;case"ar":return 0===i?l.Zero:1===i?l.One:2===i?l.Two:i%100===Math.floor(i%100)&&i%100>=3&&i%100<=10?l.Few:i%100===Math.floor(i%100)&&i%100>=11&&i%100<=99?l.Many:l.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===r&&0===o?l.One:l.Other;case"be":return i%10===1&&i%100!==11?l.One:i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?l.Few:i%10===0||i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?l.Many:l.Other;case"br":return i%10===1&&i%100!==11&&i%100!==71&&i%100!==91?l.One:i%10===2&&i%100!==12&&i%100!==72&&i%100!==92?l.Two:i%10===Math.floor(i%10)&&(i%10>=3&&i%10<=4||i%10===9)&&!(i%100>=10&&i%100<=19||i%100>=70&&i%100<=79||i%100>=90&&i%100<=99)?l.Few:0!==i&&i%1e6===0?l.Many:l.Other;case"bs":case"hr":case"sr":return 0===o&&r%10===1&&r%100!==11||s%10===1&&s%100!==11?l.One:0===o&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)||s%10===Math.floor(s%10)&&s%10>=2&&s%10<=4&&!(s%100>=12&&s%100<=14)?l.Few:l.Other;case"cs":case"sk":return 1===r&&0===o?l.One:r===Math.floor(r)&&r>=2&&r<=4&&0===o?l.Few:0!==o?l.Many:l.Other;case"cy":return 0===i?l.Zero:1===i?l.One:2===i?l.Two:3===i?l.Few:6===i?l.Many:l.Other;case"da":return 1===i||0!==a&&(0===r||1===r)?l.One:l.Other;case"dsb":case"hsb":return 0===o&&r%100===1||s%100===1?l.One:0===o&&r%100===2||s%100===2?l.Two:0===o&&r%100===Math.floor(r%100)&&r%100>=3&&r%100<=4||s%100===Math.floor(s%100)&&s%100>=3&&s%100<=4?l.Few:l.Other;case"ff":case"fr":case"hy":case"kab":return 0===r||1===r?l.One:l.Other;case"fil":return 0===o&&(1===r||2===r||3===r)||0===o&&r%10!==4&&r%10!==6&&r%10!==9||0!==o&&s%10!==4&&s%10!==6&&s%10!==9?l.One:l.Other;case"ga":return 1===i?l.One:2===i?l.Two:i===Math.floor(i)&&i>=3&&i<=6?l.Few:i===Math.floor(i)&&i>=7&&i<=10?l.Many:l.Other;case"gd":return 1===i||11===i?l.One:2===i||12===i?l.Two:i===Math.floor(i)&&(i>=3&&i<=10||i>=13&&i<=19)?l.Few:l.Other;case"gv":return 0===o&&r%10===1?l.One:0===o&&r%10===2?l.Two:0!==o||r%100!==0&&r%100!==20&&r%100!==40&&r%100!==60&&r%100!==80?0!==o?l.Many:l.Other:l.Few;case"he":return 1===r&&0===o?l.One:2===r&&0===o?l.Two:0!==o||i>=0&&i<=10||i%10!==0?l.Other:l.Many;case"is":return 0===a&&r%10===1&&r%100!==11||0!==a?l.One:l.Other;case"ksh":return 0===i?l.Zero:1===i?l.One:l.Other;case"kw":case"naq":case"se":case"smn":return 1===i?l.One:2===i?l.Two:l.Other;case"lag":return 0===i?l.Zero:0!==r&&1!==r||0===i?l.Other:l.One;case"lt":return i%10!==1||i%100>=11&&i%100<=19?i%10===Math.floor(i%10)&&i%10>=2&&i%10<=9&&!(i%100>=11&&i%100<=19)?l.Few:0!==s?l.Many:l.Other:l.One;case"lv":case"prg":return i%10===0||i%100===Math.floor(i%100)&&i%100>=11&&i%100<=19||2===o&&s%100===Math.floor(s%100)&&s%100>=11&&s%100<=19?l.Zero:i%10===1&&i%100!==11||2===o&&s%10===1&&s%100!==11||2!==o&&s%10===1?l.One:l.Other;case"mk":return 0===o&&r%10===1||s%10===1?l.One:l.Other;case"mt":return 1===i?l.One:0===i||i%100===Math.floor(i%100)&&i%100>=2&&i%100<=10?l.Few:i%100===Math.floor(i%100)&&i%100>=11&&i%100<=19?l.Many:l.Other;case"pl":return 1===r&&0===o?l.One:0===o&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?l.Few:0===o&&1!==r&&r%10===Math.floor(r%10)&&r%10>=0&&r%10<=1||0===o&&r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||0===o&&r%100===Math.floor(r%100)&&r%100>=12&&r%100<=14?l.Many:l.Other;case"pt":return i===Math.floor(i)&&i>=0&&i<=2&&2!==i?l.One:l.Other;case"ro":return 1===r&&0===o?l.One:0!==o||0===i||1!==i&&i%100===Math.floor(i%100)&&i%100>=1&&i%100<=19?l.Few:l.Other;case"ru":case"uk":return 0===o&&r%10===1&&r%100!==11?l.One:0===o&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?l.Few:0===o&&r%10===0||0===o&&r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||0===o&&r%100===Math.floor(r%100)&&r%100>=11&&r%100<=14?l.Many:l.Other;case"shi":return 0===r||1===i?l.One:i===Math.floor(i)&&i>=2&&i<=10?l.Few:l.Other;case"si":return 0===i||1===i||0===r&&1===s?l.One:l.Other;case"sl":return 0===o&&r%100===1?l.One:0===o&&r%100===2?l.Two:0===o&&r%100===Math.floor(r%100)&&r%100>=3&&r%100<=4||0!==o?l.Few:l.Other;case"tzm":return i===Math.floor(i)&&i>=0&&i<=1||i===Math.floor(i)&&i>=11&&i<=99?l.One:l.Other;default:return l.Other}}function _flattenArray(e,t){if(isPresent(e))for(var i=0;i<e.length;i++){var n=e[i];isArray(n)?_flattenArray(n,t):t.push(n)}return t}function isListLikeIterable(e){return!!isJsObject(e)&&(isArray(e)||!(e instanceof Map)&&getSymbolIterator()in e)}function digitModifier(e){return function(t,i){var n=e(t,i);return 1==n.length?"0"+n:n}}function hourClockExtracter(e){return function(t,i){var n=e(t,i);return n.split(" ")[1]}}function hourExtracter(e){return function(t,i){var n=e(t,i);return n.split(" ")[0]}}function intlDateFormat(e,t,i){return new Intl.DateTimeFormat(t,i).format(e).replace(/[\u200e\u200f]/g,"")}function timeZoneGetter(e){var t={hour:"2-digit",hour12:!1,timeZoneName:e};return function(e,i){var n=intlDateFormat(e,i,t);return n?n.substring(3):""}}function hour12Modify(e,t){return e.hour12=t,e}function digitCondition(e,t){var i={};return i[e]=2==t?"2-digit":"numeric",i}function nameCondition(e,t){var i={};return i[e]=t<4?"short":"long",i}function combine(e){var t={};return e.forEach(function(e){Object.assign(t,e)}),t}function datePartGetterFactory(e){return function(t,i){return intlDateFormat(t,i,e)}}function dateFormatter(e,t,i){var n,r,o="",s=[];if(X[e])return X[e](t,i);if(Q.has(e))s=Q.get(e);else{for(K.exec(e);e;)n=K.exec(e),n?(s=concat(s,n,1),e=s.pop()):(s.push(e),e=null);Q.set(e,s)}return s.forEach(function(e){r=Z[e],o+=r?r(t,i):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}function concat(e,t,i){return e.concat(J.call(t,i))}function formatNumber(e,t,i,n,r,o,s){if(void 0===o&&(o=null),void 0===s&&(s=!1),isBlank(i))return null;if(i="string"==typeof i&&u.isNumeric(i)?+i:i,"number"!=typeof i)throw new z(e,i);var a,l,c;if(n!==b.Currency&&(a=1,l=0,c=3),r){var h=r.match(se);if(null===h)throw new Error(r+" is not a valid digit info for number pipes");isPresent(h[1])&&(a=u.parseIntAutoRadix(h[1])),isPresent(h[3])&&(l=u.parseIntAutoRadix(h[3])),isPresent(h[5])&&(c=u.parseIntAutoRadix(h[5]))}return Y.format(i,t,n,{minimumIntegerDigits:a,minimumFractionDigits:l,maximumFractionDigits:c,currency:o,currencyAsSymbol:s})}var n,r=function(){function PlatformLocation(){}return Object.defineProperty(PlatformLocation.prototype,"pathname",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformLocation.prototype,"search",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformLocation.prototype,"hash",{get:function(){return null},enumerable:!0,configurable:!0}),PlatformLocation}(),o=function(){function LocationStrategy(){}return LocationStrategy}(),s=new i.OpaqueToken("appBaseHref");n="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:e:window;var a=n;a.assert=function(e){};var l,u=function(){function NumberWrapper(){}return NumberWrapper.toFixed=function(e,t){return e.toFixed(t)},NumberWrapper.equal=function(e,t){return e===t},NumberWrapper.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},NumberWrapper.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var i=parseInt(e,t);if(!isNaN(i))return i}throw new Error("Invalid integer literal when parsing "+e+" in base "+t)},Object.defineProperty(NumberWrapper,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),NumberWrapper.isNumeric=function(e){return!isNaN(e-parseFloat(e))},NumberWrapper.isNaN=function(e){return isNaN(e)},NumberWrapper.isInteger=function(e){return Number.isInteger(e)},NumberWrapper}(),c=function(){function Json(){}return Json.parse=function(e){return a.JSON.parse(e)},Json.stringify=function(e){return a.JSON.stringify(e,null,2)},Json}(),h=null,p=function(){function Location(e){var t=this;this._subject=new i.EventEmitter,this._platformStrategy=e;var n=this._platformStrategy.getBaseHref();this._baseHref=Location.stripTrailingSlash(_stripIndexHtml(n)),this._platformStrategy.onPopState(function(e){t._subject.emit({url:t.path(!0),pop:!0,type:e.type})})}return Location.prototype.path=function(e){return void 0===e&&(e=!1),this.normalize(this._platformStrategy.path(e))},Location.prototype.isCurrentPathEqualTo=function(e,t){return void 0===t&&(t=""),this.path()==this.normalize(e+Location.normalizeQueryParams(t))},Location.prototype.normalize=function(e){return Location.stripTrailingSlash(_stripBaseHref(this._baseHref,_stripIndexHtml(e)))},Location.prototype.prepareExternalUrl=function(e){return e.length>0&&!e.startsWith("/")&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)},Location.prototype.go=function(e,t){void 0===t&&(t=""),this._platformStrategy.pushState(null,"",e,t)},Location.prototype.replaceState=function(e,t){void 0===t&&(t=""),this._platformStrategy.replaceState(null,"",e,t)},Location.prototype.forward=function(){this._platformStrategy.forward()},Location.prototype.back=function(){this._platformStrategy.back()},Location.prototype.subscribe=function(e,t,i){return void 0===t&&(t=null),void 0===i&&(i=null),this._subject.subscribe({next:e,error:t,complete:i})},Location.normalizeQueryParams=function(e){return e.length>0&&"?"!=e.substring(0,1)?"?"+e:e},Location.joinWithSlash=function(e,t){if(0==e.length)return t;if(0==t.length)return e;var i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,2==i?e+t.substring(1):1==i?e+t:e+"/"+t},Location.stripTrailingSlash=function(e){return/\/$/g.test(e)&&(e=e.substring(0,e.length-1)),e},Location.decorators=[{type:i.Injectable}],Location.ctorParameters=[{type:o}],Location}(),d=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},f=function(e){function HashLocationStrategy(t,i){e.call(this),this._platformLocation=t,this._baseHref="",isPresent(i)&&(this._baseHref=i)}return d(HashLocationStrategy,e),HashLocationStrategy.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},HashLocationStrategy.prototype.getBaseHref=function(){return this._baseHref},HashLocationStrategy.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.hash;return isPresent(t)||(t="#"),t.length>0?t.substring(1):t},HashLocationStrategy.prototype.prepareExternalUrl=function(e){var t=p.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t},HashLocationStrategy.prototype.pushState=function(e,t,i,n){var r=this.prepareExternalUrl(i+p.normalizeQueryParams(n));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)},HashLocationStrategy.prototype.replaceState=function(e,t,i,n){var r=this.prepareExternalUrl(i+p.normalizeQueryParams(n));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)},HashLocationStrategy.prototype.forward=function(){this._platformLocation.forward()},HashLocationStrategy.prototype.back=function(){this._platformLocation.back()},HashLocationStrategy.decorators=[{type:i.Injectable}],HashLocationStrategy.ctorParameters=[{type:r},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[s]}]}],HashLocationStrategy}(o),m=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},y=function(e){function PathLocationStrategy(t,i){if(e.call(this),this._platformLocation=t,isBlank(i)&&(i=this._platformLocation.getBaseHrefFromDOM()),isBlank(i))throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}return m(PathLocationStrategy,e),PathLocationStrategy.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},PathLocationStrategy.prototype.getBaseHref=function(){return this._baseHref},PathLocationStrategy.prototype.prepareExternalUrl=function(e){return p.joinWithSlash(this._baseHref,e)},PathLocationStrategy.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.pathname+p.normalizeQueryParams(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?""+t+i:t},PathLocationStrategy.prototype.pushState=function(e,t,i,n){var r=this.prepareExternalUrl(i+p.normalizeQueryParams(n));this._platformLocation.pushState(e,t,r)},PathLocationStrategy.prototype.replaceState=function(e,t,i,n){var r=this.prepareExternalUrl(i+p.normalizeQueryParams(n));this._platformLocation.replaceState(e,t,r)},PathLocationStrategy.prototype.forward=function(){this._platformLocation.forward()},PathLocationStrategy.prototype.back=function(){this._platformLocation.back()},PathLocationStrategy.decorators=[{type:i.Injectable}],PathLocationStrategy.ctorParameters=[{type:r},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[s]}]}],PathLocationStrategy}(o),v=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},g=function(){function NgLocalization(){}return NgLocalization}(),_=function(e){function NgLocaleLocalization(t){e.call(this),this._locale=t}return v(NgLocaleLocalization,e),NgLocaleLocalization.prototype.getPluralCategory=function(e){var t=getPluralCase(this._locale,e);switch(t){case l.Zero:return"zero";case l.One:return"one";case l.Two:return"two";case l.Few:return"few";case l.Many:return"many";default:return"other"}},NgLocaleLocalization.decorators=[{type:i.Injectable}],NgLocaleLocalization.ctorParameters=[{type:void 0,decorators:[{type:i.Inject,args:[i.LOCALE_ID]}]}],NgLocaleLocalization}(g);!function(e){e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other"}(l||(l={}));var b,w=(function(){return(new Map).keys().next?function(e){for(var t,i=e.keys();!(t=i.next()).done;)e.set(t.value,null)}:function(e){e.forEach(function(t,i){e.set(i,null)})}}(),function(){try{if((new Map).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var i=new Array(e.size),n=0;return e.forEach(function(e,r){i[n]=t?e:r,n++}),i}}(),function(){function ListWrapper(){}return ListWrapper.createFixedSize=function(e){return new Array(e)},ListWrapper.createGrowableSize=function(e){return new Array(e)},ListWrapper.clone=function(e){return e.slice(0)},ListWrapper.forEachWithIndex=function(e,t){for(var i=0;i<e.length;i++)t(e[i],i)},ListWrapper.first=function(e){return e?e[0]:null},ListWrapper.last=function(e){return e&&0!=e.length?e[e.length-1]:null},ListWrapper.indexOf=function(e,t,i){return void 0===i&&(i=0),e.indexOf(t,i)},ListWrapper.contains=function(e,t){return e.indexOf(t)!==-1},ListWrapper.reversed=function(e){var t=ListWrapper.clone(e);return t.reverse()},ListWrapper.concat=function(e,t){return e.concat(t)},ListWrapper.insert=function(e,t,i){e.splice(t,0,i)},ListWrapper.removeAt=function(e,t){var i=e[t];return e.splice(t,1),i},ListWrapper.removeAll=function(e,t){for(var i=0;i<t.length;++i){var n=e.indexOf(t[i]);e.splice(n,1)}},ListWrapper.remove=function(e,t){var i=e.indexOf(t);return i>-1&&(e.splice(i,1),!0)},ListWrapper.clear=function(e){e.length=0},ListWrapper.isEmpty=function(e){return 0==e.length},ListWrapper.fill=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=null),e.fill(t,i,null===n?e.length:n)},ListWrapper.equals=function(e,t){if(e.length!=t.length)return!1;for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0},ListWrapper.slice=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=null),e.slice(t,null===i?void 0:i)},ListWrapper.splice=function(e,t,i){return e.splice(t,i)},ListWrapper.sort=function(e,t){isPresent(t)?e.sort(t):e.sort()},ListWrapper.toString=function(e){return e.toString()},ListWrapper.toJSON=function(e){return JSON.stringify(e)},ListWrapper.maximum=function(e,t){if(0==e.length)return null;for(var i=null,n=-(1/0),r=0;r<e.length;r++){var o=e[r];if(!isBlank(o)){var s=t(o);s>n&&(i=o,n=s)}}return i},ListWrapper.flatten=function(e){var t=[];return _flattenArray(e,t),t},ListWrapper.addAll=function(e,t){for(var i=0;i<t.length;i++)e.push(t[i])},ListWrapper}()),C=function(){function NgClass(e,t,i,n){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=i,this._renderer=n,this._initialClasses=[]}return Object.defineProperty(NgClass.prototype,"klass",{set:function(e){this._applyInitialClasses(!0),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(NgClass.prototype,"ngClass",{set:function(e){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(isListLikeIterable(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create(null):this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create(null))},enumerable:!0,configurable:!0}),NgClass.prototype.ngDoCheck=function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},NgClass.prototype._cleanupClasses=function(e){this._applyClasses(e,!0),this._applyInitialClasses(!1)},NgClass.prototype._applyKeyValueChanges=function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})},NgClass.prototype._applyIterableChanges=function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})},NgClass.prototype._applyInitialClasses=function(e){var t=this;this._initialClasses.forEach(function(i){return t._toggleClass(i,!e)})},NgClass.prototype._applyClasses=function(e,t){var i=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return i._toggleClass(e,!t)}):Object.keys(e).forEach(function(n){isPresent(e[n])&&i._toggleClass(n,!t)}))},NgClass.prototype._toggleClass=function(e,t){var i=this;e=e.trim(),e&&e.split(/\s+/g).forEach(function(e){i._renderer.setElementClass(i._ngEl.nativeElement,e,t)})},NgClass.decorators=[{type:i.Directive,args:[{selector:"[ngClass]"}]}],NgClass.ctorParameters=[{type:i.IterableDiffers},{type:i.KeyValueDiffers},{type:i.ElementRef},{type:i.Renderer}],NgClass.propDecorators={klass:[{type:i.Input,args:["class"]}],ngClass:[{type:i.Input}]},NgClass}(),x=function(){function NgForRow(e,t,i){this.$implicit=e,this.index=t,this.count=i}return Object.defineProperty(NgForRow.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(NgForRow.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(NgForRow.prototype,"even",{get:function(){return this.index%2===0},enumerable:!0,configurable:!0}),Object.defineProperty(NgForRow.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),NgForRow}(),E=function(){function NgFor(e,t,i,n){this._viewContainer=e,this._template=t,this._differs=i,this._cdr=n,this._differ=null}return Object.defineProperty(NgFor.prototype,"ngForTemplate",{set:function(e){e&&(this._template=e)},enumerable:!0,configurable:!0}),NgFor.prototype.ngOnChanges=function(e){if("ngForOf"in e){var t=e.ngForOf.currentValue;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this._cdr,this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+getTypeNameForDebugging(t)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},NgFor.prototype.ngDoCheck=function(){if(this._differ){var e=this._differ.diff(this.ngForOf);e&&this._applyChanges(e)}},NgFor.prototype._applyChanges=function(e){var t=this,i=[];e.forEachOperation(function(e,n,r){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new x(null,null,null),r),s=new S(e,o);i.push(s)}else if(null==r)t._viewContainer.remove(n);else{var o=t._viewContainer.get(n);t._viewContainer.move(o,r);var s=new S(e,o);i.push(s)}});for(var n=0;n<i.length;n++)this._perViewChange(i[n].view,i[n].record);for(var n=0,r=this._viewContainer.length;n<r;n++){var o=this._viewContainer.get(n);o.context.index=n,o.context.count=r}e.forEachIdentityChange(function(e){var i=t._viewContainer.get(e.currentIndex);i.context.$implicit=e.item})},NgFor.prototype._perViewChange=function(e,t){e.context.$implicit=t.item},NgFor.decorators=[{type:i.Directive,args:[{selector:"[ngFor][ngForOf]"}]}],NgFor.ctorParameters=[{type:i.ViewContainerRef},{type:i.TemplateRef},{type:i.IterableDiffers},{type:i.ChangeDetectorRef}],NgFor.propDecorators={ngForOf:[{type:i.Input}],ngForTrackBy:[{type:i.Input}],ngForTemplate:[{type:i.Input}]},NgFor}(),S=function(){function RecordViewTuple(e,t){this.record=e,this.view=t}return RecordViewTuple}(),P=function(){function NgIf(e,t){this._viewContainer=e,this._template=t,this._hasView=!1}return Object.defineProperty(NgIf.prototype,"ngIf",{set:function(e){e&&!this._hasView?(this._hasView=!0,this._viewContainer.createEmbeddedView(this._template)):!e&&this._hasView&&(this._hasView=!1,this._viewContainer.clear())},enumerable:!0,configurable:!0}),NgIf.decorators=[{type:i.Directive,args:[{selector:"[ngIf]"}]}],NgIf.ctorParameters=[{type:i.ViewContainerRef},{type:i.TemplateRef}],NgIf.propDecorators={ngIf:[{type:i.Input}]},NgIf}(),k=new Object,T=function(){function SwitchView(e,t){this._viewContainerRef=e,this._templateRef=t}return SwitchView.prototype.create=function(){this._viewContainerRef.createEmbeddedView(this._templateRef)},SwitchView.prototype.destroy=function(){this._viewContainerRef.clear()},SwitchView}(),A=function(){function NgSwitch(){this._useDefault=!1,this._valueViews=new Map,this._activeViews=[]}return Object.defineProperty(NgSwitch.prototype,"ngSwitch",{set:function(e){this._emptyAllActiveViews(),this._useDefault=!1;var t=this._valueViews.get(e);t||(this._useDefault=!0,t=this._valueViews.get(k)||null),this._activateViews(t),this._switchValue=e},enumerable:!0,configurable:!0}),NgSwitch.prototype._onCaseValueChanged=function(e,t,i){this._deregisterView(e,i),this._registerView(t,i),e===this._switchValue?(i.destroy(),w.remove(this._activeViews,i)):t===this._switchValue&&(this._useDefault&&(this._useDefault=!1,this._emptyAllActiveViews()),i.create(),this._activeViews.push(i)),0!==this._activeViews.length||this._useDefault||(this._useDefault=!0,this._activateViews(this._valueViews.get(k)))},NgSwitch.prototype._emptyAllActiveViews=function(){for(var e=this._activeViews,t=0;t<e.length;t++)e[t].destroy();this._activeViews=[]},NgSwitch.prototype._activateViews=function(e){if(e){for(var t=0;t<e.length;t++)e[t].create();this._activeViews=e}},NgSwitch.prototype._registerView=function(e,t){var i=this._valueViews.get(e);i||(i=[],this._valueViews.set(e,i)),i.push(t)},NgSwitch.prototype._deregisterView=function(e,t){if(e!==k){var i=this._valueViews.get(e);1==i.length?this._valueViews.delete(e):w.remove(i,t)}},NgSwitch.decorators=[{type:i.Directive,args:[{selector:"[ngSwitch]"}]}],NgSwitch.ctorParameters=[],NgSwitch.propDecorators={ngSwitch:[{type:i.Input}]},NgSwitch}(),D=function(){function NgSwitchCase(e,t,i){this._value=k,this._switch=i,this._view=new T(e,t)}return Object.defineProperty(NgSwitchCase.prototype,"ngSwitchCase",{set:function(e){this._switch._onCaseValueChanged(this._value,e,this._view),this._value=e},enumerable:!0,configurable:!0}),NgSwitchCase.decorators=[{type:i.Directive,args:[{selector:"[ngSwitchCase]"}]}],NgSwitchCase.ctorParameters=[{type:i.ViewContainerRef},{type:i.TemplateRef},{type:A,decorators:[{type:i.Host}]}],NgSwitchCase.propDecorators={ngSwitchCase:[{type:i.Input}]},NgSwitchCase}(),M=function(){function NgSwitchDefault(e,t,i){i._registerView(k,new T(e,t))}return NgSwitchDefault.decorators=[{type:i.Directive,args:[{selector:"[ngSwitchDefault]"}]}],NgSwitchDefault.ctorParameters=[{type:i.ViewContainerRef},{type:i.TemplateRef},{type:A,decorators:[{type:i.Host}]}],NgSwitchDefault}(),O=function(){function NgPlural(e){this._localization=e,this._caseViews={}}return Object.defineProperty(NgPlural.prototype,"ngPlural",{set:function(e){this._switchValue=e,this._updateView()},enumerable:!0,configurable:!0}),NgPlural.prototype.addCase=function(e,t){this._caseViews[e]=t},NgPlural.prototype._updateView=function(){this._clearViews();var e=Object.keys(this._caseViews),t=getPluralCategory(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])},NgPlural.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},NgPlural.prototype._activateView=function(e){e&&(this._activeView=e,this._activeView.create())},NgPlural.decorators=[{type:i.Directive,args:[{selector:"[ngPlural]"}]}],NgPlural.ctorParameters=[{type:g}],NgPlural.propDecorators={ngPlural:[{type:i.Input}]},NgPlural}(),I=function(){function NgPluralCase(e,t,i,n){this.value=e,n.addCase(e,new T(i,t))}return NgPluralCase.decorators=[{type:i.Directive,args:[{selector:"[ngPluralCase]"}]}],NgPluralCase.ctorParameters=[{type:void 0,decorators:[{type:i.Attribute,args:["ngPluralCase"]}]},{type:i.TemplateRef},{type:i.ViewContainerRef},{type:O,decorators:[{type:i.Host}]}],NgPluralCase}(),R=function(){function NgStyle(e,t,i){this._differs=e,this._ngEl=t,this._renderer=i}return Object.defineProperty(NgStyle.prototype,"ngStyle",{set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create(null))},enumerable:!0,configurable:!0}),NgStyle.prototype.ngDoCheck=function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}},NgStyle.prototype._applyChanges=function(e){var t=this;e.forEachRemovedItem(function(e){return t._setStyle(e.key,null)}),e.forEachAddedItem(function(e){return t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._setStyle(e.key,e.currentValue)})},NgStyle.prototype._setStyle=function(e,t){var i=e.split("."),n=i[0],r=i[1];t=t&&r?""+t+r:t,this._renderer.setElementStyle(this._ngEl.nativeElement,n,t)},NgStyle.decorators=[{type:i.Directive,args:[{selector:"[ngStyle]"}]}],NgStyle.ctorParameters=[{type:i.KeyValueDiffers},{type:i.ElementRef},{type:i.Renderer}],NgStyle.propDecorators={ngStyle:[{type:i.Input}]},NgStyle}(),N=function(){function NgTemplateOutlet(e){this._viewContainerRef=e}return Object.defineProperty(NgTemplateOutlet.prototype,"ngOutletContext",{set:function(e){this._context=e},enumerable:!0,configurable:!0}),Object.defineProperty(NgTemplateOutlet.prototype,"ngTemplateOutlet",{set:function(e){this._templateRef=e},enumerable:!0,configurable:!0}),NgTemplateOutlet.prototype.ngOnChanges=function(e){this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this._templateRef&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this._templateRef,this._context))},NgTemplateOutlet.decorators=[{type:i.Directive,args:[{selector:"[ngTemplateOutlet]"}]}],NgTemplateOutlet.ctorParameters=[{type:i.ViewContainerRef}],NgTemplateOutlet.propDecorators={ngOutletContext:[{type:i.Input}],ngTemplateOutlet:[{type:i.Input}]},NgTemplateOutlet}(),L=[C,E,P,N,R,A,D,M,O,I],V=i.__core_private__.isPromise,F=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},j=function(e){function BaseError(t){var i=e.call(this,t);this._nativeError=i}return F(BaseError,e),Object.defineProperty(BaseError.prototype,"message",{get:function(){return this._nativeError.message},set:function(e){this._nativeError.message=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseError.prototype,"name",{get:function(){return this._nativeError.name},enumerable:!0,configurable:!0}),Object.defineProperty(BaseError.prototype,"stack",{get:function(){return this._nativeError.stack},set:function(e){this._nativeError.stack=e},enumerable:!0,configurable:!0}),BaseError.prototype.toString=function(){return this._nativeError.toString()},BaseError}(Error),B=(function(e){function WrappedError(t,i){e.call(this,t+" caused by: "+(i instanceof Error?i.message:i)),this.originalError=i}return F(WrappedError,e),Object.defineProperty(WrappedError.prototype,"stack",{get:function(){return(this.originalError instanceof Error?this.originalError:this._nativeError).stack},enumerable:!0,configurable:!0}),WrappedError}(j),this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);
e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),z=function(e){function InvalidPipeArgumentError(t,i){e.call(this,"Invalid argument '"+i+"' for pipe '"+stringify(t)+"'")}return B(InvalidPipeArgumentError,e),InvalidPipeArgumentError}(j),H=function(){function ObservableStrategy(){}return ObservableStrategy.prototype.createSubscription=function(e,t){return e.subscribe({next:t,error:function(e){throw e}})},ObservableStrategy.prototype.dispose=function(e){e.unsubscribe()},ObservableStrategy.prototype.onDestroy=function(e){e.unsubscribe()},ObservableStrategy}(),W=function(){function PromiseStrategy(){}return PromiseStrategy.prototype.createSubscription=function(e,t){return e.then(t,function(e){throw e})},PromiseStrategy.prototype.dispose=function(e){},PromiseStrategy.prototype.onDestroy=function(e){},PromiseStrategy}(),G=new W,U=new H,q=function(){function AsyncPipe(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return AsyncPipe.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},AsyncPipe.prototype.transform=function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,i.WrappedValue.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)},AsyncPipe.prototype._subscribe=function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(i){return t._updateLatestValue(e,i)})},AsyncPipe.prototype._selectStrategy=function(e){if(V(e))return G;if(e.subscribe)return U;throw new z(AsyncPipe,e)},AsyncPipe.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},AsyncPipe.prototype._updateLatestValue=function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())},AsyncPipe.decorators=[{type:i.Pipe,args:[{name:"async",pure:!1}]}],AsyncPipe.ctorParameters=[{type:i.ChangeDetectorRef}],AsyncPipe}();!function(e){e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency"}(b||(b={}));var Y=function(){function NumberFormatter(){}return NumberFormatter.format=function(e,t,i,n){var r=void 0===n?{}:n,o=r.minimumIntegerDigits,s=r.minimumFractionDigits,a=r.maximumFractionDigits,l=r.currency,u=r.currencyAsSymbol,c=void 0!==u&&u,h={minimumIntegerDigits:o,minimumFractionDigits:s,maximumFractionDigits:a,style:b[i].toLowerCase()};return i==b.Currency&&(h.currency=l,h.currencyDisplay=c?"symbol":"code"),new Intl.NumberFormat(t,h).format(e)},NumberFormatter}(),K=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,X={yMMMdjms:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",3),digitCondition("day",1),digitCondition("hour",1),digitCondition("minute",1),digitCondition("second",1)])),yMdjm:datePartGetterFactory(combine([digitCondition("year",1),digitCondition("month",1),digitCondition("day",1),digitCondition("hour",1),digitCondition("minute",1)])),yMMMMEEEEd:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",4),nameCondition("weekday",4),digitCondition("day",1)])),yMMMMd:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",4),digitCondition("day",1)])),yMMMd:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",3),digitCondition("day",1)])),yMd:datePartGetterFactory(combine([digitCondition("year",1),digitCondition("month",1),digitCondition("day",1)])),jms:datePartGetterFactory(combine([digitCondition("hour",1),digitCondition("second",1),digitCondition("minute",1)])),jm:datePartGetterFactory(combine([digitCondition("hour",1),digitCondition("minute",1)]))},Z={yyyy:datePartGetterFactory(digitCondition("year",4)),yy:datePartGetterFactory(digitCondition("year",2)),y:datePartGetterFactory(digitCondition("year",1)),MMMM:datePartGetterFactory(nameCondition("month",4)),MMM:datePartGetterFactory(nameCondition("month",3)),MM:datePartGetterFactory(digitCondition("month",2)),M:datePartGetterFactory(digitCondition("month",1)),LLLL:datePartGetterFactory(nameCondition("month",4)),dd:datePartGetterFactory(digitCondition("day",2)),d:datePartGetterFactory(digitCondition("day",1)),HH:digitModifier(hourExtracter(datePartGetterFactory(hour12Modify(digitCondition("hour",2),!1)))),H:hourExtracter(datePartGetterFactory(hour12Modify(digitCondition("hour",1),!1))),hh:digitModifier(hourExtracter(datePartGetterFactory(hour12Modify(digitCondition("hour",2),!0)))),h:hourExtracter(datePartGetterFactory(hour12Modify(digitCondition("hour",1),!0))),jj:datePartGetterFactory(digitCondition("hour",2)),j:datePartGetterFactory(digitCondition("hour",1)),mm:digitModifier(datePartGetterFactory(digitCondition("minute",2))),m:datePartGetterFactory(digitCondition("minute",1)),ss:digitModifier(datePartGetterFactory(digitCondition("second",2))),s:datePartGetterFactory(digitCondition("second",1)),sss:datePartGetterFactory(digitCondition("second",3)),EEEE:datePartGetterFactory(nameCondition("weekday",4)),EEE:datePartGetterFactory(nameCondition("weekday",3)),EE:datePartGetterFactory(nameCondition("weekday",2)),E:datePartGetterFactory(nameCondition("weekday",1)),a:hourClockExtracter(datePartGetterFactory(hour12Modify(digitCondition("hour",1),!0))),Z:timeZoneGetter("short"),z:timeZoneGetter("long"),ww:datePartGetterFactory({}),w:datePartGetterFactory({}),G:datePartGetterFactory(nameCondition("era",1)),GG:datePartGetterFactory(nameCondition("era",2)),GGG:datePartGetterFactory(nameCondition("era",3)),GGGG:datePartGetterFactory(nameCondition("era",4))},Q=new Map,J=[].slice,$=function(){function DateFormatter(){}return DateFormatter.format=function(e,t,i){return dateFormatter(i,e,t)},DateFormatter}(),ee=function(){function DatePipe(e){this._locale=e}return DatePipe.prototype.transform=function(e,t){if(void 0===t&&(t="mediumDate"),isBlank(e))return null;if(!this.supports(e))throw new z(DatePipe,e);return u.isNumeric(e)&&(e=parseFloat(e)),$.format(new Date(e),this._locale,DatePipe._ALIASES[t]||t)},DatePipe.prototype.supports=function(e){return isDate(e)||u.isNumeric(e)||"string"==typeof e&&isDate(new Date(e))},DatePipe._ALIASES={medium:"yMMMdjms","short":"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},DatePipe.decorators=[{type:i.Pipe,args:[{name:"date",pure:!0}]}],DatePipe.ctorParameters=[{type:void 0,decorators:[{type:i.Inject,args:[i.LOCALE_ID]}]}],DatePipe}(),te=/#/g,ie=function(){function I18nPluralPipe(e){this._localization=e}return I18nPluralPipe.prototype.transform=function(e,t){if(isBlank(e))return"";if(!isStringMap(t))throw new z(I18nPluralPipe,t);var i=getPluralCategory(e,Object.keys(t),this._localization);return t[i].replace(te,e.toString())},I18nPluralPipe.decorators=[{type:i.Pipe,args:[{name:"i18nPlural",pure:!0}]}],I18nPluralPipe.ctorParameters=[{type:g}],I18nPluralPipe}(),ne=function(){function I18nSelectPipe(){}return I18nSelectPipe.prototype.transform=function(e,t){if(isBlank(e))return"";if(!isStringMap(t))throw new z(I18nSelectPipe,t);return t.hasOwnProperty(e)?t[e]:""},I18nSelectPipe.decorators=[{type:i.Pipe,args:[{name:"i18nSelect",pure:!0}]}],I18nSelectPipe.ctorParameters=[],I18nSelectPipe}(),re=function(){function JsonPipe(){}return JsonPipe.prototype.transform=function(e){return c.stringify(e)},JsonPipe.decorators=[{type:i.Pipe,args:[{name:"json",pure:!1}]}],JsonPipe.ctorParameters=[],JsonPipe}(),oe=function(){function LowerCasePipe(){}return LowerCasePipe.prototype.transform=function(e){if(isBlank(e))return e;if("string"!=typeof e)throw new z(LowerCasePipe,e);return e.toLowerCase()},LowerCasePipe.decorators=[{type:i.Pipe,args:[{name:"lowercase"}]}],LowerCasePipe.ctorParameters=[],LowerCasePipe}(),se=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ae=function(){function DecimalPipe(e){this._locale=e}return DecimalPipe.prototype.transform=function(e,t){return void 0===t&&(t=null),formatNumber(DecimalPipe,this._locale,e,b.Decimal,t)},DecimalPipe.decorators=[{type:i.Pipe,args:[{name:"number"}]}],DecimalPipe.ctorParameters=[{type:void 0,decorators:[{type:i.Inject,args:[i.LOCALE_ID]}]}],DecimalPipe}(),le=function(){function PercentPipe(e){this._locale=e}return PercentPipe.prototype.transform=function(e,t){return void 0===t&&(t=null),formatNumber(PercentPipe,this._locale,e,b.Percent,t)},PercentPipe.decorators=[{type:i.Pipe,args:[{name:"percent"}]}],PercentPipe.ctorParameters=[{type:void 0,decorators:[{type:i.Inject,args:[i.LOCALE_ID]}]}],PercentPipe}(),ue=function(){function CurrencyPipe(e){this._locale=e}return CurrencyPipe.prototype.transform=function(e,t,i,n){return void 0===t&&(t="USD"),void 0===i&&(i=!1),void 0===n&&(n=null),formatNumber(CurrencyPipe,this._locale,e,b.Currency,n,t,i)},CurrencyPipe.decorators=[{type:i.Pipe,args:[{name:"currency"}]}],CurrencyPipe.ctorParameters=[{type:void 0,decorators:[{type:i.Inject,args:[i.LOCALE_ID]}]}],CurrencyPipe}(),ce=function(){function SlicePipe(){}return SlicePipe.prototype.transform=function(e,t,i){if(isBlank(e))return e;if(!this.supports(e))throw new z(SlicePipe,e);return e.slice(t,i)},SlicePipe.prototype.supports=function(e){return"string"==typeof e||Array.isArray(e)},SlicePipe.decorators=[{type:i.Pipe,args:[{name:"slice",pure:!1}]}],SlicePipe.ctorParameters=[],SlicePipe}(),he=function(){function UpperCasePipe(){}return UpperCasePipe.prototype.transform=function(e){if(isBlank(e))return e;if("string"!=typeof e)throw new z(UpperCasePipe,e);return e.toUpperCase()},UpperCasePipe.decorators=[{type:i.Pipe,args:[{name:"uppercase"}]}],UpperCasePipe.ctorParameters=[],UpperCasePipe}(),pe=[q,he,oe,re,ce,ae,le,ue,ee,ie,ne],de=function(){function CommonModule(){}return CommonModule.decorators=[{type:i.NgModule,args:[{declarations:[L,pe],exports:[L,pe],providers:[{provide:g,useClass:_}]}]}],CommonModule.ctorParameters=[],CommonModule}();t.NgLocalization=g,t.CommonModule=de,t.NgClass=C,t.NgFor=E,t.NgIf=P,t.NgPlural=O,t.NgPluralCase=I,t.NgStyle=R,t.NgSwitch=A,t.NgSwitchCase=D,t.NgSwitchDefault=M,t.NgTemplateOutlet=N,t.AsyncPipe=q,t.DatePipe=ee,t.I18nPluralPipe=ie,t.I18nSelectPipe=ne,t.JsonPipe=re,t.LowerCasePipe=oe,t.CurrencyPipe=ue,t.DecimalPipe=ae,t.PercentPipe=le,t.SlicePipe=ce,t.UpperCasePipe=he,t.PlatformLocation=r,t.LocationStrategy=o,t.APP_BASE_HREF=s,t.HashLocationStrategy=f,t.PathLocationStrategy=y,t.Location=p})}).call(t,function(){return this}())},119:function(e,t,i){(function(e){!function(e,n){n(t,i(13))}(this,function(t,i){"use strict";function templateVisitAll(e,t,i){void 0===i&&(i=null);var n=[],r=e.visit?function(t){return e.visit(t,i)||t.visit(e,i)}:function(t){return t.visit(e,i)};return t.forEach(function(e){var t=r(e);t&&n.push(t)}),n}function isPresent(e){return void 0!==e&&null!==e}function isBlank(e){return void 0===e||null===e}function isString(e){return"string"==typeof e}function isStringMap(e){return"object"==typeof e&&null!==e}function isStrictStringMap(e){return isStringMap(e)&&Object.getPrototypeOf(e)===_}function isArray(e){return Array.isArray(e)}function stringify(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.overriddenName)return e.overriddenName;if(e.name)return e.name;var t=e.toString(),i=t.indexOf("\n");return i===-1?t:t.substring(0,i)}function normalizeBlank(e){return isBlank(e)?null:e}function normalizeBool(e){return!isBlank(e)&&e}function isJsObject(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function evalExpression(e,t,i,n){var r=i+"\nreturn "+t+"\n//# sourceURL="+e,o=[],s=[];for(var a in n)o.push(a),s.push(n[a]);return(new(Function.bind.apply(Function,[void 0].concat(o.concat(r))))).apply(void 0,s)}function isPrimitive(e){return!isJsObject(e)}function escapeRegExp(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function _flattenArray(e,t){if(isPresent(e))for(var i=0;i<e.length;i++){var n=e[i];isArray(n)?_flattenArray(n,t):t.push(n)}return t}function splitNsName(e){if(":"!=e[0])return[null,e];var t=e.indexOf(":",1);if(t==-1)throw new Error('Unsupported format "'+e+'" expecting ":namespace:name"');return[e.slice(1,t),e.slice(t+1)]}function getNsPrefix(e){return null===e?null:splitNsName(e)[0]}function mergeNsAndName(e,t){return e?":"+e+":"+t:t}function getHtmlTagDefinition(e){return D[e.toLowerCase()]||M}function replaceVarInExpression(e,t,i){var n=new Fe(e,t);return i.visitExpression(n,null)}function findReadVarNames(e){var t=new je;return t.visitAllStatements(e,null),t.varNames}function variable(e,t){return void 0===t&&(t=null),new $(e,t)}function importExpr(e,t){return void 0===t&&(t=null),new le(e,null,t)}function importType(e,t,i){return void 0===t&&(t=null),void 0===i&&(i=null),isPresent(e)?new H(e,t,i):null}function literalArr(e,t){return void 0===t&&(t=null),new ve(e,t)}function literalMap(e,t){return void 0===t&&(t=null),new ge(e,t)}function not(e){return new ce(e)}function fn(e,t,i){return void 0===i&&(i=null),new de(e,t,i)}function literal(e,t){return void 0===t&&(t=null),new ae(e,t)}function camelCaseToDashCase(e){return e.replace(ze,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return"-"+e[1].toLowerCase()})}function splitAtColon(e,t){return _splitAt(e,":",t)}function splitAtPeriod(e,t){return _splitAt(e,".",t)}function _splitAt(e,t,i){var n=e.indexOf(t);return n==-1?i:[e.slice(0,n).trim(),e.slice(n+1).trim()]}function sanitizeIdentifier(e){return e.replace(/\W/g,"_")}function visitValue(e,t,i){return isArray(e)?t.visitArray(e,i):isStrictStringMap(e)?t.visitStringMap(e,i):isBlank(e)||isPrimitive(e)?t.visitPrimitive(e,i):t.visitOther(e,i)}function assetUrl(e,t,i){return void 0===t&&(t=null),void 0===i&&(i="src"),null==t?"asset:@angular/lib/"+e+"/index":"asset:@angular/lib/"+e+"/src/"+t}function createDiTokenExpression(e){return isPresent(e.value)?literal(e.value):e.identifierIsInstance?importExpr(e.identifier).instantiate([],importType(e.identifier,[],[k.Const])):importExpr(e.identifier)}function unimplemented(){throw new Error("unimplemented")}function createHostComponentMeta(e){var t=I.parse(e.selector)[0].getMatchingElementTemplate();return dt.create({type:new ut({reference:Object,name:e.type.name+"_Host",moduleUrl:e.type.moduleUrl,isHost:!0}),template:new pt({encapsulation:i.ViewEncapsulation.None,template:t,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[],animations:[]}),changeDetection:i.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[]})}function removeIdentifierDuplicates(e){var t=new Map;return e.forEach(function(e){t.get(e.identifier.reference)||t.set(e.identifier.reference,e)}),E.values(t)}function _normalizeArray(e){return e||[]}function isStaticSymbol(e){return isStringMap(e)&&isPresent(e.name)&&isPresent(e.filePath)}function isWhitespace(e){return e>=qt&&e<=Qt||e==Gi}function isDigit(e){return _i<=e&&e<=bi}function isAsciiLetter(e){return e>=Mi&&e<=Bi||e>=wi&&e<=Si}function isAsciiHexDigit(e){return e>=Mi&&e<=Ii||e>=wi&&e<=xi||isDigit(e)}function assertArrayOfStrings(e,t){if(i.isDevMode()&&!isBlank(t)){if(!isArray(t))throw new Error("Expected '"+e+"' to be an array of strings.");for(var n=0;n<t.length;n+=1)if(!isString(t[n]))throw new Error("Expected '"+e+"' to be an array of strings.")}}function assertInterpolationSymbols(e,t){if(isPresent(t)&&(!isArray(t)||2!=t.length))throw new Error("Expected '"+e+"' to be an array, [start, end].");if(i.isDevMode()&&!isBlank(t)){var n=t[0],r=t[1];qi.forEach(function(e){if(e.test(n)||e.test(r))throw new Error("['"+n+"', '"+r+"'] contains unusable interpolation symbol.")})}}function newCharacterToken(e,t){return new Ji(e,Ce.Character,t,String.fromCharCode(t))}function newIdentifierToken(e,t){return new Ji(e,Ce.Identifier,0,t)}function newKeywordToken(e,t){return new Ji(e,Ce.Keyword,0,t)}function newOperatorToken(e,t){return new Ji(e,Ce.Operator,0,t)}function newStringToken(e,t){return new Ji(e,Ce.String,0,t)}function newNumberToken(e,t){return new Ji(e,Ce.Number,t,"")}function newErrorToken(e,t){return new Ji(e,Ce.Error,0,t)}function isIdentifierStart(e){return Mi<=e&&e<=Bi||wi<=e&&e<=Si||e==Di||e==ti}function isIdentifier(e){if(0==e.length)return!1;var t=new en(e);if(!isIdentifierStart(t.peek))return!1;for(t.advance();t.peek!==Ut;){if(!isIdentifierPart(t.peek))return!1;t.advance()}return!0}function isIdentifierPart(e){return isAsciiLetter(e)||isDigit(e)||e==Di||e==ti}function isExponentStart(e){return e==Oi||e==Ci}function isExponentSign(e){return e==ci||e==li}function isQuote(e){return e===ri||e===$t||e===Ui}function unescape(e){switch(e){case Ri:return Yt;case Ii:return Xt;case Ni:return Zt;case Li:return qt;case Fi:return Kt;default:return e}}function _createInterpolateRegExp(e){var t=escapeRegExp(e.start)+"([\\s\\S]*?)"+escapeRegExp(e.end);return new RegExp(t,"g")}function visitAll(e,t,i){void 0===i&&(i=null);var n=[],r=e.visit?function(t){return e.visit(t,i)||t.visit(e,i)}:function(t){return t.visit(e,i)};return t.forEach(function(e){var t=r(e);t&&n.push(t)}),n}function tokenize(e,t,i,n,r){return void 0===n&&(n=!1),void 0===r&&(r=Ki),new Pn(new ln(e,t),i,n,r).tokenize()}function _unexpectedCharacterErrorMsg(e){var t=e===Ut?"EOF":String.fromCharCode(e);return'Unexpected character "'+t+'"'}function _unknownEntityErrorMsg(e){return'Unknown entity "'+e+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function isNotWhitespace(e){return!isWhitespace(e)||e===Ut}function isNameEnd(e){return isWhitespace(e)||e===vi||e===pi||e===ri||e===$t||e===yi}function isPrefixEnd(e){return(e<Mi||Bi<e)&&(e<wi||Si<e)&&(e<_i||e>bi)}function isDigitEntityEnd(e){return e==fi||e==Ut||!isAsciiHexDigit(e)}function isNamedEntityEnd(e){return e==fi||e==Ut||!isAsciiLetter(e)}function isExpansionFormStart(e,t,i){var n=!!i&&e.indexOf(i.start,t)==t;return e.charCodeAt(t)==zi&&!n}function isExpansionCaseStart(e){return e===yi||isAsciiLetter(e)}function compareCharCodeCaseInsensitive(e,t){return toUpperCaseCharCode(e)==toUpperCaseCharCode(t)}function toUpperCaseCharCode(e){return e>=Mi&&e<=Bi?e-Mi+wi:e}function mergeTextTokens(e){for(var t,i=[],n=0;n<e.length;n++){var r=e[n];t&&t.type==cn.TEXT&&r.type==cn.TEXT?(t.parts[0]+=r.parts[0],t.sourceSpan.end=r.sourceSpan.end):(t=r,i.push(t))}return i}function lastOnStack(e,t){return e.length>0&&e[e.length-1]===t}function digestMessage(e){return sha1(serializeNodes(e.nodes).join("")+("["+e.meaning+"]"))}function serializeNodes(e){return e.map(function(e){return e.visit(In,null)})}function sha1(e){var t=utf8Encode(e),i=stringToWords32(t),n=8*t.length,r=new Array(80),o=[1732584193,4023233417,2562383102,271733878,3285377520],s=o[0],a=o[1],l=o[2],u=o[3],c=o[4];i[n>>5]|=128<<24-n%32,i[(n+64>>9<<4)+15]=n;for(var h=0;h<i.length;h+=16){for(var p=[s,a,l,u,c],d=p[0],f=p[1],m=p[2],y=p[3],v=p[4],g=0;g<80;g++){g<16?r[g]=i[h+g]:r[g]=rol32(r[g-3]^r[g-8]^r[g-14]^r[g-16],1);var _=fk(g,a,l,u),b=_[0],w=_[1],C=[rol32(s,5),b,c,w,r[g]].reduce(add32);P=[u,l,rol32(a,30),s,C],c=P[0],u=P[1],l=P[2],a=P[3],s=P[4]}k=[add32(s,d),add32(a,f),add32(l,m),add32(u,y),add32(c,v)],s=k[0],a=k[1],l=k[2],u=k[3],c=k[4]}for(var x=words32ToString([s,a,l,u,c]),E="",h=0;h<x.length;h++){var S=x.charCodeAt(h);E+=(S>>>4&15).toString(16)+(15&S).toString(16)}return E.toLowerCase();var P,k}function utf8Encode(e){for(var t="",i=0;i<e.length;i++){var n=decodeSurrogatePairs(e,i);n<=127?t+=String.fromCharCode(n):n<=2047?t+=String.fromCharCode(192|n>>>6,128|63&n):n<=65535?t+=String.fromCharCode(224|n>>>12,128|n>>>6&63,128|63&n):n<=2097151&&(t+=String.fromCharCode(240|n>>>18,128|n>>>12&63,128|n>>>6&63,128|63&n))}return t}function decodeSurrogatePairs(e,t){if(t<0||t>=e.length)throw new Error("index="+t+' is out of range in "'+e+'"');var i,n=e.charCodeAt(t);return n>=55296&&n<=57343&&e.length>t+1&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?1024*(n-55296)+i-56320+65536:n}function stringToWords32(e){for(var t=Array(e.length>>>2),i=0;i<t.length;i++)t[i]=0;for(var i=0;i<e.length;i++)t[i>>>2]|=(255&e.charCodeAt(i))<<8*(3-i&3);return t}function words32ToString(e){for(var t="",i=0;i<4*e.length;i++)t+=String.fromCharCode(e[i>>>2]>>>8*(3-i&3)&255);return t}function fk(e,t,i,n){return e<20?[t&i|~t&n,1518500249]:e<40?[t^i^n,1859775393]:e<60?[t&i|t&n|i&n,2400959708]:[t^i^n,3395469782]}function add32(e,t){var i=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(i>>16);return n<<16|65535&i}function rol32(e,t){return e<<t|e>>>32-t}function createI18nMessageFactory(e){var t=new Gn(Wn,e);return function(e,i,n){return t.toI18nMessage(e,i,n)}}function _extractPlaceholderName(e){return e.split(Un)[1]}function extractMessages(e,t,i,n){var r=new $n(i,n);return r.extract(e,t)}function mergeTranslations(e,t,i,n,r){var o=new $n(n,r);return o.merge(e,t,i)}function _isOpeningComment(e){return e instanceof gn&&e.value&&e.value.startsWith("i18n")}function _isClosingComment(e){return e instanceof gn&&e.value&&"/i18n"===e.value}function _getI18nAttr(e){return e.attrs.find(function(e){return e.name===Kn})||null}function _splitMeaningAndDesc(e){if(!e)return["",""];var t=e.indexOf("|");return t==-1?["",e]:[e.slice(0,t),e.slice(t+1)]}function getXmlTagDefinition(e){return ir}function extractPlaceholders(e){var t=e.getMessageMap(),i={};return Object.keys(t).forEach(function(e){i[e]=t[e].placeholders}),i}function extractPlaceholderToIds(e){var t=e.getMessageMap(),i={};return Object.keys(t).forEach(function(e){i[e]=t[e].placeholderToMsgIds}),i}function serialize(e){return e.map(function(e){return e.visit(ar)}).join("")}function _escapeXml(e){return dr.reduce(function(e,t){return e.replace(t[0],t[1])},e)}function getCtypeForTag(e){switch(e.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-"+e}}function resolveIdentifier(e){return new rt({name:e.name,moduleUrl:e.moduleUrl,reference:Co.resolveIdentifier(e.name,e.moduleUrl,e.runtime)})}function identifierToken(e){return new lt({identifier:e})}function resolveIdentifierToken(e){return identifierToken(resolveIdentifier(e))}function resolveEnumIdentifier(e,t){var i=Co.resolveEnum(e.reference,t);return new rt({name:e.name+"."+t,moduleUrl:e.moduleUrl,reference:i})}function expandNodes(e){var t=new Qo;return new Xo(visitAll(t,e),t.isExpanded,t.errors)}function _expandPluralForm(e,t){var i=e.cases.map(function(e){Ko.indexOf(e.value)!=-1||e.value.match(/^=\d+$/)||t.push(new Zo(e.valueSourceSpan,'Plural cases should be "=<number>" or one of '+Ko.join(", ")));var i=expandNodes(e.expression);return t.push.apply(t,i.errors),new vn("template",[new yn("ngPluralCase",""+e.value,e.valueSourceSpan)],i.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),n=new yn("[ngPlural]",e.switchValue,e.switchValueSourceSpan);return new vn("ng-container",[n],i,e.sourceSpan,e.sourceSpan,e.sourceSpan)}function _expandDefaultForm(e,t){var i=e.cases.map(function(e){var i=expandNodes(e.expression);return t.push.apply(t,i.errors),new vn("template",[new yn("ngSwitchCase",""+e.value,e.valueSourceSpan)],i.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),n=new yn("[ngSwitch]",e.switchValue,e.switchValueSourceSpan);return new vn("ng-container",[n],i,e.sourceSpan,e.sourceSpan,e.sourceSpan)}function _transformProvider(e,t){var i=t.useExisting,n=t.useValue,r=t.deps;return new st({token:e.token,useClass:e.useClass,useExisting:i,useFactory:e.useFactory,useValue:n,deps:r,multi:e.multi})}function _transformProviderAst(e,t){var i=t.eager,n=t.providers;return new f(e.token,e.multiProvider,e.eager||i,n,e.providerType,e.lifecycleHooks,e.sourceSpan)}function _normalizeProviders(e,t,i,n){return void 0===n&&(n=null),n||(n=[]),isPresent(e)&&e.forEach(function(e){if(isArray(e))_normalizeProviders(e,t,i,n);else{var r=void 0;e instanceof st?r=e:e instanceof ut?r=new st({token:new lt({identifier:e}),useClass:e}):i.push(new $o("Unknown provider type "+e,t)),isPresent(r)&&n.push(r)}}),n}function _resolveProvidersFromDirectives(e,i,n){var r=new Map;e.forEach(function(e){var o=new st({token:new lt({identifier:e.type}),useClass:e.type});_resolveProviders([o],e.isComponent?t.ProviderAstType.Component:t.ProviderAstType.Directive,!0,i,n,r)});var o=e.filter(function(e){return e.isComponent}).concat(e.filter(function(e){return!e.isComponent}));return o.forEach(function(e){_resolveProviders(_normalizeProviders(e.providers,i,n),t.ProviderAstType.PublicService,!1,i,n,r),_resolveProviders(_normalizeProviders(e.viewProviders,i,n),t.ProviderAstType.PrivateService,!1,i,n,r)}),r}function _resolveProviders(e,t,i,n,r,o){e.forEach(function(e){var s=o.get(e.token.reference);if(isPresent(s)&&s.multiProvider!==e.multi&&r.push(new $o("Mixing multi and non multi provider is not possible for token "+s.token.name,n)),s)e.multi||P.clear(s.providers),s.providers.push(e);else{var a=e.token.identifier&&e.token.identifier instanceof ut?e.token.identifier.lifecycleHooks:[];s=new f(e.token,e.multi,i||a.length>0,[e],t,a,n),o.set(e.token.reference,s)}})}function _getViewQueries(e){var t=new Map;return isPresent(e.viewQueries)&&e.viewQueries.forEach(function(e){return _addQueryToTokenMap(t,e)}),e.type.diDeps.forEach(function(e){isPresent(e.viewQuery)&&_addQueryToTokenMap(t,e.viewQuery)}),t}function _getContentQueries(e){var t=new Map;return e.forEach(function(e){isPresent(e.queries)&&e.queries.forEach(function(e){return _addQueryToTokenMap(t,e)}),e.type.diDeps.forEach(function(e){isPresent(e.query)&&_addQueryToTokenMap(t,e.query)})}),t}function _addQueryToTokenMap(e,t){t.selectors.forEach(function(i){var n=e.get(i.reference);n||(n=[],e.set(i.reference,n)),n.push(t)})}function isStyleUrlResolvable(e){if(isBlank(e)||0===e.length||"/"==e[0])return!1;var t=e.match(ss);return null===t||"package"==t[1]||"asset"==t[1]}function extractStyleUrls(e,t,i){var n=[],r=i.replace(os,function(){for(var i=[],r=0;r<arguments.length;r++)i[r-0]=arguments[r];var o=i[1]||i[2];return isStyleUrlResolvable(o)?(n.push(e.resolve(t,o)),""):i[0]});return new rs(r,n)}function preparseElement(e){var t=null,i=null,n=null,r=!1,o=null;e.attrs.forEach(function(e){var s=e.name.toLowerCase();s==as?t=e.value:s==hs?i=e.value:s==cs?n=e.value:e.name==ms?r=!0:e.name==ys&&e.value.length>0&&(o=e.value)}),t=normalizeNgContentSelect(t);var s=e.name.toLowerCase(),a=Jn.OTHER;return splitNsName(s)[1]==ls?a=Jn.NG_CONTENT:s==ds?a=Jn.STYLE:s==fs?a=Jn.SCRIPT:s==us&&n==ps&&(a=Jn.STYLESHEET),new gs(a,t,i,r,o)}function normalizeNgContentSelect(e){return null===e||0===e.length?"*":e}function splitClasses(e){return e.trim().split(/\s+/g)}function createElementCssSelector(e,t){var i=new I,n=splitNsName(e)[1];i.setElement(n);for(var r=0;r<t.length;r++){var o=t[r][0],s=splitNsName(o)[1],a=t[r][1];if(i.addAttribute(s,a),o.toLowerCase()==Ns){var l=splitClasses(a);l.forEach(function(e){return i.addClassName(e)})}}return i}function _isAnimationLabel(e){return"@"==e[0]}function _isEmptyTextNode(e){return e instanceof pn&&0==e.value.trim().length}function unimplemented$1(){throw new Error("unimplemented")}function _compareToAnimationStateExpr(e,t){var i=literal(Oo);switch(t){case Oo:return e.equals(i);case Do:return literal(!0);default:return e.equals(literal(t))}}function _isEndStateAnimateStep(e){if(e instanceof ua&&e.duration>0&&2==e.keyframes.length){var t=_getStylesArray(e.keyframes[0])[0],i=_getStylesArray(e.keyframes[1])[0];return 0===Object.keys(t).length&&0===Object.keys(i).length}return!1}function _getStylesArray(e){return e.styles.styles}function _parseAnimationDeclarationStates(e,t){var i=[];e.styles.styles.forEach(function(e){isStringMap(e)?i.push(e):t.push(new ja("State based animations cannot contain references to other states"))});var n=new ca(i),r=e.stateNameExpr.split(/\s*,\s*/);return r.map(function(e){return new sa(e,n)})}function _parseAnimationStateTransition(e,t,i){var n=new Ra,r=[],o=e.stateChangeExpr.split(/\s*,\s*/);o.forEach(function(e){r.push.apply(r,_parseAnimationTransitionExpr(e,i))});var s=_normalizeAnimationEntry(e.steps),a=_normalizeStyleSteps(s,t,i),l=_parseTransitionAnimation(a,0,n,t,i);0==i.length&&_fillAnimationAstStartingKeyframes(l,n,i);var u=l instanceof pa?l:new fa([l]);return new la(r,u)}function _parseAnimationAlias(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";default:return t.push(new ja('the transition alias value "'+e+'" is not supported')),"* => *"}}function _parseAnimationTransitionExpr(e,t){var i=[];":"==e[0]&&(e=_parseAnimationAlias(e,t));var n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(!isPresent(n)||n.length<4)return t.push(new ja("the provided "+e+" is not of a supported format")),i;var r=n[1],o=n[2],s=n[3];i.push(new aa(r,s));var a=r==Do&&s==Do;return"<"!=o[0]||a||i.push(new aa(s,r)),i}function _normalizeAnimationEntry(e){return isArray(e)?new it(e):e}function _normalizeStyleMetadata(e,t,i){var n=[];return e.styles.forEach(function(e){isString(e)?P.addAll(n,_resolveStylesFromState(e,t,i)):n.push(e)}),n}function _normalizeStyleSteps(e,t,i){var n=_normalizeStyleStepEntry(e,t,i);return e instanceof nt?new nt(n):new it(n)}function _mergeAnimationStyles(e,t){if(isStringMap(t)&&e.length>0){var i=e.length-1,n=e[i];if(isStringMap(n))return void(e[i]=S.merge(n,t))}e.push(t)}function _normalizeStyleStepEntry(e,t,i){var n;if(!(e instanceof tt))return[e];n=e.steps;var r,o=[];return n.forEach(function(e){if(e instanceof $e)isPresent(r)||(r=[]),_normalizeStyleMetadata(e,t,i).forEach(function(e){_mergeAnimationStyles(r,e)});else{if(isPresent(r)&&(o.push(new $e(0,r)),r=null),e instanceof et){var n=e.styles;n instanceof $e?n.styles=_normalizeStyleMetadata(n,t,i):n instanceof Je&&n.steps.forEach(function(e){e.styles=_normalizeStyleMetadata(e,t,i)})}else if(e instanceof tt){var s=_normalizeStyleStepEntry(e,t,i);e=e instanceof nt?new nt(s):new it(s)}o.push(e)}}),isPresent(r)&&o.push(new $e(0,r)),o}function _resolveStylesFromState(e,t,i){var n=[];if(":"!=e[0])i.push(new ja('Animation states via styles must be prefixed with a ":"'));else{var r=e.substring(1),o=t[r];isPresent(o)?o.styles.forEach(function(e){isStringMap(e)&&n.push(e)}):i.push(new ja('Unable to apply styles due to missing a state: "'+r+'"'))}return n}function _parseAnimationKeyframes(e,t,i,n,r){var o=e.steps.length,s=0;e.steps.forEach(function(e){return s+=isPresent(e.offset)?1:0}),s>0&&s<o&&(r.push(new ja("Not all style() entries contain an offset for the provided keyframe()")),s=o);var a=o-1,l=0==s?1/a:0,u=[],c=0,h=!1,p=0;e.steps.forEach(function(e){var t=e.offset,i={};e.styles.forEach(function(e){Object.keys(e).forEach(function(t){"offset"!=t&&(i[t]=e[t])})}),isPresent(t)?h=h||t<p:t=c==a?Va:l*c,u.push([t,i]),p=t,c++}),h&&P.sort(u,function(e,t){return e[0]<=t[0]?-1:1});var d=u[0];d[0]!=La&&P.insert(u,0,d=[La,{}]);var f=d[1];a=u.length-1;var m=u[a];m[0]!=Va&&(u.push(m=[Va,{}]),a++);for(var y=m[1],v=1;v<=a;v++){var g=u[v],_=g[1];Object.keys(_).forEach(function(e){isPresent(f[e])||(f[e]=Io)})}for(var b=function(e){var t=u[e],i=t[1];Object.keys(i).forEach(function(e){isPresent(y[e])||(y[e]=i[e])})},v=a-1;v>=0;v--)b(v);return u.map(function(e){return new ha(e[0],new ca([e[1]]))})}function _parseTransitionAnimation(e,t,i,n,r){var o,s=0,a=t;if(e instanceof tt){var l,u=0,c=[],h=e instanceof nt;if(e.steps.forEach(function(e){var o=h?a:t;if(e instanceof $e)return e.styles.forEach(function(e){var t=e;Object.keys(t).forEach(function(e){i.insertAtTime(e,o,t[e])})}),void(l=e.styles);var p=_parseTransitionAnimation(e,o,i,n,r);if(isPresent(l)){if(e instanceof tt){var d=new ca(l);c.push(new ua(d,[],0,0,""))}else{var f=p;P.addAll(f.startingStyles.styles,l)}l=null}var m=p.playTime;t+=m,s+=m,u=Oa.max(m,u),c.push(p)}),isPresent(l)){var p=new ca(l);c.push(new ua(p,[],0,0,""))}h?(o=new da(c),s=u,t=a+s):o=new fa(c)}else if(e instanceof et){var d,f=_parseTimeExpression(e.timings,r),m=e.styles;if(m instanceof Je)d=_parseAnimationKeyframes(m,t,i,n,r);else{var y=m,v=Va,g=new ca(y.styles),_=new ha(v,g);d=[_]}
o=new ua(new ca([]),d,f.duration,f.delay,f.easing),s=f.duration+f.delay,t+=s,d.forEach(function(e){return e.styles.styles.forEach(function(e){return Object.keys(e).forEach(function(n){i.insertAtTime(n,t,e[n])})})})}else o=new ua(null,[],0,0,"");return o.playTime=s,o.startTime=a,o}function _fillAnimationAstStartingKeyframes(e,t,i){if(e instanceof ua&&e.keyframes.length>0){var n=e.keyframes;if(1==n.length){var r=n[0],o=_createStartKeyframeFromEndKeyframe(r,e.startTime,e.playTime,t,i);e.keyframes=[o,r]}}else e instanceof pa&&e.steps.forEach(function(e){return _fillAnimationAstStartingKeyframes(e,t,i)})}function _parseTimeExpression(e,t){var i,n=/^([\.\d]+)(m?s)(?:\s+([\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?/i,r=0,o=null;if(isString(e)){var s=e.match(n);if(null===s)return t.push(new ja('The provided timing value "'+e+'" is invalid.')),new Ha(0,0,null);var a=parseFloat(s[1]),l=s[2];"s"==l&&(a*=Fa),i=Oa.floor(a);var u=s[3],c=s[4];if(isPresent(u)){var h=parseFloat(u);isPresent(c)&&"s"==c&&(h*=Fa),r=Oa.floor(h)}var p=s[5];isBlank(p)||(o=p)}else i=e;return new Ha(i,r,o)}function _createStartKeyframeFromEndKeyframe(e,t,i,n,r){var o={},s=t+i;return e.styles.styles.forEach(function(e){Object.keys(e).forEach(function(i){var a=e[i];if("offset"!=i){var l,u,c,h=n.indexOfAtOrBeforeTime(i,t);isPresent(h)?(l=n.getByIndex(i,h),c=l.value,u=n.getByIndex(i,h+1)):c=Io,isPresent(u)&&!u.matches(s,a)&&r.push(new ja('The animated CSS property "'+i+'" unexpectedly changes between steps "'+l.time+'ms" and "'+s+'ms" at "'+u.time+'ms"')),o[i]=c}})}),new ha(La,new ca([o]))}function convertValueToOutputAst(e,t){return void 0===t&&(t=null),visitValue(e,new Wa,t)}function getPropertyInView(e,t,i){if(t===i)return e;for(var n=_e,r=t;r!==i&&isPresent(r.declarationElement.view);)r=r.declarationElement.view,n=n.prop("parent");if(r!==i)throw new Error("Internal error: Could not calculate a property in a parent view: "+e);if(e instanceof me){var o=e;(i.fields.some(function(e){return e.name==o.name})||i.getters.some(function(e){return e.name==o.name}))&&(n=n.cast(i.classType))}return replaceVarInExpression(_e.name,n,e)}function injectFromViewParentInjector(e,t){var i=[createDiTokenExpression(e)];return t&&i.push(we),_e.prop("parentInjector").callMethod("get",i)}function getViewFactoryName(e,t){return"viewFactory_"+e.type.name+t}function createFlatArray(e){for(var t=[],i=literalArr([]),n=0;n<e.length;n++){var r=e[n];r.type instanceof W?(t.length>0&&(i=i.callMethod(J.ConcatArray,[literalArr(t)]),t=[]),i=i.callMethod(J.ConcatArray,[r])):t.push(r)}return t.length>0&&(i=i.callMethod(J.ConcatArray,[literalArr(t)])),i}function createPureProxy(e,t,i,n){n.fields.push(new Ae(i.name,null));var r=t<Go.pureProxies.length?Go.pureProxies[t]:null;if(!r)throw new Error("Unsupported number of argument for pure functions: "+t);n.createMethod.addStmt(_e.prop(i.name).set(importExpr(resolveIdentifier(r)).callFn([e])).toStmt())}function createQueryValues(e){return P.flatten(e.values.map(function(e){return e instanceof Ya?mapNestedViews(e.view.declarationElement.appElement,e.view,createQueryValues(e)):e}))}function mapNestedViews(e,t,i){var n=i.map(function(e){return replaceVarInExpression(_e.name,variable("nestedView"),e)});return e.callMethod("mapNestedViews",[variable(t.className),fn([new pe("nestedView",t.classType)],[new ke(literalArr(n))],U)])}function createQueryList(e,t,i,n){n.fields.push(new Ae(i,importType(resolveIdentifier(Go.QueryList),[U])));var r=_e.prop(i);return n.createMethod.addStmt(_e.prop(i).set(importExpr(resolveIdentifier(Go.QueryList),[U]).instantiate([])).toStmt()),r}function addQueryToTokenMap(e,t){t.meta.selectors.forEach(function(i){var n=e.get(i.reference);n||(n=[],e.set(i.reference,n)),n.push(t)})}function _enumExpression(e,t){return importExpr(resolveEnumIdentifier(e,t))}function createInjectInternalCondition(e,t,i,n){var r;return r=t>0?literal(e).lowerEquals(tl.requestNodeIndex).and(tl.requestNodeIndex.lowerEquals(literal(e+t))):literal(e).identical(tl.requestNodeIndex),new Ie(tl.token.identical(createDiTokenExpression(i.token)).and(r),[new ke(n)])}function createProviderProperty(e,t,i,n,r,o){var s,a,l=o.view;if(n?(s=literalArr(i),a=new W(U)):(s=i[0],a=i[0].type),a||(a=U),r)l.fields.push(new Ae(e,a)),l.createMethod.addStmt(_e.prop(e).set(s).toStmt());else{var u="_"+e;l.fields.push(new Ae(u,a));var c=new qa(l);c.resetDebugInfo(o.nodeIndex,o.sourceAst),c.addStmt(new Ie(_e.prop(u).isBlank(),[_e.prop(u).set(s).toStmt()])),c.addStmt(new ke(_e.prop(u))),l.getters.push(new Me(e,c.finish(),a))}return _e.prop(e)}function _findPipeMeta(e,t){for(var i=null,n=e.pipeMetas.length-1;n>=0;n--){var r=e.pipeMetas[n];if(r.name==t){i=r;break}}if(!i)throw new Error("Illegal state: Could not find pipe "+t+" although the parser should have detected this error!");return i}function getViewType(e,t){return t>0?Xr.EMBEDDED:e.type.isHost?Xr.HOST:Xr.COMPONENT}function convertCdExpressionToIr(e,t,i,n,r){var o=new pl(e,t,n,r),s=i.visit(o,vs.Expression);return new cl(s,o.needsValueUnwrapper,o.temporaryCount)}function convertCdStatementToIr(e,t,i,n){var r=new pl(e,t,null,n),o=[];return flattenStatements(i.visit(r,vs.Statement),o),prependTemporaryDecls(r.temporaryCount,n,o),o}function temporaryName(e,t){return"tmp_"+e+"_"+t}function temporaryDeclaration(e,t){return new Ee(temporaryName(e,t),we)}function prependTemporaryDecls(e,t,i){for(var n=e-1;n>=0;n--)i.unshift(temporaryDeclaration(t,n))}function ensureStatementMode(e,t){if(e!==vs.Statement)throw new Error("Expected a statement, but saw "+t)}function ensureExpressionMode(e,t){if(e!==vs.Expression)throw new Error("Expected an expression, but saw "+t)}function convertToStatementIfNeeded(e,t){return e===vs.Statement?t.toStmt():t}function flattenStatements(e,t){isArray(e)?e.forEach(function(e){return flattenStatements(e,t)}):t.push(e)}function collectEventListeners(e,t,i){var n=[];return e.forEach(function(e){i.view.bindings.push(new ul(i,e));var t=dl.getOrCreate(i,e.target,e.name,e.phase,n);t.addAction(e,null,null)}),t.forEach(function(e){var t=i.instances.get(identifierToken(e.directive.type).reference);e.hostEvents.forEach(function(r){i.view.bindings.push(new ul(i,r));var o=dl.getOrCreate(i,r.target,r.name,r.phase,n);o.addAction(r,e.directive,t)})}),n.forEach(function(e){return e.finishMethod()}),n}function bindDirectiveOutputs(e,t,i){Object.keys(e.directive.outputs).forEach(function(n){var r=e.directive.outputs[n];i.filter(function(e){return e.eventName==r}).forEach(function(e){e.listenToDirective(t,n)})})}function bindRenderOutputs(e){e.forEach(function(e){e.eventPhase?e.listenToAnimation():e.listenToRenderer()})}function convertStmtIntoExpression(e){return e instanceof Pe?e.expr:e instanceof ke?e.value:null}function sanitizeEventName(e){return e.replace(/[^a-zA-Z_]/g,"_")}function bindDirectiveDetectChangesLifecycleCallbacks(e,t,i){var n=i.view,r=n.detectChangesInInputsMethod,o=e.directive.type.lifecycleHooks;o.indexOf(Br.OnChanges)!==-1&&e.inputs.length>0&&r.addStmt(new Ie(il.changes.notIdentical(we),[t.callMethod("ngOnChanges",[il.changes]).toStmt()])),o.indexOf(Br.OnInit)!==-1&&r.addStmt(new Ie(fl.and(ml),[t.callMethod("ngOnInit",[]).toStmt()])),o.indexOf(Br.DoCheck)!==-1&&r.addStmt(new Ie(ml,[t.callMethod("ngDoCheck",[]).toStmt()]))}function bindDirectiveAfterContentLifecycleCallbacks(e,t,i){var n=i.view,r=e.type.lifecycleHooks,o=n.afterContentLifecycleCallbacksMethod;o.resetDebugInfo(i.nodeIndex,i.sourceAst),r.indexOf(Br.AfterContentInit)!==-1&&o.addStmt(new Ie(fl,[t.callMethod("ngAfterContentInit",[]).toStmt()])),r.indexOf(Br.AfterContentChecked)!==-1&&o.addStmt(t.callMethod("ngAfterContentChecked",[]).toStmt())}function bindDirectiveAfterViewLifecycleCallbacks(e,t,i){var n=i.view,r=e.type.lifecycleHooks,o=n.afterViewLifecycleCallbacksMethod;o.resetDebugInfo(i.nodeIndex,i.sourceAst),r.indexOf(Br.AfterViewInit)!==-1&&o.addStmt(new Ie(fl,[t.callMethod("ngAfterViewInit",[]).toStmt()])),r.indexOf(Br.AfterViewChecked)!==-1&&o.addStmt(t.callMethod("ngAfterViewChecked",[]).toStmt())}function bindInjectableDestroyLifecycleCallbacks(e,t,i){var n=i.view.destroyMethod;n.resetDebugInfo(i.nodeIndex,i.sourceAst),e.lifecycleHooks.indexOf(Br.OnDestroy)!==-1&&n.addStmt(t.callMethod("ngOnDestroy",[]).toStmt())}function bindPipeDestroyLifecycleCallbacks(e,t,i){var n=i.destroyMethod;e.type.lifecycleHooks.indexOf(Br.OnDestroy)!==-1&&n.addStmt(t.callMethod("ngOnDestroy",[]).toStmt())}function createBindFieldExpr(e){return _e.prop("_expr_"+e)}function createCurrValueExpr(e){return variable("currVal_"+e)}function bind(e,t,i,n,r,o,s,a){var l=convertCdExpressionToIr(e,r,n,il.valUnwrapper,a);if(l.expression){if(l.temporaryCount)for(var u=0;u<l.temporaryCount;u++)s.addStmt(temporaryDeclaration(a,u));if(e.fields.push(new Ae(i.name,null,[ne.Private])),e.createMethod.addStmt(_e.prop(i.name).set(importExpr(resolveIdentifier(Go.UNINITIALIZED))).toStmt()),l.needsValueUnwrapper){var c=il.valUnwrapper.callMethod("reset",[]).toStmt();s.addStmt(c)}s.addStmt(t.set(l.expression).toDeclStmt(null,[ne.Final]));var h=importExpr(resolveIdentifier(Go.checkBinding)).callFn([il.throwOnChange,i,t]);l.needsValueUnwrapper&&(h=il.valUnwrapper.prop("hasWrappedValue").or(h)),s.addStmt(new Ie(h,o.concat([_e.prop(i.name).set(t).toStmt()])))}}function bindRenderText(e,t,i){var n=i.bindings.length;i.bindings.push(new ul(t,e));var r=createCurrValueExpr(n),o=createBindFieldExpr(n);i.detectChangesRenderPropertiesMethod.resetDebugInfo(t.nodeIndex,e),bind(i,r,o,e.value,i.componentContext,[_e.prop("renderer").callMethod("setText",[t.renderNode,r]).toStmt()],i.detectChangesRenderPropertiesMethod,n)}function bindAndWriteToRenderer(e,i,n,r){var o=n.view,s=n.renderNode;e.forEach(function(e){var a=o.bindings.length;o.bindings.push(new ul(n,e)),o.detectChangesRenderPropertiesMethod.resetDebugInfo(n.nodeIndex,e);var l=createBindFieldExpr(a),u=createCurrValueExpr(a),c=sanitizedValue(e,l),h=sanitizedValue(e,u),p=[],d=o.detectChangesRenderPropertiesMethod;switch(e.type){case t.PropertyBindingType.Property:o.genConfig.logBindingUpdate&&p.push(logBindingUpdateStmt(s,e.name,h)),p.push(_e.prop("renderer").callMethod("setElementProperty",[s,literal(e.name),h]).toStmt());break;case t.PropertyBindingType.Attribute:h=h.isBlank().conditional(we,h.callMethod("toString",[])),p.push(_e.prop("renderer").callMethod("setElementAttribute",[s,literal(e.name),h]).toStmt());break;case t.PropertyBindingType.Class:p.push(_e.prop("renderer").callMethod("setElementClass",[s,literal(e.name),h]).toStmt());break;case t.PropertyBindingType.Style:var f=h.callMethod("toString",[]);isPresent(e.unit)&&(f=f.plus(literal(e.unit))),h=h.isBlank().conditional(we,f),p.push(_e.prop("renderer").callMethod("setElementStyle",[s,literal(e.name),h]).toStmt());break;case t.PropertyBindingType.Animation:var m=e.name,y=_e;r&&(y=n.appElement.prop("componentView")),d=o.animationBindingsMethod;var v=y.prop("componentType").prop("animations").key(literal(m)),g=literal(Oo),_=variable("oldRenderVar");p.push(_.set(c).toDeclStmt()),p.push(new Ie(_.equals(importExpr(resolveIdentifier(Go.UNINITIALIZED))),[_.set(g).toStmt()]));var b=variable("newRenderVar");p.push(b.set(h).toDeclStmt()),p.push(new Ie(b.equals(importExpr(resolveIdentifier(Go.UNINITIALIZED))),[b.set(g).toStmt()])),p.push(v.callFn([_e,s,_,b]).toStmt()),o.detachMethod.addStmt(v.callFn([_e,s,c,g]).toStmt())}bind(o,u,l,e.value,i,p,d,o.bindings.length)})}function sanitizedValue(e,t){var n;switch(e.securityContext){case i.SecurityContext.NONE:return t;case i.SecurityContext.HTML:n="HTML";break;case i.SecurityContext.STYLE:n="STYLE";break;case i.SecurityContext.SCRIPT:n="SCRIPT";break;case i.SecurityContext.URL:n="URL";break;case i.SecurityContext.RESOURCE_URL:n="RESOURCE_URL";break;default:throw new Error("internal error, unexpected SecurityContext "+e.securityContext+".")}var r=$a.viewUtils.prop("sanitizer"),o=[importExpr(resolveIdentifier(Go.SecurityContext)).prop(n),t];return r.callMethod("sanitize",o)}function bindRenderInputs(e,t){bindAndWriteToRenderer(e,t.view.componentContext,t,!1)}function bindDirectiveHostProps(e,t,i){bindAndWriteToRenderer(e.hostProperties,t,i,!0)}function bindDirectiveInputs(e,t,i){if(0!==e.inputs.length){var n=i.view,r=n.detectChangesInInputsMethod;r.resetDebugInfo(i.nodeIndex,i.sourceAst);var o=e.directive.type.lifecycleHooks,s=o.indexOf(Br.OnChanges)!==-1,a=e.directive.isComponent&&!Fr(e.directive.changeDetection);s&&r.addStmt(il.changes.set(we).toStmt()),a&&r.addStmt(il.changed.set(literal(!1)).toStmt()),e.inputs.forEach(function(e){var o=n.bindings.length;n.bindings.push(new ul(i,e)),r.resetDebugInfo(i.nodeIndex,e);var l=createBindFieldExpr(o),u=createCurrValueExpr(o),c=[t.prop(e.directiveName).set(u).toStmt()];s&&(c.push(new Ie(il.changes.identical(we),[il.changes.set(literalMap([],new G(importType(resolveIdentifier(Go.SimpleChange))))).toStmt()])),c.push(il.changes.key(literal(e.directiveName)).set(importExpr(resolveIdentifier(Go.SimpleChange)).instantiate([l,u])).toStmt())),a&&c.push(il.changed.set(literal(!0)).toStmt()),n.genConfig.logBindingUpdate&&c.push(logBindingUpdateStmt(i.renderNode,e.directiveName,u)),bind(n,u,l,e.value,n.componentContext,c,r,o)}),a&&r.addStmt(new Ie(il.changed,[i.appElement.prop("componentView").callMethod("markAsCheckOnce",[]).toStmt()]))}}function logBindingUpdateStmt(e,t,i){var n=_e.prop("renderer").callMethod("setBindingDebugInfo",[e,literal("ng-reflect-"+camelCaseToDashCase(t)),i.isBlank().conditional(we,i.callMethod("toString",[]))]).toStmt(),r=_e.prop("renderer").callMethod("setBindingDebugInfo",[e,literal("ng-reflect-"+camelCaseToDashCase(t)),literal("[ERROR] Exception while trying to serialize the value")]).toStmt();return new Re([n],[r])}function bindView(e,t){var i=new yl(e);templateVisitAll(i,t),e.pipes.forEach(function(e){bindPipeDestroyLifecycleCallbacks(e.meta,e.instance,e.view)})}function buildView(e,t,i){var n=new Sl(e,i);return templateVisitAll(n,t,e.declarationElement.isNull()?e.declarationElement:e.declarationElement.parent),n.nestedViewCount}function finishView(e,t){e.afterNodes(),createViewTopLevelStmts(e,t),e.nodes.forEach(function(e){e instanceof ol&&e.hasEmbeddedView&&finishView(e.embeddedView,t)})}function _getOuterContainerOrSelf(e){for(var t=e.view;_isNgContainer(e.parent,t);)e=e.parent;return e}function _getOuterContainerParentOrSelf(e){for(var t=e.view;_isNgContainer(e,t);)e=e.parent;return e}function _isNgContainer(e,t){return!e.isNull()&&e.sourceAst.name===bl&&e.view===t}function _mergeHtmlAndDirectiveAttrs(e,t){var i={};return Object.keys(e).forEach(function(t){i[t]=e[t]}),t.forEach(function(e){Object.keys(e.hostAttributes).forEach(function(t){var n=e.hostAttributes[t],r=i[t];i[t]=isPresent(r)?mergeAttributeValue(t,r,n):n})}),mapToKeyValueArray(i)}function _readHtmlAttrs(e){var t={};return e.forEach(function(e){t[e.name]=e.value}),t}function mergeAttributeValue(e,t,i){return e==gl||e==_l?t+" "+i:i}function mapToKeyValueArray(e){var t=[];return Object.keys(e).forEach(function(i){t.push([i,e[i]])}),P.sort(t),t}function createViewTopLevelStmts(e,t){var i=we;e.genConfig.genDebugInfo&&(i=variable("nodeDebugInfos_"+e.component.type.name+e.viewIndex),t.push(i.set(literalArr(e.nodes.map(createStaticNodeDebugInfo),new W(new H(resolveIdentifier(Go.StaticNodeDebugInfo)),[k.Const]))).toDeclStmt(null,[ne.Final])));var n=variable("renderType_"+e.component.type.name);0===e.viewIndex&&t.push(n.set(we).toDeclStmt(importType(resolveIdentifier(Go.RenderComponentType))));var r=createViewClass(e,n,i);t.push(r),t.push(createViewFactory(e,r,n))}function createStaticNodeDebugInfo(e){var t=e instanceof ol?e:null,i=[],n=we,r=[];return isPresent(t)&&(i=t.getProviderTokens(),isPresent(t.component)&&(n=createDiTokenExpression(identifierToken(t.component.type))),Object.keys(t.referenceTokens).forEach(function(e){var i=t.referenceTokens[e];r.push([e,isPresent(i)?createDiTokenExpression(i):we])})),importExpr(resolveIdentifier(Go.StaticNodeDebugInfo)).instantiate([literalArr(i,new W(U,[k.Const])),n,literalMap(r,new G(U,[k.Const]))],importType(resolveIdentifier(Go.StaticNodeDebugInfo),null,[k.Const]))}function createViewClass(e,t,i){var n=[new pe(Ja.viewUtils.name,importType(resolveIdentifier(Go.ViewUtils))),new pe(Ja.parentInjector.name,importType(resolveIdentifier(Go.Injector))),new pe(Ja.declarationEl.name,importType(resolveIdentifier(Go.AppElement)))],r=[variable(e.className),t,Xa.fromValue(e.viewType),Ja.viewUtils,Ja.parentInjector,Ja.declarationEl,Qa.fromValue(getChangeDetectionMode(e))];e.genConfig.genDebugInfo&&r.push(i);var o=new De(null,n,[be.callFn(r).toStmt()]),s=[new De("createInternal",[new pe(Cl.name,K)],generateCreateMethod(e),importType(resolveIdentifier(Go.AppElement))),new De("injectorGetInternal",[new pe(tl.token.name,U),new pe(tl.requestNodeIndex.name,Y),new pe(tl.notFoundResult.name,U)],addReturnValuefNotEmpty(e.injectorGetMethod.finish(),tl.notFoundResult),U),new De("detectChangesInternal",[new pe(il.throwOnChange.name,q)],generateDetectChangesMethod(e)),new De("dirtyParentQueriesInternal",[],e.dirtyParentQueriesMethod.finish()),new De("destroyInternal",[],e.destroyMethod.finish()),new De("detachInternal",[],e.detachMethod.finish())].concat(e.eventHandlerMethods),a=e.genConfig.genDebugInfo?Go.DebugAppView:Go.AppView,l=new Oe(e.className,importExpr(resolveIdentifier(a),[getContextType(e)]),e.fields,e.getters,o,s.filter(function(e){return e.body.length>0}));return l}function createViewFactory(e,t,i){var n,r=[new pe(Ja.viewUtils.name,importType(resolveIdentifier(Go.ViewUtils))),new pe(Ja.parentInjector.name,importType(resolveIdentifier(Go.Injector))),new pe(Ja.declarationEl.name,importType(resolveIdentifier(Go.AppElement)))],o=[];if(n=e.component.template.templateUrl==e.component.type.moduleUrl?e.component.type.moduleUrl+" class "+e.component.type.name+" - inline template":e.component.template.templateUrl,0===e.viewIndex){var s=literalMap(e.animations.map(function(e){return[e.name,e.fnExp]}));o=[new Ie(i.identical(we),[i.set(Ja.viewUtils.callMethod("createRenderComponentType",[literal(e.genConfig.genDebugInfo?n:""),literal(e.component.template.ngContentSelectors.length),Za.fromValue(e.component.template.encapsulation),e.styles,s])).toStmt()])]}return fn(r,o.concat([new ke(variable(t.name).instantiate(t.constructorMethod.params.map(function(e){return variable(e.name)})))]),importType(resolveIdentifier(Go.AppView),[getContextType(e)])).toDeclStmt(e.viewFactory.name,[ne.Final])}function generateCreateMethod(e){var t=we,i=[];e.viewType===Xr.COMPONENT&&(t=$a.renderer.callMethod("createViewRoot",[_e.prop("declarationAppElement").prop("nativeElement")]),i=[wl.set(t).toDeclStmt(importType(e.genConfig.renderTypes.renderNode),[ne.Final])]);var n;return n=e.viewType===Xr.HOST?e.nodes[0].appElement:we,i.concat(e.createMethod.finish(),[_e.callMethod("init",[createFlatArray(e.rootNodesOrAppElements),literalArr(e.nodes.map(function(e){return e.renderNode})),literalArr(e.disposables),literalArr(e.subscriptions)]).toStmt(),new ke(n)])}function generateDetectChangesMethod(e){var t=[];if(e.animationBindingsMethod.isEmpty()&&e.detectChangesInInputsMethod.isEmpty()&&e.updateContentQueriesMethod.isEmpty()&&e.afterContentLifecycleCallbacksMethod.isEmpty()&&e.detectChangesRenderPropertiesMethod.isEmpty()&&e.updateViewQueriesMethod.isEmpty()&&e.afterViewLifecycleCallbacksMethod.isEmpty())return t;P.addAll(t,e.animationBindingsMethod.finish()),P.addAll(t,e.detectChangesInInputsMethod.finish()),t.push(_e.callMethod("detectContentChildrenChanges",[il.throwOnChange]).toStmt());var i=e.updateContentQueriesMethod.finish().concat(e.afterContentLifecycleCallbacksMethod.finish());i.length>0&&t.push(new Ie(not(il.throwOnChange),i)),P.addAll(t,e.detectChangesRenderPropertiesMethod.finish()),t.push(_e.callMethod("detectViewChildrenChanges",[il.throwOnChange]).toStmt());var n=e.updateViewQueriesMethod.finish().concat(e.afterViewLifecycleCallbacksMethod.finish());n.length>0&&t.push(new Ie(not(il.throwOnChange),n));var r=[],o=findReadVarNames(t);return o.has(il.changed.name)&&r.push(il.changed.set(literal(!0)).toDeclStmt(q)),o.has(il.changes.name)&&r.push(il.changes.set(we).toDeclStmt(new G(importType(resolveIdentifier(Go.SimpleChange))))),o.has(il.valUnwrapper.name)&&r.push(il.valUnwrapper.set(importExpr(resolveIdentifier(Go.ValueUnwrapper)).instantiate([])).toDeclStmt(null,[ne.Final])),r.concat(t)}function addReturnValuefNotEmpty(e,t){return e.length>0?e.concat([new ke(t)]):e}function getContextType(e){return e.viewType===Xr.COMPONENT?importType(e.component.type):U}function getChangeDetectionMode(e){var t;return t=e.viewType===Xr.COMPONENT?Fr(e.component.changeDetection)?jr.CheckAlways:jr.CheckOnce:jr.CheckAlways}function analyzeModules(e,t){var i=new Map,n=[];return e.forEach(function(e){var r=t.getNgModuleMetadata(e);n.push(r),r.declaredDirectives.forEach(function(e){e.isComponent&&i.set(e.type.reference,r)})}),new Al(i,n)}function _resolveViewStatements(e){return e.dependencies.forEach(function(e){if(e instanceof xl){var t=e;t.placeholder.moduleUrl=_ngfactoryModuleUrl(t.comp.moduleUrl)}else if(e instanceof El){var i=e;i.placeholder.name=_componentFactoryName(i.comp),i.placeholder.moduleUrl=_ngfactoryModuleUrl(i.comp.moduleUrl)}}),e.statements}function _resolveStyleStatements(e,t){return e.dependencies.forEach(function(e){e.valuePlaceholder.moduleUrl=_stylesModuleUrl(e.moduleUrl,e.isShimmed,t)}),e.statements}function _ngfactoryModuleUrl(e){var t=_splitTypescriptSuffix(e);return t[0]+".ngfactory"+t[1]}function _componentFactoryName(e){return e.name+"NgFactory"}function _stylesModuleUrl(e,t,i){return t?e+".shim"+i:""+e+i}function _assertComponent(e){if(!e.isComponent)throw new Error("Could not compile '"+e.type.name+"' because it is not a component.")}function _splitTypescriptSuffix(e){if(e.endsWith(".d.ts"))return[e.slice(0,-5),".ts"];var t=e.lastIndexOf(".");return t!==-1?[e.substring(0,t),e.substring(t)]:[e,""]}function createOfflineCompileUrlResolver(){return new Rl(Ol)}function getUrlScheme(e){var t=_split(e);return t&&t[hl.Scheme]||""}function _buildFromEncodedParts(e,t,i,n,r,o,s){var a=[];return isPresent(e)&&a.push(e+":"),isPresent(i)&&(a.push("//"),isPresent(t)&&a.push(t+"@"),a.push(i),isPresent(n)&&a.push(":"+n)),isPresent(r)&&a.push(r),isPresent(o)&&a.push("?"+o),isPresent(s)&&a.push("#"+s),a.join("")}function _split(e){return e.match(Nl)}function _removeDotSegments(e){if("/"==e)return"/";for(var t="/"==e[0]?"/":"",i="/"===e[e.length-1]?"/":"",n=e.split("/"),r=[],o=0,s=0;s<n.length;s++){var a=n[s];switch(a){case"":case".":break;case"..":r.length>0?r.pop():o++;break;default:r.push(a)}}if(""==t){for(;o-- >0;)r.unshift("..");0===r.length&&r.push(".")}return t+r.join("/")+i}function _joinAndCanonicalizePath(e){var t=e[hl.Path];return t=isBlank(t)?"":_removeDotSegments(t),e[hl.Path]=t,_buildFromEncodedParts(e[hl.Scheme],e[hl.UserInfo],e[hl.Domain],e[hl.Port],t,e[hl.QueryData],e[hl.Fragment])}function _resolveUrl(e,t){var i=_split(encodeURI(t)),n=_split(e);if(isPresent(i[hl.Scheme]))return _joinAndCanonicalizePath(i);i[hl.Scheme]=n[hl.Scheme];for(var r=hl.Scheme;r<=hl.Port;r++)isBlank(i[r])&&(i[r]=n[r]);if("/"==i[hl.Path][0])return _joinAndCanonicalizePath(i);var o=n[hl.Path];isBlank(o)&&(o="/");var s=o.lastIndexOf("/");return o=o.substring(0,s+1)+i[hl.Path],i[hl.Path]=o,_joinAndCanonicalizePath(i)}function _cloneDirectiveWithTemplate(e,t){return new dt({type:e.type,isComponent:e.isComponent,selector:e.selector,exportAs:e.exportAs,changeDetection:e.changeDetection,inputs:e.inputs,outputs:e.outputs,hostListeners:e.hostListeners,hostProperties:e.hostProperties,hostAttributes:e.hostAttributes,providers:e.providers,viewProviders:e.viewProviders,queries:e.queries,viewQueries:e.viewQueries,entryComponents:e.entryComponents,template:t})}function isDirectiveMetadata(e){return e instanceof i.Directive}function hasLifecycleHook(e,t){var i=jl.get(e),n=Bl.get(e);return Co.hasLifecycleHook(t,i,n)}function _isNgModuleMetadata(e){return e instanceof i.NgModule}function _isPipeMetadata(e){return e instanceof i.Pipe}function getTransitiveModules(e,t,i,n){return void 0===i&&(i=[]),void 0===n&&(n=new Set),e.forEach(function(e){if(!n.has(e.type.reference)){n.add(e.type.reference);var r=t?e.importedModules.concat(e.exportedModules):e.exportedModules;getTransitiveModules(r,t,i,n),i.push(e)}}),i}function flattenArray(e,t){if(void 0===t&&(t=[]),e)for(var n=0;n<e.length;n++){var r=i.resolveForwardRef(e[n]);Array.isArray(r)?flattenArray(r,t):t.push(r)}return t}function isValidType(e){return isStaticSymbol(e)||e instanceof i.Type}function staticTypeModuleUrl(e){return isStaticSymbol(e)?e.filePath:null}function componentModuleUrl(e,t,i){if(isStaticSymbol(t))return staticTypeModuleUrl(t);var n=i.moduleId;if("string"==typeof n){var r=getUrlScheme(n);return r?n:"package:"+n+Be}if(null!==n&&void 0!==n)throw new Error('moduleId should be a string in "'+stringify(t)+"\". See https://goo.gl/wIDDiL for more information.\nIf you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return e.importUri(t)}function convertToCompileValue(e,t){return visitValue(e,new Ul,t)}function escapeIdentifier(e,t,i){if(void 0===i&&(i=!0),isBlank(e))return null;var n=e.replace(Jl,function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];return"$"==e[0]?t?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":"\\"+e[0]}),r=i||!$l.test(n);return r?"'"+n+"'":n}function _createIndent(e){for(var t="",i=0;i<e;i++)t+="  ";return t}function debugOutputAstAsTypeScript(e){var t,i=new lu(su),n=nu.createRoot([]);return t=isArray(e)?e:[e],t.forEach(function(e){if(e instanceof xe)e.visitStatement(i,n);else if(e instanceof Q)e.visitExpression(i,n);else{if(!(e instanceof j))throw new Error("Don't know how to print debug info for "+e);e.visitType(i,n)}}),n.toSource()}function interpretStatements(e,t){var i=e.concat([new ke(variable(t))]),n=new uu(null,null,null,new Map),r=new hu,o=r.visitAllStatements(i,n);return isPresent(o)?o.value:null}function _executeFunctionStatements(e,t,i,n,r){for(var o=n.createChildWihtLocalVars(),s=0;s<e.length;s++)o.vars.set(e[s],t[s]);var a=r.visitAllStatements(i,o);return isPresent(a)?a.value:null}function createDynamicClass(e,t,i){var n={};e.getters.forEach(function(r){n[r.name]={configurable:!1,get:function(){var n=new uu(t,this,e.name,t.vars);return _executeFunctionStatements([],[],r.body,n,i)}}}),e.methods.forEach(function(r){var o=r.params.map(function(e){return e.name});n[r.name]={writable:!1,configurable:!1,value:function(){for(var n=[],s=0;s<arguments.length;s++)n[s-0]=arguments[s];var a=new uu(t,this,e.name,t.vars);return _executeFunctionStatements(o,n,r.body,a,i)}}});var r=e.constructorMethod.params.map(function(e){return e.name}),o=function(){for(var n=this,o=[],s=0;s<arguments.length;s++)o[s-0]=arguments[s];var a=new uu(t,this,e.name,t.vars);e.fields.forEach(function(e){n[e.name]=void 0}),_executeFunctionStatements(r,o,e.constructorMethod.body,a,i)},s=e.parent.visitExpression(i,t);return o.prototype=Object.create(s.prototype,n),o}function _declareFn(e,t,i,n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];return _executeFunctionStatements(e,r,t,i,n)}}function jitStatements(e,t,i){var n=new vu,r=nu.createRoot([i]);return n.visitAllStatements(t,r),evalExpression(e,i,r.toSource(),n.getArgs())}function stripComments(e){return e.replace(Nu,"")}function extractSourceMappingUrl(e){var t=e.match(Lu);return t?t[0]:""}function processRules(e,t){var i=escapeBlocks(e),n=0;return i.escapedString.replace(Vu,function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var o=e[2],s="",a=e[4],l="";a&&a.startsWith("{"+zu)&&(s=i.blocks[n++],a=a.substring(zu.length+1),l="{");var u=t(new Hu(o,s));return""+e[1]+u.selector+e[3]+l+u.content+a})}function escapeBlocks(e){for(var t=e.split(Fu),i=[],n=[],r=0,o=[],s=0;s<t.length;s++){var a=t[s];a==Bu&&r--,r>0?o.push(a):(o.length>0&&(n.push(o.join("")),i.push(zu),o=[]),i.push(a)),a==ju&&r++}return o.length>0&&(n.push(o.join("")),i.push(zu)),new Wu(i.join(""),n)}function getStylesVarName(e){var t="styles";return e&&(t+="_"+e.type.name),t}function assertComponent(e){if(!e.isComponent)throw new Error("Could not compile '"+e.type.name+"' because it is not a component.")}function registerContext(e,t){for(var i=0,n=t;i<n.length;i++){var r=n[i];ec[r.toLowerCase()]=e}}function _initReflector(){Co.reflectionCapabilities=new Eo}function _mergeOptions(e){return{useDebug:_lastDefined(e.map(function(e){return e.useDebug})),useJit:_lastDefined(e.map(function(e){return e.useJit})),defaultEncapsulation:_lastDefined(e.map(function(e){return e.defaultEncapsulation})),providers:_mergeArrays(e.map(function(e){return e.providers}))}}function _lastDefined(e){for(var t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}function _mergeArrays(e){var t=[];return e.forEach(function(e){return e&&t.push.apply(t,e)}),t}var n=function(){function TextAst(e,t,i){this.value=e,this.ngContentIndex=t,this.sourceSpan=i}return TextAst.prototype.visit=function(e,t){return e.visitText(this,t)},TextAst}(),r=function(){function BoundTextAst(e,t,i){this.value=e,this.ngContentIndex=t,this.sourceSpan=i}return BoundTextAst.prototype.visit=function(e,t){return e.visitBoundText(this,t)},BoundTextAst}(),o=function(){function AttrAst(e,t,i){this.name=e,this.value=t,this.sourceSpan=i}return AttrAst.prototype.visit=function(e,t){return e.visitAttr(this,t)},AttrAst}(),s=function(){function BoundElementPropertyAst(e,t,i,n,r,o){this.name=e,this.type=t,this.securityContext=i,this.value=n,this.unit=r,this.sourceSpan=o}return BoundElementPropertyAst.prototype.visit=function(e,t){return e.visitElementProperty(this,t)},Object.defineProperty(BoundElementPropertyAst.prototype,"isAnimation",{get:function(){return this.type===t.PropertyBindingType.Animation},enumerable:!0,configurable:!0}),BoundElementPropertyAst}(),a=function(){function BoundEventAst(e,t,i,n,r){this.name=e,this.target=t,this.phase=i,this.handler=n,this.sourceSpan=r}return BoundEventAst.prototype.visit=function(e,t){return e.visitEvent(this,t)},Object.defineProperty(BoundEventAst.prototype,"fullName",{get:function(){return this.target?this.target+":"+this.name:this.name},enumerable:!0,configurable:!0}),Object.defineProperty(BoundEventAst.prototype,"isAnimation",{get:function(){return!!this.phase},enumerable:!0,configurable:!0}),BoundEventAst}(),l=function(){function ReferenceAst(e,t,i){this.name=e,this.value=t,this.sourceSpan=i}return ReferenceAst.prototype.visit=function(e,t){return e.visitReference(this,t)},ReferenceAst}(),u=function(){function VariableAst(e,t,i){this.name=e,this.value=t,this.sourceSpan=i}return VariableAst.prototype.visit=function(e,t){return e.visitVariable(this,t)},VariableAst}(),c=function(){function ElementAst(e,t,i,n,r,o,s,a,l,u,c,h){this.name=e,this.attrs=t,this.inputs=i,this.outputs=n,this.references=r,this.directives=o,this.providers=s,this.hasViewContainer=a,this.children=l,this.ngContentIndex=u,this.sourceSpan=c,this.endSourceSpan=h}return ElementAst.prototype.visit=function(e,t){return e.visitElement(this,t)},ElementAst}(),h=function(){function EmbeddedTemplateAst(e,t,i,n,r,o,s,a,l,u){this.attrs=e,this.outputs=t,this.references=i,this.variables=n,this.directives=r,this.providers=o,this.hasViewContainer=s,this.children=a,this.ngContentIndex=l,this.sourceSpan=u}return EmbeddedTemplateAst.prototype.visit=function(e,t){return e.visitEmbeddedTemplate(this,t)},EmbeddedTemplateAst}(),p=function(){function BoundDirectivePropertyAst(e,t,i,n){this.directiveName=e,this.templateName=t,this.value=i,this.sourceSpan=n}return BoundDirectivePropertyAst.prototype.visit=function(e,t){return e.visitDirectiveProperty(this,t)},BoundDirectivePropertyAst}(),d=function(){function DirectiveAst(e,t,i,n,r){this.directive=e,this.inputs=t,this.hostProperties=i,this.hostEvents=n,this.sourceSpan=r}return DirectiveAst.prototype.visit=function(e,t){return e.visitDirective(this,t)},DirectiveAst}(),f=function(){function ProviderAst(e,t,i,n,r,o,s){
this.token=e,this.multiProvider=t,this.eager=i,this.providers=n,this.providerType=r,this.lifecycleHooks=o,this.sourceSpan=s}return ProviderAst.prototype.visit=function(e,t){return null},ProviderAst}();t.ProviderAstType,function(e){e[e.PublicService=0]="PublicService",e[e.PrivateService=1]="PrivateService",e[e.Component=2]="Component",e[e.Directive=3]="Directive",e[e.Builtin=4]="Builtin"}(t.ProviderAstType||(t.ProviderAstType={}));var m=function(){function NgContentAst(e,t,i){this.index=e,this.ngContentIndex=t,this.sourceSpan=i}return NgContentAst.prototype.visit=function(e,t){return e.visitNgContent(this,t)},NgContentAst}();t.PropertyBindingType,function(e){e[e.Property=0]="Property",e[e.Attribute=1]="Attribute",e[e.Class=2]="Class",e[e.Style=3]="Style",e[e.Animation=4]="Animation"}(t.PropertyBindingType||(t.PropertyBindingType={}));var y;y="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:e:window;var v=y;v.assert=function(e){};var g,_=Object.getPrototypeOf({}),b=function(){function StringJoiner(e){void 0===e&&(e=[]),this.parts=e}return StringJoiner.prototype.add=function(e){this.parts.push(e)},StringJoiner.prototype.toString=function(){return this.parts.join("")},StringJoiner}(),w=function(){function NumberWrapper(){}return NumberWrapper.toFixed=function(e,t){return e.toFixed(t)},NumberWrapper.equal=function(e,t){return e===t},NumberWrapper.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},NumberWrapper.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var i=parseInt(e,t);if(!isNaN(i))return i}throw new Error("Invalid integer literal when parsing "+e+" in base "+t)},Object.defineProperty(NumberWrapper,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),NumberWrapper.isNumeric=function(e){return!isNaN(e-parseFloat(e))},NumberWrapper.isNaN=function(e){return isNaN(e)},NumberWrapper.isInteger=function(e){return Number.isInteger(e)},NumberWrapper}(),C=function(){try{if(1===new Map([[1,2]]).size)return function(e){return new Map(e)}}catch(e){}return function(e){for(var t=new Map,i=0;i<e.length;i++){var n=e[i];t.set(n[0],n[1])}return t}}(),x=(function(){return(new Map).keys().next?function(e){for(var t,i=e.keys();!(t=i.next()).done;)e.set(t.value,null)}:function(e){e.forEach(function(t,i){e.set(i,null)})}}(),function(){try{if((new Map).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var i=new Array(e.size),n=0;return e.forEach(function(e,r){i[n]=t?e:r,n++}),i}}()),E=function(){function MapWrapper(){}return MapWrapper.createFromStringMap=function(e){var t=new Map;for(var i in e)t.set(i,e[i]);return t},MapWrapper.toStringMap=function(e){var t={};return e.forEach(function(e,i){return t[i]=e}),t},MapWrapper.createFromPairs=function(e){return C(e)},MapWrapper.iterable=function(e){return e},MapWrapper.keys=function(e){return x(e,!1)},MapWrapper.values=function(e){return x(e,!0)},MapWrapper}(),S=function(){function StringMapWrapper(){}return StringMapWrapper.merge=function(e,t){for(var i={},n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];i[o]=e[o]}for(var s=0,a=Object.keys(t);s<a.length;s++){var o=a[s];i[o]=t[o]}return i},StringMapWrapper.equals=function(e,t){var i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(var r=0;r<i.length;r++){var o=i[r];if(e[o]!==t[o])return!1}return!0},StringMapWrapper}(),P=function(){function ListWrapper(){}return ListWrapper.createFixedSize=function(e){return new Array(e)},ListWrapper.createGrowableSize=function(e){return new Array(e)},ListWrapper.clone=function(e){return e.slice(0)},ListWrapper.forEachWithIndex=function(e,t){for(var i=0;i<e.length;i++)t(e[i],i)},ListWrapper.first=function(e){return e?e[0]:null},ListWrapper.last=function(e){return e&&0!=e.length?e[e.length-1]:null},ListWrapper.indexOf=function(e,t,i){return void 0===i&&(i=0),e.indexOf(t,i)},ListWrapper.contains=function(e,t){return e.indexOf(t)!==-1},ListWrapper.reversed=function(e){var t=ListWrapper.clone(e);return t.reverse()},ListWrapper.concat=function(e,t){return e.concat(t)},ListWrapper.insert=function(e,t,i){e.splice(t,0,i)},ListWrapper.removeAt=function(e,t){var i=e[t];return e.splice(t,1),i},ListWrapper.removeAll=function(e,t){for(var i=0;i<t.length;++i){var n=e.indexOf(t[i]);e.splice(n,1)}},ListWrapper.remove=function(e,t){var i=e.indexOf(t);return i>-1&&(e.splice(i,1),!0)},ListWrapper.clear=function(e){e.length=0},ListWrapper.isEmpty=function(e){return 0==e.length},ListWrapper.fill=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=null),e.fill(t,i,null===n?e.length:n)},ListWrapper.equals=function(e,t){if(e.length!=t.length)return!1;for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0},ListWrapper.slice=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=null),e.slice(t,null===i?void 0:i)},ListWrapper.splice=function(e,t,i){return e.splice(t,i)},ListWrapper.sort=function(e,t){isPresent(t)?e.sort(t):e.sort()},ListWrapper.toString=function(e){return e.toString()},ListWrapper.toJSON=function(e){return JSON.stringify(e)},ListWrapper.maximum=function(e,t){if(0==e.length)return null;for(var i=null,n=-(1/0),r=0;r<e.length;r++){var o=e[r];if(!isBlank(o)){var s=t(o);s>n&&(i=o,n=s)}}return i},ListWrapper.flatten=function(e){var t=[];return _flattenArray(e,t),t},ListWrapper.addAll=function(e,t){for(var i=0;i<t.length;i++)e.push(t[i])},ListWrapper}();!function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"}(g||(g={}));var k,T={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞","int":"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌"},A=function(){function HtmlTagDefinition(e){var t=this,i=void 0===e?{}:e,n=i.closedByChildren,r=i.requiredParents,o=i.implicitNamespacePrefix,s=i.contentType,a=void 0===s?g.PARSABLE_DATA:s,l=i.closedByParent,u=void 0!==l&&l,c=i.isVoid,h=void 0!==c&&c,p=i.ignoreFirstLf,d=void 0!==p&&p;this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,n&&n.length>0&&n.forEach(function(e){return t.closedByChildren[e]=!0}),this.isVoid=h,this.closedByParent=u||h,r&&r.length>0&&(this.requiredParents={},this.parentToAdd=r[0],r.forEach(function(e){return t.requiredParents[e]=!0})),this.implicitNamespacePrefix=o,this.contentType=a,this.ignoreFirstLf=d}return HtmlTagDefinition.prototype.requireExtraParent=function(e){if(!this.requiredParents)return!1;if(!e)return!0;var t=e.toLowerCase();return 1!=this.requiredParents[t]&&"template"!=t},HtmlTagDefinition.prototype.isClosedByChild=function(e){return this.isVoid||e.toLowerCase()in this.closedByChildren},HtmlTagDefinition}(),D={base:new A({isVoid:!0}),meta:new A({isVoid:!0}),area:new A({isVoid:!0}),embed:new A({isVoid:!0}),link:new A({isVoid:!0}),img:new A({isVoid:!0}),input:new A({isVoid:!0}),param:new A({isVoid:!0}),hr:new A({isVoid:!0}),br:new A({isVoid:!0}),source:new A({isVoid:!0}),track:new A({isVoid:!0}),wbr:new A({isVoid:!0}),p:new A({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new A({closedByChildren:["tbody","tfoot"]}),tbody:new A({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new A({closedByChildren:["tbody"],closedByParent:!0}),tr:new A({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new A({closedByChildren:["td","th"],closedByParent:!0}),th:new A({closedByChildren:["td","th"],closedByParent:!0}),col:new A({requiredParents:["colgroup"],isVoid:!0}),svg:new A({implicitNamespacePrefix:"svg"}),math:new A({implicitNamespacePrefix:"math"}),li:new A({closedByChildren:["li"],closedByParent:!0}),dt:new A({closedByChildren:["dt","dd"]}),dd:new A({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new A({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new A({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new A({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new A({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new A({closedByChildren:["optgroup"],closedByParent:!0}),option:new A({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new A({ignoreFirstLf:!0}),listing:new A({ignoreFirstLf:!0}),style:new A({contentType:g.RAW_TEXT}),script:new A({contentType:g.RAW_TEXT}),title:new A({contentType:g.ESCAPABLE_RAW_TEXT}),textarea:new A({contentType:g.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},M=new A,O=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|(\\))|(\\s*,\\s*)","g"),I=function(){function CssSelector(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return CssSelector.parse=function(e){var t,i=[],n=function(e,t){t.notSelectors.length>0&&!t.element&&0==t.classNames.length&&0==t.attrs.length&&(t.element="*"),e.push(t)},r=new CssSelector,o=r,s=!1;for(O.lastIndex=0;t=O.exec(e);){if(t[1]){if(s)throw new Error("Nesting :not is not allowed in a selector");s=!0,o=new CssSelector,r.notSelectors.push(o)}if(t[2]&&o.setElement(t[2]),t[3]&&o.addClassName(t[3]),t[4]&&o.addAttribute(t[4],t[5]),t[6]&&(s=!1,o=r),t[7]){if(s)throw new Error("Multiple selectors in :not are not supported");n(i,r),r=o=new CssSelector}}return n(i,r),i},CssSelector.prototype.isElementSelector=function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length},CssSelector.prototype.hasElementSelector=function(){return!!this.element},CssSelector.prototype.setElement=function(e){void 0===e&&(e=null),this.element=e},CssSelector.prototype.getMatchingElementTemplate=function(){for(var e=this.element||"div",t=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",i="",n=0;n<this.attrs.length;n+=2){var r=this.attrs[n],o=""!==this.attrs[n+1]?'="'+this.attrs[n+1]+'"':"";i+=" "+r+o}return getHtmlTagDefinition(e).isVoid?"<"+e+t+i+"/>":"<"+e+t+i+"></"+e+">"},CssSelector.prototype.addAttribute=function(e,t){void 0===t&&(t=""),this.attrs.push(e,t&&t.toLowerCase()||"")},CssSelector.prototype.addClassName=function(e){this.classNames.push(e.toLowerCase())},CssSelector.prototype.toString=function(){var e=this.element||"";if(this.classNames&&this.classNames.forEach(function(t){return e+="."+t}),this.attrs)for(var t=0;t<this.attrs.length;t+=2){var i=this.attrs[t],n=this.attrs[t+1];e+="["+i+(n?"="+n:"")+"]"}return this.notSelectors.forEach(function(t){return e+=":not("+t+")"}),e},CssSelector}(),R=function(){function SelectorMatcher(){this._elementMap={},this._elementPartialMap={},this._classMap={},this._classPartialMap={},this._attrValueMap={},this._attrValuePartialMap={},this._listContexts=[]}return SelectorMatcher.createNotMatcher=function(e){var t=new SelectorMatcher;return t.addSelectables(e,null),t},SelectorMatcher.prototype.addSelectables=function(e,t){var i=null;e.length>1&&(i=new N(e),this._listContexts.push(i));for(var n=0;n<e.length;n++)this._addSelectable(e[n],t,i)},SelectorMatcher.prototype._addSelectable=function(e,t,i){var n=this,r=e.element,o=e.classNames,s=e.attrs,a=new L(e,t,i);if(r){var l=0===s.length&&0===o.length;l?this._addTerminal(n._elementMap,r,a):n=this._addPartial(n._elementPartialMap,r)}if(o)for(var u=0;u<o.length;u++){var l=0===s.length&&u===o.length-1,c=o[u];l?this._addTerminal(n._classMap,c,a):n=this._addPartial(n._classPartialMap,c)}if(s)for(var u=0;u<s.length;u+=2){var l=u===s.length-2,h=s[u],p=s[u+1];if(l){var d=n._attrValueMap,f=d[h];f||(f={},d[h]=f),this._addTerminal(f,p,a)}else{var m=n._attrValuePartialMap,y=m[h];y||(y={},m[h]=y),n=this._addPartial(y,p)}}},SelectorMatcher.prototype._addTerminal=function(e,t,i){var n=e[t];n||(n=[],e[t]=n),n.push(i)},SelectorMatcher.prototype._addPartial=function(e,t){var i=e[t];return i||(i=new SelectorMatcher,e[t]=i),i},SelectorMatcher.prototype.match=function(e,t){for(var i=!1,n=e.element,r=e.classNames,o=e.attrs,s=0;s<this._listContexts.length;s++)this._listContexts[s].alreadyMatched=!1;if(i=this._matchTerminal(this._elementMap,n,e,t)||i,i=this._matchPartial(this._elementPartialMap,n,e,t)||i,r)for(var s=0;s<r.length;s++){var a=r[s];i=this._matchTerminal(this._classMap,a,e,t)||i,i=this._matchPartial(this._classPartialMap,a,e,t)||i}if(o)for(var s=0;s<o.length;s+=2){var l=o[s],u=o[s+1],c=this._attrValueMap[l];u&&(i=this._matchTerminal(c,"",e,t)||i),i=this._matchTerminal(c,u,e,t)||i;var h=this._attrValuePartialMap[l];u&&(i=this._matchPartial(h,"",e,t)||i),i=this._matchPartial(h,u,e,t)||i}return i},SelectorMatcher.prototype._matchTerminal=function(e,t,i,n){if(!e||"string"!=typeof t)return!1;var r=e[t],o=e["*"];if(o&&(r=r.concat(o)),!r)return!1;for(var s,a=!1,l=0;l<r.length;l++)s=r[l],a=s.finalize(i,n)||a;return a},SelectorMatcher.prototype._matchPartial=function(e,t,i,n){if(!e||"string"!=typeof t)return!1;var r=e[t];return!!r&&r.match(i,n)},SelectorMatcher}(),N=function(){function SelectorListContext(e){this.selectors=e,this.alreadyMatched=!1}return SelectorListContext}(),L=function(){function SelectorContext(e,t,i){this.selector=e,this.cbContext=t,this.listContext=i,this.notSelectors=e.notSelectors}return SelectorContext.prototype.finalize=function(e,t){var i=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){var n=R.createNotMatcher(this.notSelectors);i=!n.match(e,null)}return!i||!t||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),i},SelectorContext}(),V=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)};!function(e){e[e.Const=0]="Const"}(k||(k={}));var F,j=function(){function Type(e){void 0===e&&(e=null),this.modifiers=e,e||(this.modifiers=[])}return Type.prototype.hasModifier=function(e){return this.modifiers.indexOf(e)!==-1},Type}();!function(e){e[e.Dynamic=0]="Dynamic",e[e.Bool=1]="Bool",e[e.String=2]="String",e[e.Int=3]="Int",e[e.Number=4]="Number",e[e.Function=5]="Function"}(F||(F={}));var B,z=function(e){function BuiltinType(t,i){void 0===i&&(i=null),e.call(this,i),this.name=t}return V(BuiltinType,e),BuiltinType.prototype.visitType=function(e,t){return e.visitBuiltintType(this,t)},BuiltinType}(j),H=function(e){function ExternalType(t,i,n){void 0===i&&(i=null),void 0===n&&(n=null),e.call(this,n),this.value=t,this.typeParams=i}return V(ExternalType,e),ExternalType.prototype.visitType=function(e,t){return e.visitExternalType(this,t)},ExternalType}(j),W=function(e){function ArrayType(t,i){void 0===i&&(i=null),e.call(this,i),this.of=t}return V(ArrayType,e),ArrayType.prototype.visitType=function(e,t){return e.visitArrayType(this,t)},ArrayType}(j),G=function(e){function MapType(t,i){void 0===i&&(i=null),e.call(this,i),this.valueType=t}return V(MapType,e),MapType.prototype.visitType=function(e,t){return e.visitMapType(this,t)},MapType}(j),U=new z(F.Dynamic),q=new z(F.Bool),Y=(new z(F.Int),new z(F.Number)),K=new z(F.String),X=new z(F.Function);!function(e){e[e.Equals=0]="Equals",e[e.NotEquals=1]="NotEquals",e[e.Identical=2]="Identical",e[e.NotIdentical=3]="NotIdentical",e[e.Minus=4]="Minus",e[e.Plus=5]="Plus",e[e.Divide=6]="Divide",e[e.Multiply=7]="Multiply",e[e.Modulo=8]="Modulo",e[e.And=9]="And",e[e.Or=10]="Or",e[e.Lower=11]="Lower",e[e.LowerEquals=12]="LowerEquals",e[e.Bigger=13]="Bigger",e[e.BiggerEquals=14]="BiggerEquals"}(B||(B={}));var Z,Q=function(){function Expression(e){this.type=e}return Expression.prototype.prop=function(e){return new me(this,e)},Expression.prototype.key=function(e,t){return void 0===t&&(t=null),new ye(this,e,t)},Expression.prototype.callMethod=function(e,t){return new re(this,e,t)},Expression.prototype.callFn=function(e){return new oe(this,e)},Expression.prototype.instantiate=function(e,t){return void 0===t&&(t=null),new se(this,e,t)},Expression.prototype.conditional=function(e,t){return void 0===t&&(t=null),new ue(this,e,t)},Expression.prototype.equals=function(e){return new fe(B.Equals,this,e)},Expression.prototype.notEquals=function(e){return new fe(B.NotEquals,this,e)},Expression.prototype.identical=function(e){return new fe(B.Identical,this,e)},Expression.prototype.notIdentical=function(e){return new fe(B.NotIdentical,this,e)},Expression.prototype.minus=function(e){return new fe(B.Minus,this,e)},Expression.prototype.plus=function(e){return new fe(B.Plus,this,e)},Expression.prototype.divide=function(e){return new fe(B.Divide,this,e)},Expression.prototype.multiply=function(e){return new fe(B.Multiply,this,e)},Expression.prototype.modulo=function(e){return new fe(B.Modulo,this,e)},Expression.prototype.and=function(e){return new fe(B.And,this,e)},Expression.prototype.or=function(e){return new fe(B.Or,this,e)},Expression.prototype.lower=function(e){return new fe(B.Lower,this,e)},Expression.prototype.lowerEquals=function(e){return new fe(B.LowerEquals,this,e)},Expression.prototype.bigger=function(e){return new fe(B.Bigger,this,e)},Expression.prototype.biggerEquals=function(e){return new fe(B.BiggerEquals,this,e)},Expression.prototype.isBlank=function(){return this.equals(we)},Expression.prototype.cast=function(e){return new he(this,e)},Expression.prototype.toStmt=function(){return new Pe(this)},Expression}();!function(e){e[e.This=0]="This",e[e.Super=1]="Super",e[e.CatchError=2]="CatchError",e[e.CatchStack=3]="CatchStack"}(Z||(Z={}));var J,$=function(e){function ReadVarExpr(t,i){void 0===i&&(i=null),e.call(this,i),isString(t)?(this.name=t,this.builtin=null):(this.name=null,this.builtin=t)}return V(ReadVarExpr,e),ReadVarExpr.prototype.visitExpression=function(e,t){return e.visitReadVarExpr(this,t)},ReadVarExpr.prototype.set=function(e){return new ee(this.name,e)},ReadVarExpr}(Q),ee=function(e){function WriteVarExpr(t,i,n){void 0===n&&(n=null),e.call(this,n||i.type),this.name=t,this.value=i}return V(WriteVarExpr,e),WriteVarExpr.prototype.visitExpression=function(e,t){return e.visitWriteVarExpr(this,t)},WriteVarExpr.prototype.toDeclStmt=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),new Ee(this.name,this.value,e,t)},WriteVarExpr}(Q),te=function(e){function WriteKeyExpr(t,i,n,r){void 0===r&&(r=null),e.call(this,r||n.type),this.receiver=t,this.index=i,this.value=n}return V(WriteKeyExpr,e),WriteKeyExpr.prototype.visitExpression=function(e,t){return e.visitWriteKeyExpr(this,t)},WriteKeyExpr}(Q),ie=function(e){function WritePropExpr(t,i,n,r){void 0===r&&(r=null),e.call(this,r||n.type),this.receiver=t,this.name=i,this.value=n}return V(WritePropExpr,e),WritePropExpr.prototype.visitExpression=function(e,t){return e.visitWritePropExpr(this,t)},WritePropExpr}(Q);!function(e){e[e.ConcatArray=0]="ConcatArray",e[e.SubscribeObservable=1]="SubscribeObservable",e[e.Bind=2]="Bind"}(J||(J={}));var ne,re=function(e){function InvokeMethodExpr(t,i,n,r){void 0===r&&(r=null),e.call(this,r),this.receiver=t,this.args=n,isString(i)?(this.name=i,this.builtin=null):(this.name=null,this.builtin=i)}return V(InvokeMethodExpr,e),InvokeMethodExpr.prototype.visitExpression=function(e,t){return e.visitInvokeMethodExpr(this,t)},InvokeMethodExpr}(Q),oe=function(e){function InvokeFunctionExpr(t,i,n){void 0===n&&(n=null),e.call(this,n),this.fn=t,this.args=i}return V(InvokeFunctionExpr,e),InvokeFunctionExpr.prototype.visitExpression=function(e,t){return e.visitInvokeFunctionExpr(this,t)},InvokeFunctionExpr}(Q),se=function(e){function InstantiateExpr(t,i,n){e.call(this,n),this.classExpr=t,this.args=i}return V(InstantiateExpr,e),InstantiateExpr.prototype.visitExpression=function(e,t){return e.visitInstantiateExpr(this,t)},InstantiateExpr}(Q),ae=function(e){function LiteralExpr(t,i){void 0===i&&(i=null),e.call(this,i),this.value=t}return V(LiteralExpr,e),LiteralExpr.prototype.visitExpression=function(e,t){return e.visitLiteralExpr(this,t)},LiteralExpr}(Q),le=function(e){function ExternalExpr(t,i,n){void 0===i&&(i=null),void 0===n&&(n=null),e.call(this,i),this.value=t,this.typeParams=n}return V(ExternalExpr,e),ExternalExpr.prototype.visitExpression=function(e,t){return e.visitExternalExpr(this,t)},ExternalExpr}(Q),ue=function(e){function ConditionalExpr(t,i,n,r){void 0===n&&(n=null),void 0===r&&(r=null),e.call(this,r||i.type),this.condition=t,this.falseCase=n,this.trueCase=i}return V(ConditionalExpr,e),ConditionalExpr.prototype.visitExpression=function(e,t){return e.visitConditionalExpr(this,t)},ConditionalExpr}(Q),ce=function(e){function NotExpr(t){e.call(this,q),this.condition=t}return V(NotExpr,e),NotExpr.prototype.visitExpression=function(e,t){return e.visitNotExpr(this,t)},NotExpr}(Q),he=function(e){function CastExpr(t,i){e.call(this,i),this.value=t}return V(CastExpr,e),CastExpr.prototype.visitExpression=function(e,t){return e.visitCastExpr(this,t)},CastExpr}(Q),pe=function(){function FnParam(e,t){void 0===t&&(t=null),this.name=e,this.type=t}return FnParam}(),de=function(e){function FunctionExpr(t,i,n){void 0===n&&(n=null),e.call(this,n),this.params=t,this.statements=i}return V(FunctionExpr,e),FunctionExpr.prototype.visitExpression=function(e,t){return e.visitFunctionExpr(this,t)},FunctionExpr.prototype.toDeclStmt=function(e,t){return void 0===t&&(t=null),new Se(e,this.params,this.statements,this.type,t)},FunctionExpr}(Q),fe=function(e){function BinaryOperatorExpr(t,i,n,r){void 0===r&&(r=null),e.call(this,r||i.type),this.operator=t,this.rhs=n,this.lhs=i}return V(BinaryOperatorExpr,e),BinaryOperatorExpr.prototype.visitExpression=function(e,t){return e.visitBinaryOperatorExpr(this,t)},BinaryOperatorExpr}(Q),me=function(e){function ReadPropExpr(t,i,n){void 0===n&&(n=null),e.call(this,n),this.receiver=t,this.name=i}return V(ReadPropExpr,e),ReadPropExpr.prototype.visitExpression=function(e,t){return e.visitReadPropExpr(this,t)},ReadPropExpr.prototype.set=function(e){return new ie(this.receiver,this.name,e)},ReadPropExpr}(Q),ye=function(e){function ReadKeyExpr(t,i,n){void 0===n&&(n=null),e.call(this,n),this.receiver=t,this.index=i}return V(ReadKeyExpr,e),ReadKeyExpr.prototype.visitExpression=function(e,t){return e.visitReadKeyExpr(this,t)},ReadKeyExpr.prototype.set=function(e){return new te(this.receiver,this.index,e)},ReadKeyExpr}(Q),ve=function(e){function LiteralArrayExpr(t,i){void 0===i&&(i=null),e.call(this,i),this.entries=t}return V(LiteralArrayExpr,e),LiteralArrayExpr.prototype.visitExpression=function(e,t){return e.visitLiteralArrayExpr(this,t)},LiteralArrayExpr}(Q),ge=function(e){function LiteralMapExpr(t,i){void 0===i&&(i=null),e.call(this,i),this.entries=t,this.valueType=null,isPresent(i)&&(this.valueType=i.valueType)}return V(LiteralMapExpr,e),LiteralMapExpr.prototype.visitExpression=function(e,t){return e.visitLiteralMapExpr(this,t)},LiteralMapExpr}(Q),_e=new $(Z.This),be=new $(Z.Super),we=(new $(Z.CatchError),new $(Z.CatchStack),new ae(null,null));!function(e){e[e.Final=0]="Final",e[e.Private=1]="Private"}(ne||(ne={}));var Ce,xe=function(){function Statement(e){void 0===e&&(e=null),this.modifiers=e,e||(this.modifiers=[])}return Statement.prototype.hasModifier=function(e){return this.modifiers.indexOf(e)!==-1},Statement}(),Ee=function(e){function DeclareVarStmt(t,i,n,r){void 0===n&&(n=null),void 0===r&&(r=null),e.call(this,r),this.name=t,this.value=i,this.type=n||i.type}return V(DeclareVarStmt,e),DeclareVarStmt.prototype.visitStatement=function(e,t){return e.visitDeclareVarStmt(this,t)},DeclareVarStmt}(xe),Se=function(e){function DeclareFunctionStmt(t,i,n,r,o){void 0===r&&(r=null),void 0===o&&(o=null),e.call(this,o),this.name=t,this.params=i,this.statements=n,this.type=r}return V(DeclareFunctionStmt,e),DeclareFunctionStmt.prototype.visitStatement=function(e,t){return e.visitDeclareFunctionStmt(this,t)},DeclareFunctionStmt}(xe),Pe=function(e){function ExpressionStatement(t){e.call(this),this.expr=t}return V(ExpressionStatement,e),ExpressionStatement.prototype.visitStatement=function(e,t){return e.visitExpressionStmt(this,t)},ExpressionStatement}(xe),ke=function(e){function ReturnStatement(t){e.call(this),this.value=t}return V(ReturnStatement,e),ReturnStatement.prototype.visitStatement=function(e,t){return e.visitReturnStmt(this,t)},ReturnStatement}(xe),Te=function(){function AbstractClassPart(e,t){void 0===e&&(e=null),this.type=e,this.modifiers=t,t||(this.modifiers=[])}return AbstractClassPart.prototype.hasModifier=function(e){return this.modifiers.indexOf(e)!==-1},AbstractClassPart}(),Ae=function(e){function ClassField(t,i,n){void 0===i&&(i=null),void 0===n&&(n=null),e.call(this,i,n),this.name=t}return V(ClassField,e),ClassField}(Te),De=function(e){function ClassMethod(t,i,n,r,o){void 0===r&&(r=null),void 0===o&&(o=null),e.call(this,r,o),this.name=t,this.params=i,this.body=n}return V(ClassMethod,e),ClassMethod}(Te),Me=function(e){function ClassGetter(t,i,n,r){void 0===n&&(n=null),void 0===r&&(r=null),e.call(this,n,r),this.name=t,this.body=i}return V(ClassGetter,e),ClassGetter}(Te),Oe=function(e){function ClassStmt(t,i,n,r,o,s,a){void 0===a&&(a=null),e.call(this,a),this.name=t,this.parent=i,this.fields=n,this.getters=r,this.constructorMethod=o,this.methods=s}return V(ClassStmt,e),ClassStmt.prototype.visitStatement=function(e,t){return e.visitDeclareClassStmt(this,t)},ClassStmt}(xe),Ie=function(e){function IfStmt(t,i,n){void 0===n&&(n=[]),e.call(this),this.condition=t,this.trueCase=i,this.falseCase=n}return V(IfStmt,e),IfStmt.prototype.visitStatement=function(e,t){return e.visitIfStmt(this,t)},IfStmt}(xe),Re=(function(e){function CommentStmt(t){e.call(this),this.comment=t}return V(CommentStmt,e),CommentStmt.prototype.visitStatement=function(e,t){return e.visitCommentStmt(this,t)},CommentStmt}(xe),function(e){function TryCatchStmt(t,i){e.call(this),this.bodyStmts=t,this.catchStmts=i}return V(TryCatchStmt,e),TryCatchStmt.prototype.visitStatement=function(e,t){return e.visitTryCatchStmt(this,t)},TryCatchStmt}(xe)),Ne=function(e){function ThrowStmt(t){e.call(this),this.error=t}return V(ThrowStmt,e),ThrowStmt.prototype.visitStatement=function(e,t){return e.visitThrowStmt(this,t)},ThrowStmt}(xe),Le=function(){function ExpressionTransformer(){}return ExpressionTransformer.prototype.visitReadVarExpr=function(e,t){return e},ExpressionTransformer.prototype.visitWriteVarExpr=function(e,t){return new ee(e.name,e.value.visitExpression(this,t))},ExpressionTransformer.prototype.visitWriteKeyExpr=function(e,t){return new te(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t))},ExpressionTransformer.prototype.visitWritePropExpr=function(e,t){return new ie(e.receiver.visitExpression(this,t),e.name,e.value.visitExpression(this,t))},ExpressionTransformer.prototype.visitInvokeMethodExpr=function(e,t){var i=e.builtin||e.name;return new re(e.receiver.visitExpression(this,t),i,this.visitAllExpressions(e.args,t),e.type)},ExpressionTransformer.prototype.visitInvokeFunctionExpr=function(e,t){return new oe(e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type)},ExpressionTransformer.prototype.visitInstantiateExpr=function(e,t){return new se(e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type)},ExpressionTransformer.prototype.visitLiteralExpr=function(e,t){return e},ExpressionTransformer.prototype.visitExternalExpr=function(e,t){return e},ExpressionTransformer.prototype.visitConditionalExpr=function(e,t){return new ue(e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t))},ExpressionTransformer.prototype.visitNotExpr=function(e,t){return new ce(e.condition.visitExpression(this,t))},ExpressionTransformer.prototype.visitCastExpr=function(e,t){return new he(e.value.visitExpression(this,t),t)},ExpressionTransformer.prototype.visitFunctionExpr=function(e,t){return e},ExpressionTransformer.prototype.visitBinaryOperatorExpr=function(e,t){return new fe(e.operator,e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e.type)},ExpressionTransformer.prototype.visitReadPropExpr=function(e,t){return new me(e.receiver.visitExpression(this,t),e.name,e.type)},ExpressionTransformer.prototype.visitReadKeyExpr=function(e,t){return new ye(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.type)},ExpressionTransformer.prototype.visitLiteralArrayExpr=function(e,t){return new ve(this.visitAllExpressions(e.entries,t))},ExpressionTransformer.prototype.visitLiteralMapExpr=function(e,t){var i=this,n=e.entries.map(function(e){return[e[0],e[1].visitExpression(i,t)]});return new ge(n)},ExpressionTransformer.prototype.visitAllExpressions=function(e,t){var i=this;return e.map(function(e){return e.visitExpression(i,t)})},ExpressionTransformer.prototype.visitDeclareVarStmt=function(e,t){return new Ee(e.name,e.value.visitExpression(this,t),e.type,e.modifiers)},ExpressionTransformer.prototype.visitDeclareFunctionStmt=function(e,t){return e},ExpressionTransformer.prototype.visitExpressionStmt=function(e,t){return new Pe(e.expr.visitExpression(this,t))},ExpressionTransformer.prototype.visitReturnStmt=function(e,t){return new ke(e.value.visitExpression(this,t))},ExpressionTransformer.prototype.visitDeclareClassStmt=function(e,t){return e},ExpressionTransformer.prototype.visitIfStmt=function(e,t){return new Ie(e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t))},ExpressionTransformer.prototype.visitTryCatchStmt=function(e,t){return new Re(this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t));
},ExpressionTransformer.prototype.visitThrowStmt=function(e,t){return new Ne(e.error.visitExpression(this,t))},ExpressionTransformer.prototype.visitCommentStmt=function(e,t){return e},ExpressionTransformer.prototype.visitAllStatements=function(e,t){var i=this;return e.map(function(e){return e.visitStatement(i,t)})},ExpressionTransformer}(),Ve=function(){function RecursiveExpressionVisitor(){}return RecursiveExpressionVisitor.prototype.visitReadVarExpr=function(e,t){return e},RecursiveExpressionVisitor.prototype.visitWriteVarExpr=function(e,t){return e.value.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitWriteKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitWritePropExpr=function(e,t){return e.receiver.visitExpression(this,t),e.value.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitInvokeMethodExpr=function(e,t){return e.receiver.visitExpression(this,t),this.visitAllExpressions(e.args,t),e},RecursiveExpressionVisitor.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e},RecursiveExpressionVisitor.prototype.visitInstantiateExpr=function(e,t){return e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e},RecursiveExpressionVisitor.prototype.visitLiteralExpr=function(e,t){return e},RecursiveExpressionVisitor.prototype.visitExternalExpr=function(e,t){return e},RecursiveExpressionVisitor.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitNotExpr=function(e,t){return e.condition.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitFunctionExpr=function(e,t){return e},RecursiveExpressionVisitor.prototype.visitBinaryOperatorExpr=function(e,t){return e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t),e},RecursiveExpressionVisitor.prototype.visitLiteralMapExpr=function(e,t){var i=this;return e.entries.forEach(function(e){return e[1].visitExpression(i,t)}),e},RecursiveExpressionVisitor.prototype.visitAllExpressions=function(e,t){var i=this;e.forEach(function(e){return e.visitExpression(i,t)})},RecursiveExpressionVisitor.prototype.visitDeclareVarStmt=function(e,t){return e.value.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitDeclareFunctionStmt=function(e,t){return e},RecursiveExpressionVisitor.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitReturnStmt=function(e,t){return e.value.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitDeclareClassStmt=function(e,t){return e},RecursiveExpressionVisitor.prototype.visitIfStmt=function(e,t){return e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e},RecursiveExpressionVisitor.prototype.visitTryCatchStmt=function(e,t){return this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e},RecursiveExpressionVisitor.prototype.visitThrowStmt=function(e,t){return e.error.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitCommentStmt=function(e,t){return e},RecursiveExpressionVisitor.prototype.visitAllStatements=function(e,t){var i=this;e.forEach(function(e){return e.visitStatement(i,t)})},RecursiveExpressionVisitor}(),Fe=function(e){function _ReplaceVariableTransformer(t,i){e.call(this),this._varName=t,this._newValue=i}return V(_ReplaceVariableTransformer,e),_ReplaceVariableTransformer.prototype.visitReadVarExpr=function(e,t){return e.name==this._varName?this._newValue:e},_ReplaceVariableTransformer}(Le),je=function(e){function _VariableFinder(){e.apply(this,arguments),this.varNames=new Set}return V(_VariableFinder,e),_VariableFinder.prototype.visitReadVarExpr=function(e,t){return this.varNames.add(e.name),null},_VariableFinder}(Ve),Be="",ze=/([A-Z])/g,He=function(){function ValueTransformer(){}return ValueTransformer.prototype.visitArray=function(e,t){var i=this;return e.map(function(e){return visitValue(e,i,t)})},ValueTransformer.prototype.visitStringMap=function(e,t){var i=this,n={};return Object.keys(e).forEach(function(r){n[r]=visitValue(e[r],i,t)}),n},ValueTransformer.prototype.visitPrimitive=function(e,t){return e},ValueTransformer.prototype.visitOther=function(e,t){return e},ValueTransformer}(),We=function(){function SyncAsyncResult(e,t){void 0===t&&(t=null),this.syncResult=e,this.asyncResult=t,t||(this.asyncResult=Promise.resolve(e))}return SyncAsyncResult}(),Ge=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},Ue=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/,qe=function(){function CompileMetadataWithIdentifier(){}return Object.defineProperty(CompileMetadataWithIdentifier.prototype,"identifier",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),CompileMetadataWithIdentifier}(),Ye=function(){function CompileAnimationEntryMetadata(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.name=e,this.definitions=t}return CompileAnimationEntryMetadata}(),Ke=function(){function CompileAnimationStateMetadata(){}return CompileAnimationStateMetadata}(),Xe=function(e){function CompileAnimationStateDeclarationMetadata(t,i){e.call(this),this.stateNameExpr=t,this.styles=i}return Ge(CompileAnimationStateDeclarationMetadata,e),CompileAnimationStateDeclarationMetadata}(Ke),Ze=function(e){function CompileAnimationStateTransitionMetadata(t,i){e.call(this),this.stateChangeExpr=t,this.steps=i}return Ge(CompileAnimationStateTransitionMetadata,e),CompileAnimationStateTransitionMetadata}(Ke),Qe=function(){function CompileAnimationMetadata(){}return CompileAnimationMetadata}(),Je=function(e){function CompileAnimationKeyframesSequenceMetadata(t){void 0===t&&(t=[]),e.call(this),this.steps=t}return Ge(CompileAnimationKeyframesSequenceMetadata,e),CompileAnimationKeyframesSequenceMetadata}(Qe),$e=function(e){function CompileAnimationStyleMetadata(t,i){void 0===i&&(i=null),e.call(this),this.offset=t,this.styles=i}return Ge(CompileAnimationStyleMetadata,e),CompileAnimationStyleMetadata}(Qe),et=function(e){function CompileAnimationAnimateMetadata(t,i){void 0===t&&(t=0),void 0===i&&(i=null),e.call(this),this.timings=t,this.styles=i}return Ge(CompileAnimationAnimateMetadata,e),CompileAnimationAnimateMetadata}(Qe),tt=function(e){function CompileAnimationWithStepsMetadata(t){void 0===t&&(t=null),e.call(this),this.steps=t}return Ge(CompileAnimationWithStepsMetadata,e),CompileAnimationWithStepsMetadata}(Qe),it=function(e){function CompileAnimationSequenceMetadata(t){void 0===t&&(t=null),e.call(this,t)}return Ge(CompileAnimationSequenceMetadata,e),CompileAnimationSequenceMetadata}(tt),nt=function(e){function CompileAnimationGroupMetadata(t){void 0===t&&(t=null),e.call(this,t)}return Ge(CompileAnimationGroupMetadata,e),CompileAnimationGroupMetadata}(tt),rt=function(){function CompileIdentifierMetadata(e){var t=void 0===e?{}:e,i=t.reference,n=t.name,r=t.moduleUrl,o=t.prefix,s=t.value;this.reference=i,this.name=n,this.prefix=o,this.moduleUrl=r,this.value=s}return Object.defineProperty(CompileIdentifierMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),CompileIdentifierMetadata}(),ot=function(){function CompileDiDependencyMetadata(e){var t=void 0===e?{}:e,i=t.isAttribute,n=t.isSelf,r=t.isHost,o=t.isSkipSelf,s=t.isOptional,a=t.isValue,l=t.query,u=t.viewQuery,c=t.token,h=t.value;this.isAttribute=normalizeBool(i),this.isSelf=normalizeBool(n),this.isHost=normalizeBool(r),this.isSkipSelf=normalizeBool(o),this.isOptional=normalizeBool(s),this.isValue=normalizeBool(a),this.query=l,this.viewQuery=u,this.token=c,this.value=h}return CompileDiDependencyMetadata}(),st=function(){function CompileProviderMetadata(e){var t=e.token,i=e.useClass,n=e.useValue,r=e.useExisting,o=e.useFactory,s=e.deps,a=e.multi;this.token=t,this.useClass=i,this.useValue=n,this.useExisting=r,this.useFactory=o,this.deps=normalizeBlank(s),this.multi=normalizeBool(a)}return CompileProviderMetadata}(),at=function(e){function CompileFactoryMetadata(t){var i=t.reference,n=t.name,r=t.moduleUrl,o=t.prefix,s=t.diDeps,a=t.value;e.call(this,{reference:i,name:n,prefix:o,moduleUrl:r,value:a}),this.diDeps=_normalizeArray(s)}return Ge(CompileFactoryMetadata,e),CompileFactoryMetadata}(rt),lt=function(){function CompileTokenMetadata(e){var t=e.value,i=e.identifier,n=e.identifierIsInstance;this.value=t,this.identifier=i,this.identifierIsInstance=normalizeBool(n)}return Object.defineProperty(CompileTokenMetadata.prototype,"reference",{get:function(){return isPresent(this.identifier)?this.identifier.reference:this.value},enumerable:!0,configurable:!0}),Object.defineProperty(CompileTokenMetadata.prototype,"name",{get:function(){return isPresent(this.value)?sanitizeIdentifier(this.value):this.identifier.name},enumerable:!0,configurable:!0}),CompileTokenMetadata}(),ut=function(e){function CompileTypeMetadata(t){var i=void 0===t?{}:t,n=i.reference,r=i.name,o=i.moduleUrl,s=i.prefix,a=i.isHost,l=i.value,u=i.diDeps,c=i.lifecycleHooks;e.call(this,{reference:n,name:r,moduleUrl:o,prefix:s,value:l}),this.isHost=normalizeBool(a),this.diDeps=_normalizeArray(u),this.lifecycleHooks=_normalizeArray(c)}return Ge(CompileTypeMetadata,e),CompileTypeMetadata}(rt),ct=function(){function CompileQueryMetadata(e){var t=void 0===e?{}:e,i=t.selectors,n=t.descendants,r=t.first,o=t.propertyName,s=t.read;this.selectors=i,this.descendants=normalizeBool(n),this.first=normalizeBool(r),this.propertyName=o,this.read=s}return CompileQueryMetadata}(),ht=function(){function CompileStylesheetMetadata(e){var t=void 0===e?{}:e,i=t.moduleUrl,n=t.styles,r=t.styleUrls;this.moduleUrl=i,this.styles=_normalizeArray(n),this.styleUrls=_normalizeArray(r)}return CompileStylesheetMetadata}(),pt=function(){function CompileTemplateMetadata(e){var t=void 0===e?{}:e,i=t.encapsulation,n=t.template,r=t.templateUrl,o=t.styles,s=t.styleUrls,a=t.externalStylesheets,l=t.animations,u=t.ngContentSelectors,c=t.interpolation;if(this.encapsulation=i,this.template=n,this.templateUrl=r,this.styles=_normalizeArray(o),this.styleUrls=_normalizeArray(s),this.externalStylesheets=_normalizeArray(a),this.animations=isPresent(l)?P.flatten(l):[],this.ngContentSelectors=u||[],isPresent(c)&&2!=c.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=c}return CompileTemplateMetadata}(),dt=function(){function CompileDirectiveMetadata(e){var t=void 0===e?{}:e,i=t.type,n=t.isComponent,r=t.selector,o=t.exportAs,s=t.changeDetection,a=t.inputs,l=t.outputs,u=t.hostListeners,c=t.hostProperties,h=t.hostAttributes,p=t.providers,d=t.viewProviders,f=t.queries,m=t.viewQueries,y=t.entryComponents,v=t.template;this.type=i,this.isComponent=n,this.selector=r,this.exportAs=o,this.changeDetection=s,this.inputs=a,this.outputs=l,this.hostListeners=u,this.hostProperties=c,this.hostAttributes=h,this.providers=_normalizeArray(p),this.viewProviders=_normalizeArray(d),this.queries=_normalizeArray(f),this.viewQueries=_normalizeArray(m),this.entryComponents=_normalizeArray(y),this.template=v}return CompileDirectiveMetadata.create=function(e){var t=void 0===e?{}:e,i=t.type,n=t.isComponent,r=t.selector,o=t.exportAs,s=t.changeDetection,a=t.inputs,l=t.outputs,u=t.host,c=t.providers,h=t.viewProviders,p=t.queries,d=t.viewQueries,f=t.entryComponents,m=t.template,y={},v={},g={};isPresent(u)&&Object.keys(u).forEach(function(e){var t=u[e],i=e.match(Ue);null===i?g[e]=t:isPresent(i[1])?v[i[1]]=t:isPresent(i[2])&&(y[i[2]]=t)});var _={};isPresent(a)&&a.forEach(function(e){var t=splitAtColon(e,[e,e]);_[t[0]]=t[1]});var b={};return isPresent(l)&&l.forEach(function(e){var t=splitAtColon(e,[e,e]);b[t[0]]=t[1]}),new CompileDirectiveMetadata({type:i,isComponent:normalizeBool(n),selector:r,exportAs:o,changeDetection:s,inputs:_,outputs:b,hostListeners:y,hostProperties:v,hostAttributes:g,providers:c,viewProviders:h,queries:p,viewQueries:d,entryComponents:f,template:m})},Object.defineProperty(CompileDirectiveMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompileDirectiveMetadata}(),ft=function(){function CompilePipeMetadata(e){var t=void 0===e?{}:e,i=t.type,n=t.name,r=t.pure;this.type=i,this.name=n,this.pure=normalizeBool(r)}return Object.defineProperty(CompilePipeMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompilePipeMetadata}(),mt=function(){function CompileNgModuleMetadata(e){var t=void 0===e?{}:e,i=t.type,n=t.providers,r=t.declaredDirectives,o=t.exportedDirectives,s=t.declaredPipes,a=t.exportedPipes,l=t.entryComponents,u=t.bootstrapComponents,c=t.importedModules,h=t.exportedModules,p=t.schemas,d=t.transitiveModule,f=t.id;this.type=i,this.declaredDirectives=_normalizeArray(r),this.exportedDirectives=_normalizeArray(o),this.declaredPipes=_normalizeArray(s),this.exportedPipes=_normalizeArray(a),this.providers=_normalizeArray(n),this.entryComponents=_normalizeArray(l),this.bootstrapComponents=_normalizeArray(u),this.importedModules=_normalizeArray(c),this.exportedModules=_normalizeArray(h),this.schemas=_normalizeArray(p),this.id=f,this.transitiveModule=d}return Object.defineProperty(CompileNgModuleMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompileNgModuleMetadata}(),yt=function(){function TransitiveCompileNgModuleMetadata(e,t,i,n,r){var o=this;this.modules=e,this.providers=t,this.entryComponents=i,this.directives=n,this.pipes=r,this.directivesSet=new Set,this.pipesSet=new Set,n.forEach(function(e){return o.directivesSet.add(e.type.reference)}),r.forEach(function(e){return o.pipesSet.add(e.type.reference)})}return TransitiveCompileNgModuleMetadata}(),vt=function(){function ProviderMeta(e,t){var i=t.useClass,n=t.useValue,r=t.useExisting,o=t.useFactory,s=t.deps,a=t.multi;this.token=e,this.useClass=i,this.useValue=n,this.useExisting=r,this.useFactory=o,this.dependencies=s,this.multi=!!a}return ProviderMeta}(),gt=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},_t=function(){function ParserError(e,t,i,n){this.input=t,this.errLocation=i,this.ctxLocation=n,this.message="Parser Error: "+e+" "+i+" ["+t+"] in "+n}return ParserError}(),bt=function(){function ParseSpan(e,t){this.start=e,this.end=t}return ParseSpan}(),wt=function(){function AST(e){this.span=e}return AST.prototype.visit=function(e,t){return void 0===t&&(t=null),null},AST.prototype.toString=function(){return"AST"},AST}(),Ct=function(e){function Quote(t,i,n,r){e.call(this,t),this.prefix=i,this.uninterpretedExpression=n,this.location=r}return gt(Quote,e),Quote.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitQuote(this,t)},Quote.prototype.toString=function(){return"Quote"},Quote}(wt),xt=function(e){function EmptyExpr(){e.apply(this,arguments)}return gt(EmptyExpr,e),EmptyExpr.prototype.visit=function(e,t){void 0===t&&(t=null)},EmptyExpr}(wt),Et=function(e){function ImplicitReceiver(){e.apply(this,arguments)}return gt(ImplicitReceiver,e),ImplicitReceiver.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitImplicitReceiver(this,t)},ImplicitReceiver}(wt),St=function(e){function Chain(t,i){e.call(this,t),this.expressions=i}return gt(Chain,e),Chain.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitChain(this,t)},Chain}(wt),Pt=function(e){function Conditional(t,i,n,r){e.call(this,t),this.condition=i,this.trueExp=n,this.falseExp=r}return gt(Conditional,e),Conditional.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitConditional(this,t)},Conditional}(wt),kt=function(e){function PropertyRead(t,i,n){e.call(this,t),this.receiver=i,this.name=n}return gt(PropertyRead,e),PropertyRead.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPropertyRead(this,t)},PropertyRead}(wt),Tt=function(e){function PropertyWrite(t,i,n,r){e.call(this,t),this.receiver=i,this.name=n,this.value=r}return gt(PropertyWrite,e),PropertyWrite.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPropertyWrite(this,t)},PropertyWrite}(wt),At=function(e){function SafePropertyRead(t,i,n){e.call(this,t),this.receiver=i,this.name=n}return gt(SafePropertyRead,e),SafePropertyRead.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitSafePropertyRead(this,t)},SafePropertyRead}(wt),Dt=function(e){function KeyedRead(t,i,n){e.call(this,t),this.obj=i,this.key=n}return gt(KeyedRead,e),KeyedRead.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitKeyedRead(this,t)},KeyedRead}(wt),Mt=function(e){function KeyedWrite(t,i,n,r){e.call(this,t),this.obj=i,this.key=n,this.value=r}return gt(KeyedWrite,e),KeyedWrite.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitKeyedWrite(this,t)},KeyedWrite}(wt),Ot=function(e){function BindingPipe(t,i,n,r){e.call(this,t),this.exp=i,this.name=n,this.args=r}return gt(BindingPipe,e),BindingPipe.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPipe(this,t)},BindingPipe}(wt),It=function(e){function LiteralPrimitive(t,i){e.call(this,t),this.value=i}return gt(LiteralPrimitive,e),LiteralPrimitive.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralPrimitive(this,t)},LiteralPrimitive}(wt),Rt=function(e){function LiteralArray(t,i){e.call(this,t),this.expressions=i}return gt(LiteralArray,e),LiteralArray.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralArray(this,t)},LiteralArray}(wt),Nt=function(e){function LiteralMap(t,i,n){e.call(this,t),this.keys=i,this.values=n}return gt(LiteralMap,e),LiteralMap.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralMap(this,t)},LiteralMap}(wt),Lt=function(e){function Interpolation(t,i,n){e.call(this,t),this.strings=i,this.expressions=n}return gt(Interpolation,e),Interpolation.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitInterpolation(this,t)},Interpolation}(wt),Vt=function(e){function Binary(t,i,n,r){e.call(this,t),this.operation=i,this.left=n,this.right=r}return gt(Binary,e),Binary.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitBinary(this,t)},Binary}(wt),Ft=function(e){function PrefixNot(t,i){e.call(this,t),this.expression=i}return gt(PrefixNot,e),PrefixNot.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPrefixNot(this,t)},PrefixNot}(wt),jt=function(e){function MethodCall(t,i,n,r){e.call(this,t),this.receiver=i,this.name=n,this.args=r}return gt(MethodCall,e),MethodCall.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitMethodCall(this,t)},MethodCall}(wt),Bt=function(e){function SafeMethodCall(t,i,n,r){e.call(this,t),this.receiver=i,this.name=n,this.args=r}return gt(SafeMethodCall,e),SafeMethodCall.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitSafeMethodCall(this,t)},SafeMethodCall}(wt),zt=function(e){function FunctionCall(t,i,n){e.call(this,t),this.target=i,this.args=n}return gt(FunctionCall,e),FunctionCall.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitFunctionCall(this,t)},FunctionCall}(wt),Ht=function(e){function ASTWithSource(t,i,n,r){e.call(this,new bt(0,isBlank(i)?0:i.length)),this.ast=t,this.source=i,this.location=n,this.errors=r}return gt(ASTWithSource,e),ASTWithSource.prototype.visit=function(e,t){return void 0===t&&(t=null),this.ast.visit(e,t)},ASTWithSource.prototype.toString=function(){return this.source+" in "+this.location},ASTWithSource}(wt),Wt=function(){function TemplateBinding(e,t,i,n){this.key=e,this.keyIsVar=t,this.name=i,this.expression=n}return TemplateBinding}(),Gt=function(){function RecursiveAstVisitor(){}return RecursiveAstVisitor.prototype.visitBinary=function(e,t){return e.left.visit(this),e.right.visit(this),null},RecursiveAstVisitor.prototype.visitChain=function(e,t){return this.visitAll(e.expressions,t)},RecursiveAstVisitor.prototype.visitConditional=function(e,t){return e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this),null},RecursiveAstVisitor.prototype.visitPipe=function(e,t){return e.exp.visit(this),this.visitAll(e.args,t),null},RecursiveAstVisitor.prototype.visitFunctionCall=function(e,t){return e.target.visit(this),this.visitAll(e.args,t),null},RecursiveAstVisitor.prototype.visitImplicitReceiver=function(e,t){return null},RecursiveAstVisitor.prototype.visitInterpolation=function(e,t){return this.visitAll(e.expressions,t)},RecursiveAstVisitor.prototype.visitKeyedRead=function(e,t){return e.obj.visit(this),e.key.visit(this),null},RecursiveAstVisitor.prototype.visitKeyedWrite=function(e,t){return e.obj.visit(this),e.key.visit(this),e.value.visit(this),null},RecursiveAstVisitor.prototype.visitLiteralArray=function(e,t){return this.visitAll(e.expressions,t)},RecursiveAstVisitor.prototype.visitLiteralMap=function(e,t){return this.visitAll(e.values,t)},RecursiveAstVisitor.prototype.visitLiteralPrimitive=function(e,t){return null},RecursiveAstVisitor.prototype.visitMethodCall=function(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)},RecursiveAstVisitor.prototype.visitPrefixNot=function(e,t){return e.expression.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyRead=function(e,t){return e.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyWrite=function(e,t){return e.receiver.visit(this),e.value.visit(this),null},RecursiveAstVisitor.prototype.visitSafePropertyRead=function(e,t){return e.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitSafeMethodCall=function(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)},RecursiveAstVisitor.prototype.visitAll=function(e,t){var i=this;return e.forEach(function(e){return e.visit(i,t)}),null},RecursiveAstVisitor.prototype.visitQuote=function(e,t){return null},RecursiveAstVisitor}(),Ut=0,qt=9,Yt=10,Kt=11,Xt=12,Zt=13,Qt=32,Jt=33,$t=34,ei=35,ti=36,ii=37,ni=38,ri=39,oi=40,si=41,ai=42,li=43,ui=44,ci=45,hi=46,pi=47,di=58,fi=59,mi=60,yi=61,vi=62,gi=63,_i=48,bi=57,wi=65,Ci=69,xi=70,Ei=88,Si=90,Pi=91,ki=92,Ti=93,Ai=94,Di=95,Mi=97,Oi=101,Ii=102,Ri=110,Ni=114,Li=116,Vi=117,Fi=118,ji=120,Bi=122,zi=123,Hi=124,Wi=125,Gi=160,Ui=96,qi=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//],Yi=function(){function InterpolationConfig(e,t){this.start=e,this.end=t}return InterpolationConfig.fromArray=function(e){return e?(assertInterpolationSymbols("interpolation",e),new InterpolationConfig(e[0],e[1])):Ki},InterpolationConfig}(),Ki=new Yi("{{","}}");!function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.Keyword=2]="Keyword",e[e.String=3]="String",e[e.Operator=4]="Operator",e[e.Number=5]="Number",e[e.Error=6]="Error"}(Ce||(Ce={}));var Xi,Zi=["var","let","null","undefined","true","false","if","else","this"],Qi=function(){function Lexer(){}return Lexer.prototype.tokenize=function(e){for(var t=new en(e),i=[],n=t.scanToken();null!=n;)i.push(n),n=t.scanToken();return i},Lexer.decorators=[{type:i.Injectable}],Lexer.ctorParameters=[],Lexer}(),Ji=function(){function Token(e,t,i,n){this.index=e,this.type=t,this.numValue=i,this.strValue=n}return Token.prototype.isCharacter=function(e){return this.type==Ce.Character&&this.numValue==e},Token.prototype.isNumber=function(){return this.type==Ce.Number},Token.prototype.isString=function(){return this.type==Ce.String},Token.prototype.isOperator=function(e){return this.type==Ce.Operator&&this.strValue==e},Token.prototype.isIdentifier=function(){return this.type==Ce.Identifier},Token.prototype.isKeyword=function(){return this.type==Ce.Keyword},Token.prototype.isKeywordLet=function(){return this.type==Ce.Keyword&&"let"==this.strValue},Token.prototype.isKeywordNull=function(){return this.type==Ce.Keyword&&"null"==this.strValue},Token.prototype.isKeywordUndefined=function(){return this.type==Ce.Keyword&&"undefined"==this.strValue},Token.prototype.isKeywordTrue=function(){return this.type==Ce.Keyword&&"true"==this.strValue},Token.prototype.isKeywordFalse=function(){return this.type==Ce.Keyword&&"false"==this.strValue},Token.prototype.isKeywordThis=function(){return this.type==Ce.Keyword&&"this"==this.strValue},Token.prototype.isError=function(){return this.type==Ce.Error},Token.prototype.toNumber=function(){return this.type==Ce.Number?this.numValue:-1},Token.prototype.toString=function(){switch(this.type){case Ce.Character:case Ce.Identifier:case Ce.Keyword:case Ce.Operator:case Ce.String:case Ce.Error:return this.strValue;case Ce.Number:return this.numValue.toString();default:return null}},Token}(),$i=new Ji((-1),Ce.Character,0,""),en=function(){function _Scanner(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}return _Scanner.prototype.advance=function(){this.peek=++this.index>=this.length?Ut:this.input.charCodeAt(this.index)},_Scanner.prototype.scanToken=function(){for(var e=this.input,t=this.length,i=this.peek,n=this.index;i<=Qt;){if(++n>=t){i=Ut;break}i=e.charCodeAt(n)}if(this.peek=i,this.index=n,n>=t)return null;if(isIdentifierStart(i))return this.scanIdentifier();if(isDigit(i))return this.scanNumber(n);var r=n;switch(i){case hi:return this.advance(),isDigit(this.peek)?this.scanNumber(r):newCharacterToken(r,hi);case oi:case si:case zi:case Wi:case Pi:case Ti:case ui:case di:case fi:return this.scanCharacter(r,i);case ri:case $t:return this.scanString();case ei:case li:case ci:case ai:case pi:case ii:case Ai:return this.scanOperator(r,String.fromCharCode(i));case gi:return this.scanComplexOperator(r,"?",hi,".");case mi:case vi:return this.scanComplexOperator(r,String.fromCharCode(i),yi,"=");case Jt:case yi:return this.scanComplexOperator(r,String.fromCharCode(i),yi,"=",yi,"=");case ni:return this.scanComplexOperator(r,"&",ni,"&");case Hi:return this.scanComplexOperator(r,"|",Hi,"|");case Gi:for(;isWhitespace(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character ["+String.fromCharCode(i)+"]",0)},_Scanner.prototype.scanCharacter=function(e,t){return this.advance(),newCharacterToken(e,t)},_Scanner.prototype.scanOperator=function(e,t){return this.advance(),newOperatorToken(e,t)},_Scanner.prototype.scanComplexOperator=function(e,t,i,n,r,o){this.advance();var s=t;return this.peek==i&&(this.advance(),s+=n),isPresent(r)&&this.peek==r&&(this.advance(),s+=o),newOperatorToken(e,s)},_Scanner.prototype.scanIdentifier=function(){var e=this.index;for(this.advance();isIdentifierPart(this.peek);)this.advance();var t=this.input.substring(e,this.index);return Zi.indexOf(t)>-1?newKeywordToken(e,t):newIdentifierToken(e,t)},_Scanner.prototype.scanNumber=function(e){var t=this.index===e;for(this.advance();;){if(isDigit(this.peek));else if(this.peek==hi)t=!1;else{if(!isExponentStart(this.peek))break;if(this.advance(),isExponentSign(this.peek)&&this.advance(),!isDigit(this.peek))return this.error("Invalid exponent",-1);t=!1}this.advance()}var i=this.input.substring(e,this.index),n=t?w.parseIntAutoRadix(i):parseFloat(i);return newNumberToken(e,n)},_Scanner.prototype.scanString=function(){var e=this.index,t=this.peek;this.advance();for(var i,n=this.index,r=this.input;this.peek!=t;)if(this.peek==ki){null==i&&(i=new b),i.add(r.substring(n,this.index)),this.advance();var o;if(this.peek==Vi){var s=r.substring(this.index+1,this.index+5);try{o=w.parseInt(s,16)}catch(a){return this.error("Invalid unicode escape [\\u"+s+"]",0)}for(var l=0;l<5;l++)this.advance()}else o=unescape(this.peek),this.advance();i.add(String.fromCharCode(o)),n=this.index}else{if(this.peek==Ut)return this.error("Unterminated quote",0);this.advance()}var u=r.substring(n,this.index);this.advance();var c=u;return null!=i&&(i.add(u),c=i.toString()),newStringToken(e,c)},_Scanner.prototype.error=function(e,t){var i=this.index+t;return newErrorToken(i,"Lexer Error: "+e+" at column "+i+" in expression ["+this.input+"]")},_Scanner}(),tn=function(){function SplitInterpolation(e,t,i){this.strings=e,this.expressions=t,this.offsets=i}return SplitInterpolation}(),nn=function(){function TemplateBindingParseResult(e,t,i){this.templateBindings=e,this.warnings=t,this.errors=i}return TemplateBindingParseResult}(),rn=function(){function Parser(e){this._lexer=e,this.errors=[]}return Parser.prototype.parseAction=function(e,t,i){void 0===i&&(i=Ki),this._checkNoInterpolation(e,t,i);var n=this._stripComments(e),r=this._lexer.tokenize(this._stripComments(e)),o=new on(e,t,r,n.length,(!0),this.errors,e.length-n.length).parseChain();return new Ht(o,e,t,this.errors)},Parser.prototype.parseBinding=function(e,t,i){void 0===i&&(i=Ki);var n=this._parseBindingAst(e,t,i);return new Ht(n,e,t,this.errors)},Parser.prototype.parseSimpleBinding=function(e,t,i){void 0===i&&(i=Ki);var n=this._parseBindingAst(e,t,i);return sn.check(n)||this._reportError("Host binding expression can only contain field access and constants",e,t),new Ht(n,e,t,this.errors)},Parser.prototype._reportError=function(e,t,i,n){this.errors.push(new _t(e,t,i,n))},Parser.prototype._parseBindingAst=function(e,t,i){var n=this._parseQuote(e,t);if(isPresent(n))return n;this._checkNoInterpolation(e,t,i);var r=this._stripComments(e),o=this._lexer.tokenize(r);return new on(e,t,o,r.length,(!1),this.errors,e.length-r.length).parseChain()},Parser.prototype._parseQuote=function(e,t){if(isBlank(e))return null;var i=e.indexOf(":");if(i==-1)return null;var n=e.substring(0,i).trim();if(!isIdentifier(n))return null;var r=e.substring(i+1);return new Ct(new bt(0,e.length),n,r,t)},Parser.prototype.parseTemplateBindings=function(e,t){var i=this._lexer.tokenize(e);return new on(e,t,i,e.length,(!1),this.errors,0).parseTemplateBindings()},Parser.prototype.parseInterpolation=function(e,t,i){void 0===i&&(i=Ki);var n=this.splitInterpolation(e,t,i);if(null==n)return null;for(var r=[],o=0;o<n.expressions.length;++o){var s=n.expressions[o],a=this._stripComments(s),l=this._lexer.tokenize(this._stripComments(n.expressions[o])),u=new on(e,t,l,a.length,(!1),this.errors,n.offsets[o]+(s.length-a.length)).parseChain();r.push(u)}return new Ht(new Lt(new bt(0,isBlank(e)?0:e.length),n.strings,r),e,t,this.errors)},Parser.prototype.splitInterpolation=function(e,t,i){void 0===i&&(i=Ki);var n=_createInterpolateRegExp(i),r=e.split(n);if(r.length<=1)return null;for(var o=[],s=[],a=[],l=0,u=0;u<r.length;u++){var c=r[u];u%2===0?(o.push(c),l+=c.length):c.trim().length>0?(l+=i.start.length,s.push(c),a.push(l),l+=c.length+i.end.length):this._reportError("Blank expressions are not allowed in interpolated strings",e,"at column "+this._findInterpolationErrorColumn(r,u,i)+" in",t)}return new tn(o,s,a)},Parser.prototype.wrapLiteralPrimitive=function(e,t){return new Ht(new It(new bt(0,isBlank(e)?0:e.length),e),e,t,this.errors)},Parser.prototype._stripComments=function(e){var t=this._commentStart(e);return isPresent(t)?e.substring(0,t).trim():e},Parser.prototype._commentStart=function(e){for(var t=null,i=0;i<e.length-1;i++){var n=e.charCodeAt(i),r=e.charCodeAt(i+1);if(n===pi&&r==pi&&isBlank(t))return i;t===n?t=null:isBlank(t)&&isQuote(n)&&(t=n)}return null},Parser.prototype._checkNoInterpolation=function(e,t,i){var n=_createInterpolateRegExp(i),r=e.split(n);r.length>1&&this._reportError("Got interpolation ("+i.start+i.end+") where expression was expected",e,"at column "+this._findInterpolationErrorColumn(r,1,i)+" in",t);
},Parser.prototype._findInterpolationErrorColumn=function(e,t,i){for(var n="",r=0;r<t;r++)n+=r%2===0?e[r]:""+i.start+e[r]+i.end;return n.length},Parser.decorators=[{type:i.Injectable}],Parser.ctorParameters=[{type:Qi}],Parser}(),on=function(){function _ParseAST(e,t,i,n,r,o,s){this.input=e,this.location=t,this.tokens=i,this.inputLength=n,this.parseAction=r,this.errors=o,this.offset=s,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}return _ParseAST.prototype.peek=function(e){var t=this.index+e;return t<this.tokens.length?this.tokens[t]:$i},Object.defineProperty(_ParseAST.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(_ParseAST.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset},enumerable:!0,configurable:!0}),_ParseAST.prototype.span=function(e){return new bt(e,this.inputIndex)},_ParseAST.prototype.advance=function(){this.index++},_ParseAST.prototype.optionalCharacter=function(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)},_ParseAST.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},_ParseAST.prototype.expectCharacter=function(e){this.optionalCharacter(e)||this.error("Missing expected "+String.fromCharCode(e))},_ParseAST.prototype.optionalOperator=function(e){return!!this.next.isOperator(e)&&(this.advance(),!0)},_ParseAST.prototype.expectOperator=function(e){this.optionalOperator(e)||this.error("Missing expected operator "+e)},_ParseAST.prototype.expectIdentifierOrKeyword=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(this.error("Unexpected token "+e+", expected identifier or keyword"),"")},_ParseAST.prototype.expectIdentifierOrKeywordOrString=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(this.error("Unexpected token "+e+", expected identifier, keyword, or string"),"")},_ParseAST.prototype.parseChain=function(){for(var e=[],t=this.inputIndex;this.index<this.tokens.length;){var i=this.parsePipe();if(e.push(i),this.optionalCharacter(fi))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(fi););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==e.length?new xt(this.span(t)):1==e.length?e[0]:new St(this.span(t),e)},_ParseAST.prototype.parsePipe=function(){var e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var t=this.expectIdentifierOrKeyword(),i=[];this.optionalCharacter(di);)i.push(this.parseExpression());e=new Ot(this.span(e.span.start-this.offset),e,t,i)}while(this.optionalOperator("|"))}return e},_ParseAST.prototype.parseExpression=function(){return this.parseConditional()},_ParseAST.prototype.parseConditional=function(){var e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){var i=this.parsePipe(),n=void 0;if(this.optionalCharacter(di))n=this.parsePipe();else{var r=this.inputIndex,o=this.input.substring(e,r);this.error("Conditional expression "+o+" requires all 3 expressions"),n=new xt(this.span(e))}return new Pt(this.span(e),t,i,n)}return t},_ParseAST.prototype.parseLogicalOr=function(){for(var e=this.parseLogicalAnd();this.optionalOperator("||");){var t=this.parseLogicalAnd();e=new Vt(this.span(e.span.start),"||",e,t)}return e},_ParseAST.prototype.parseLogicalAnd=function(){for(var e=this.parseEquality();this.optionalOperator("&&");){var t=this.parseEquality();e=new Vt(this.span(e.span.start),"&&",e,t)}return e},_ParseAST.prototype.parseEquality=function(){for(var e=this.parseRelational();this.next.type==Ce.Operator;){var t=this.next.strValue;switch(t){case"==":case"===":case"!=":case"!==":this.advance();var i=this.parseRelational();e=new Vt(this.span(e.span.start),t,e,i);continue}break}return e},_ParseAST.prototype.parseRelational=function(){for(var e=this.parseAdditive();this.next.type==Ce.Operator;){var t=this.next.strValue;switch(t){case"<":case">":case"<=":case">=":this.advance();var i=this.parseAdditive();e=new Vt(this.span(e.span.start),t,e,i);continue}break}return e},_ParseAST.prototype.parseAdditive=function(){for(var e=this.parseMultiplicative();this.next.type==Ce.Operator;){var t=this.next.strValue;switch(t){case"+":case"-":this.advance();var i=this.parseMultiplicative();e=new Vt(this.span(e.span.start),t,e,i);continue}break}return e},_ParseAST.prototype.parseMultiplicative=function(){for(var e=this.parsePrefix();this.next.type==Ce.Operator;){var t=this.next.strValue;switch(t){case"*":case"%":case"/":this.advance();var i=this.parsePrefix();e=new Vt(this.span(e.span.start),t,e,i);continue}break}return e},_ParseAST.prototype.parsePrefix=function(){if(this.next.type==Ce.Operator){var e=this.inputIndex,t=this.next.strValue,i=void 0;switch(t){case"+":return this.advance(),this.parsePrefix();case"-":return this.advance(),i=this.parsePrefix(),new Vt(this.span(e),t,new It(new bt(e,e),0),i);case"!":return this.advance(),i=this.parsePrefix(),new Ft(this.span(e),i)}}return this.parseCallChain()},_ParseAST.prototype.parseCallChain=function(){for(var e=this.parsePrimary();;)if(this.optionalCharacter(hi))e=this.parseAccessMemberOrMethodCall(e,!1);else if(this.optionalOperator("?."))e=this.parseAccessMemberOrMethodCall(e,!0);else if(this.optionalCharacter(Pi)){this.rbracketsExpected++;var t=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(Ti),this.optionalOperator("=")){var i=this.parseConditional();e=new Mt(this.span(e.span.start),e,t,i)}else e=new Dt(this.span(e.span.start),e,t)}else{if(!this.optionalCharacter(oi))return e;this.rparensExpected++;var n=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(si),e=new zt(this.span(e.span.start),e,n)}},_ParseAST.prototype.parsePrimary=function(){var e=this.inputIndex;if(this.optionalCharacter(oi)){this.rparensExpected++;var t=this.parsePipe();return this.rparensExpected--,this.expectCharacter(si),t}if(this.next.isKeywordNull())return this.advance(),new It(this.span(e),null);if(this.next.isKeywordUndefined())return this.advance(),new It(this.span(e),(void 0));if(this.next.isKeywordTrue())return this.advance(),new It(this.span(e),(!0));if(this.next.isKeywordFalse())return this.advance(),new It(this.span(e),(!1));if(this.next.isKeywordThis())return this.advance(),new Et(this.span(e));if(this.optionalCharacter(Pi)){this.rbracketsExpected++;var i=this.parseExpressionList(Ti);return this.rbracketsExpected--,this.expectCharacter(Ti),new Rt(this.span(e),i)}if(this.next.isCharacter(zi))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new Et(this.span(e)),!1);if(this.next.isNumber()){var n=this.next.toNumber();return this.advance(),new It(this.span(e),n)}if(this.next.isString()){var r=this.next.toString();return this.advance(),new It(this.span(e),r)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: "+this.input),new xt(this.span(e))):(this.error("Unexpected token "+this.next),new xt(this.span(e)))},_ParseAST.prototype.parseExpressionList=function(e){var t=[];if(!this.next.isCharacter(e))do t.push(this.parsePipe());while(this.optionalCharacter(ui));return t},_ParseAST.prototype.parseLiteralMap=function(){var e=[],t=[],i=this.inputIndex;if(this.expectCharacter(zi),!this.optionalCharacter(Wi)){this.rbracesExpected++;do{var n=this.expectIdentifierOrKeywordOrString();e.push(n),this.expectCharacter(di),t.push(this.parsePipe())}while(this.optionalCharacter(ui));this.rbracesExpected--,this.expectCharacter(Wi)}return new Nt(this.span(i),e,t)},_ParseAST.prototype.parseAccessMemberOrMethodCall=function(e,t){void 0===t&&(t=!1);var i=e.span.start,n=this.expectIdentifierOrKeyword();if(this.optionalCharacter(oi)){this.rparensExpected++;var r=this.parseCallArguments();this.expectCharacter(si),this.rparensExpected--;var o=this.span(i);return t?new Bt(o,e,n,r):new jt(o,e,n,r)}if(t)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new xt(this.span(i))):new At(this.span(i),e,n);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new xt(this.span(i));var s=this.parseConditional();return new Tt(this.span(i),e,n,s)}return new kt(this.span(i),e,n)},_ParseAST.prototype.parseCallArguments=function(){if(this.next.isCharacter(si))return[];var e=[];do e.push(this.parsePipe());while(this.optionalCharacter(ui));return e},_ParseAST.prototype.expectTemplateBindingKey=function(){var e="",t=!1;do e+=this.expectIdentifierOrKeywordOrString(),t=this.optionalOperator("-"),t&&(e+="-");while(t);return e.toString()},_ParseAST.prototype.parseTemplateBindings=function(){for(var e=[],t=null,i=[];this.index<this.tokens.length;){var n=this.peekKeywordLet();n&&this.advance();var r=this.expectTemplateBindingKey();n||(null==t?t=r:r=t+r[0].toUpperCase()+r.substring(1)),this.optionalCharacter(di);var o=null,s=null;if(n)o=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==$i&&!this.peekKeywordLet()){var a=this.inputIndex,l=this.parsePipe(),u=this.input.substring(a,this.inputIndex);s=new Ht(l,u,this.location,this.errors)}e.push(new Wt(r,n,o,s)),this.optionalCharacter(fi)||this.optionalCharacter(ui)}return new nn(e,i,this.errors)},_ParseAST.prototype.error=function(e,t){void 0===t&&(t=null),this.errors.push(new _t(e,this.input,this.locationText(t),this.location)),this.skip()},_ParseAST.prototype.locationText=function(e){return void 0===e&&(e=null),isBlank(e)&&(e=this.index),e<this.tokens.length?"at column "+(this.tokens[e].index+1)+" in":"at the end of the expression"},_ParseAST.prototype.skip=function(){for(var e=this.next;this.index<this.tokens.length&&!e.isCharacter(fi)&&(this.rparensExpected<=0||!e.isCharacter(si))&&(this.rbracesExpected<=0||!e.isCharacter(Wi))&&(this.rbracketsExpected<=0||!e.isCharacter(Ti));)this.next.isError()&&this.errors.push(new _t(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next},_ParseAST}(),sn=function(){function SimpleExpressionChecker(){this.simple=!0}return SimpleExpressionChecker.check=function(e){var t=new SimpleExpressionChecker;return e.visit(t),t.simple},SimpleExpressionChecker.prototype.visitImplicitReceiver=function(e,t){},SimpleExpressionChecker.prototype.visitInterpolation=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralPrimitive=function(e,t){},SimpleExpressionChecker.prototype.visitPropertyRead=function(e,t){},SimpleExpressionChecker.prototype.visitPropertyWrite=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitSafePropertyRead=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitMethodCall=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitSafeMethodCall=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitFunctionCall=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralArray=function(e,t){this.visitAll(e.expressions)},SimpleExpressionChecker.prototype.visitLiteralMap=function(e,t){this.visitAll(e.values)},SimpleExpressionChecker.prototype.visitBinary=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitPrefixNot=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitConditional=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitPipe=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedRead=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedWrite=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitAll=function(e){var t=this;return e.map(function(e){return e.visit(t)})},SimpleExpressionChecker.prototype.visitChain=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitQuote=function(e,t){this.simple=!1},SimpleExpressionChecker}(),an=function(){function ParseLocation(e,t,i,n){this.file=e,this.offset=t,this.line=i,this.col=n}return ParseLocation.prototype.toString=function(){return isPresent(this.offset)?this.file.url+"@"+this.line+":"+this.col:this.file.url},ParseLocation}(),ln=function(){function ParseSourceFile(e,t){this.content=e,this.url=t}return ParseSourceFile}(),un=function(){function ParseSourceSpan(e,t,i){void 0===i&&(i=null),this.start=e,this.end=t,this.details=i}return ParseSourceSpan.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},ParseSourceSpan}();!function(e){e[e.WARNING=0]="WARNING",e[e.FATAL=1]="FATAL"}(Xi||(Xi={}));var cn,hn=function(){function ParseError(e,t,i){void 0===i&&(i=Xi.FATAL),this.span=e,this.msg=t,this.level=i}return ParseError.prototype.toString=function(){var e=this.span.start.file.content,t=this.span.start.offset,i="",n="";if(isPresent(t)){t>e.length-1&&(t=e.length-1);for(var r=t,o=0,s=0;o<100&&t>0&&(t--,o++,"\n"!=e[t]||3!=++s););for(o=0,s=0;o<100&&r<e.length-1&&(r++,o++,"\n"!=e[r]||3!=++s););var a=e.substring(t,this.span.start.offset)+"[ERROR ->]"+e.substring(this.span.start.offset,r+1);i=' ("'+a+'")'}return this.span.details&&(n=", "+this.span.details),""+this.msg+i+": "+this.span.start+n},ParseError}(),pn=function(){function Text(e,t){this.value=e,this.sourceSpan=t}return Text.prototype.visit=function(e,t){return e.visitText(this,t)},Text}(),dn=function(){function Expansion(e,t,i,n,r){this.switchValue=e,this.type=t,this.cases=i,this.sourceSpan=n,this.switchValueSourceSpan=r}return Expansion.prototype.visit=function(e,t){return e.visitExpansion(this,t)},Expansion}(),mn=function(){function ExpansionCase(e,t,i,n,r){this.value=e,this.expression=t,this.sourceSpan=i,this.valueSourceSpan=n,this.expSourceSpan=r}return ExpansionCase.prototype.visit=function(e,t){return e.visitExpansionCase(this,t)},ExpansionCase}(),yn=function(){function Attribute(e,t,i,n){this.name=e,this.value=t,this.sourceSpan=i,this.valueSpan=n}return Attribute.prototype.visit=function(e,t){return e.visitAttribute(this,t)},Attribute}(),vn=function(){function Element(e,t,i,n,r,o){this.name=e,this.attrs=t,this.children=i,this.sourceSpan=n,this.startSourceSpan=r,this.endSourceSpan=o}return Element.prototype.visit=function(e,t){return e.visitElement(this,t)},Element}(),gn=function(){function Comment(e,t){this.value=e,this.sourceSpan=t}return Comment.prototype.visit=function(e,t){return e.visitComment(this,t)},Comment}(),_n=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)};!function(e){e[e.TAG_OPEN_START=0]="TAG_OPEN_START",e[e.TAG_OPEN_END=1]="TAG_OPEN_END",e[e.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",e[e.TAG_CLOSE=3]="TAG_CLOSE",e[e.TEXT=4]="TEXT",e[e.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",e[e.RAW_TEXT=6]="RAW_TEXT",e[e.COMMENT_START=7]="COMMENT_START",e[e.COMMENT_END=8]="COMMENT_END",e[e.CDATA_START=9]="CDATA_START",e[e.CDATA_END=10]="CDATA_END",e[e.ATTR_NAME=11]="ATTR_NAME",e[e.ATTR_VALUE=12]="ATTR_VALUE",e[e.DOC_TYPE=13]="DOC_TYPE",e[e.EXPANSION_FORM_START=14]="EXPANSION_FORM_START",e[e.EXPANSION_CASE_VALUE=15]="EXPANSION_CASE_VALUE",e[e.EXPANSION_CASE_EXP_START=16]="EXPANSION_CASE_EXP_START",e[e.EXPANSION_CASE_EXP_END=17]="EXPANSION_CASE_EXP_END",e[e.EXPANSION_FORM_END=18]="EXPANSION_FORM_END",e[e.EOF=19]="EOF"}(cn||(cn={}));var bn,wn=function(){function Token(e,t,i){this.type=e,this.parts=t,this.sourceSpan=i}return Token}(),Cn=function(e){function TokenError(t,i,n){e.call(this,n,t),this.tokenType=i}return _n(TokenError,e),TokenError}(hn),xn=function(){function TokenizeResult(e,t){this.tokens=e,this.errors=t}return TokenizeResult}(),En=/\r\n?/g,Sn=function(){function _ControlFlowError(e){this.error=e}return _ControlFlowError}(),Pn=function(){function _Tokenizer(e,t,i,n){void 0===n&&(n=Ki),this._file=e,this._getTagDefinition=t,this._tokenizeIcu=i,this._interpolationConfig=n,this._peek=-1,this._nextPeek=-1,this._index=-1,this._line=0,this._column=-1,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._input=e.content,this._length=e.content.length,this._advance()}return _Tokenizer.prototype._processCarriageReturns=function(e){return e.replace(En,"\n")},_Tokenizer.prototype.tokenize=function(){for(;this._peek!==Ut;){var e=this._getLocation();try{this._attemptCharCode(mi)?this._attemptCharCode(Jt)?this._attemptCharCode(Pi)?this._consumeCdata(e):this._attemptCharCode(ci)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(pi)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(t){if(!(t instanceof Sn))throw t;this.errors.push(t.error)}}return this._beginToken(cn.EOF),this._endToken([]),new xn(mergeTextTokens(this.tokens),this.errors)},_Tokenizer.prototype._tokenizeExpansionForm=function(){if(isExpansionFormStart(this._input,this._index,this._interpolationConfig))return this._consumeExpansionFormStart(),!0;if(isExpansionCaseStart(this._peek)&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._peek===Wi){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1},_Tokenizer.prototype._getLocation=function(){return new an(this._file,this._index,this._line,this._column)},_Tokenizer.prototype._getSpan=function(e,t){return void 0===e&&(e=this._getLocation()),void 0===t&&(t=this._getLocation()),new un(e,t)},_Tokenizer.prototype._beginToken=function(e,t){void 0===t&&(t=this._getLocation()),this._currentTokenStart=t,this._currentTokenType=e},_Tokenizer.prototype._endToken=function(e,t){void 0===t&&(t=this._getLocation());var i=new wn(this._currentTokenType,e,new un(this._currentTokenStart,t));return this.tokens.push(i),this._currentTokenStart=null,this._currentTokenType=null,i},_Tokenizer.prototype._createError=function(e,t){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var i=new Cn(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new Sn(i)},_Tokenizer.prototype._advance=function(){if(this._index>=this._length)throw this._createError(_unexpectedCharacterErrorMsg(Ut),this._getSpan());this._peek===Yt?(this._line++,this._column=0):this._peek!==Yt&&this._peek!==Zt&&this._column++,this._index++,this._peek=this._index>=this._length?Ut:this._input.charCodeAt(this._index),this._nextPeek=this._index+1>=this._length?Ut:this._input.charCodeAt(this._index+1)},_Tokenizer.prototype._attemptCharCode=function(e){return this._peek===e&&(this._advance(),!0)},_Tokenizer.prototype._attemptCharCodeCaseInsensitive=function(e){return!!compareCharCodeCaseInsensitive(this._peek,e)&&(this._advance(),!0)},_Tokenizer.prototype._requireCharCode=function(e){var t=this._getLocation();if(!this._attemptCharCode(e))throw this._createError(_unexpectedCharacterErrorMsg(this._peek),this._getSpan(t,t))},_Tokenizer.prototype._attemptStr=function(e){var t=e.length;if(this._index+t>this._length)return!1;for(var i=this._savePosition(),n=0;n<t;n++)if(!this._attemptCharCode(e.charCodeAt(n)))return this._restorePosition(i),!1;return!0},_Tokenizer.prototype._attemptStrCaseInsensitive=function(e){for(var t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0},_Tokenizer.prototype._requireStr=function(e){var t=this._getLocation();if(!this._attemptStr(e))throw this._createError(_unexpectedCharacterErrorMsg(this._peek),this._getSpan(t))},_Tokenizer.prototype._attemptCharCodeUntilFn=function(e){for(;!e(this._peek);)this._advance()},_Tokenizer.prototype._requireCharCodeUntilFn=function(e,t){var i=this._getLocation();if(this._attemptCharCodeUntilFn(e),this._index-i.offset<t)throw this._createError(_unexpectedCharacterErrorMsg(this._peek),this._getSpan(i,i))},_Tokenizer.prototype._attemptUntilChar=function(e){for(;this._peek!==e;)this._advance()},_Tokenizer.prototype._readChar=function(e){if(e&&this._peek===ni)return this._decodeEntity();var t=this._index;return this._advance(),this._input[t]},_Tokenizer.prototype._decodeEntity=function(){var e=this._getLocation();if(this._advance(),!this._attemptCharCode(ei)){var t=this._savePosition();if(this._attemptCharCodeUntilFn(isNamedEntityEnd),this._peek!=fi)return this._restorePosition(t),"&";this._advance();var i=this._input.substring(e.offset+1,this._index-1),n=T[i];if(!n)throw this._createError(_unknownEntityErrorMsg(i),this._getSpan(e));return n}var r=this._attemptCharCode(ji)||this._attemptCharCode(Ei),o=this._getLocation().offset;if(this._attemptCharCodeUntilFn(isDigitEntityEnd),this._peek!=fi)throw this._createError(_unexpectedCharacterErrorMsg(this._peek),this._getSpan());this._advance();var s=this._input.substring(o,this._index-1);try{var a=parseInt(s,r?16:10);return String.fromCharCode(a)}catch(l){var u=this._input.substring(e.offset+1,this._index-1);throw this._createError(_unknownEntityErrorMsg(u),this._getSpan(e))}},_Tokenizer.prototype._consumeRawText=function(e,t,i){var n,r=this._getLocation();this._beginToken(e?cn.ESCAPABLE_RAW_TEXT:cn.RAW_TEXT,r);for(var o=[];;){if(n=this._getLocation(),this._attemptCharCode(t)&&i())break;for(this._index>n.offset&&o.push(this._input.substring(n.offset,this._index));this._peek!==t;)o.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(o.join(""))],n)},_Tokenizer.prototype._consumeComment=function(e){var t=this;this._beginToken(cn.COMMENT_START,e),this._requireCharCode(ci),this._endToken([]);var i=this._consumeRawText(!1,ci,function(){return t._attemptStr("->")});this._beginToken(cn.COMMENT_END,i.sourceSpan.end),this._endToken([])},_Tokenizer.prototype._consumeCdata=function(e){var t=this;this._beginToken(cn.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]);var i=this._consumeRawText(!1,Ti,function(){return t._attemptStr("]>")});this._beginToken(cn.CDATA_END,i.sourceSpan.end),this._endToken([])},_Tokenizer.prototype._consumeDocType=function(e){this._beginToken(cn.DOC_TYPE,e),this._attemptUntilChar(vi),this._advance(),this._endToken([this._input.substring(e.offset+2,this._index-1)])},_Tokenizer.prototype._consumePrefixAndName=function(){for(var e=this._index,t=null;this._peek!==di&&!isPrefixEnd(this._peek);)this._advance();var i;this._peek===di?(this._advance(),t=this._input.substring(e,this._index-1),i=this._index):i=e,this._requireCharCodeUntilFn(isNameEnd,this._index===i?1:0);var n=this._input.substring(i,this._index);return[t,n]},_Tokenizer.prototype._consumeTagOpen=function(e){var t,i,n=this._savePosition();try{if(!isAsciiLetter(this._peek))throw this._createError(_unexpectedCharacterErrorMsg(this._peek),this._getSpan());var r=this._index;for(this._consumeTagOpenStart(e),t=this._input.substring(r,this._index),i=t.toLowerCase(),this._attemptCharCodeUntilFn(isNotWhitespace);this._peek!==pi&&this._peek!==vi;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode(yi)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeTagOpenEnd()}catch(o){if(o instanceof Sn)return this._restorePosition(n),this._beginToken(cn.TEXT,e),void this._endToken(["<"]);throw o}var s=this._getTagDefinition(t).contentType;s===g.RAW_TEXT?this._consumeRawTextWithTagClose(i,!1):s===g.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(i,!0)},_Tokenizer.prototype._consumeRawTextWithTagClose=function(e,t){var i=this,n=this._consumeRawText(t,mi,function(){return!!i._attemptCharCode(pi)&&(i._attemptCharCodeUntilFn(isNotWhitespace),!!i._attemptStrCaseInsensitive(e)&&(i._attemptCharCodeUntilFn(isNotWhitespace),i._attemptCharCode(vi)))});this._beginToken(cn.TAG_CLOSE,n.sourceSpan.end),this._endToken([null,e])},_Tokenizer.prototype._consumeTagOpenStart=function(e){this._beginToken(cn.TAG_OPEN_START,e);var t=this._consumePrefixAndName();this._endToken(t)},_Tokenizer.prototype._consumeAttributeName=function(){this._beginToken(cn.ATTR_NAME);var e=this._consumePrefixAndName();this._endToken(e)},_Tokenizer.prototype._consumeAttributeValue=function(){this._beginToken(cn.ATTR_VALUE);var e;if(this._peek===ri||this._peek===$t){var t=this._peek;this._advance();for(var i=[];this._peek!==t;)i.push(this._readChar(!0));e=i.join(""),this._advance()}else{var n=this._index;this._requireCharCodeUntilFn(isNameEnd,1),e=this._input.substring(n,this._index)}this._endToken([this._processCarriageReturns(e)])},_Tokenizer.prototype._consumeTagOpenEnd=function(){var e=this._attemptCharCode(pi)?cn.TAG_OPEN_END_VOID:cn.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(vi),this._endToken([])},_Tokenizer.prototype._consumeTagClose=function(e){this._beginToken(cn.TAG_CLOSE,e),this._attemptCharCodeUntilFn(isNotWhitespace);var t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode(vi),this._endToken(t)},_Tokenizer.prototype._consumeExpansionFormStart=function(){this._beginToken(cn.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode(zi),this._endToken([]),this._expansionCaseStack.push(cn.EXPANSION_FORM_START),this._beginToken(cn.RAW_TEXT,this._getLocation());var e=this._readUntil(ui);this._endToken([e],this._getLocation()),this._requireCharCode(ui),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(cn.RAW_TEXT,this._getLocation());var t=this._readUntil(ui);this._endToken([t],this._getLocation()),this._requireCharCode(ui),this._attemptCharCodeUntilFn(isNotWhitespace)},_Tokenizer.prototype._consumeExpansionCaseStart=function(){this._beginToken(cn.EXPANSION_CASE_VALUE,this._getLocation());var e=this._readUntil(zi).trim();this._endToken([e],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(cn.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode(zi),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.push(cn.EXPANSION_CASE_EXP_START)},_Tokenizer.prototype._consumeExpansionCaseEnd=function(){this._beginToken(cn.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode(Wi),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.pop()},_Tokenizer.prototype._consumeExpansionFormEnd=function(){this._beginToken(cn.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode(Wi),this._endToken([]),this._expansionCaseStack.pop()},_Tokenizer.prototype._consumeText=function(){var e=this._getLocation();this._beginToken(cn.TEXT,e);var t=[];do this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(t.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._attemptStr(this._interpolationConfig.end)&&this._inInterpolation?(t.push(this._interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0));while(!this._isTextEnd());this._endToken([this._processCarriageReturns(t.join(""))])},_Tokenizer.prototype._isTextEnd=function(){if(this._peek===mi||this._peek===Ut)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(isExpansionFormStart(this._input,this._index,this._interpolationConfig))return!0;if(this._peek===Wi&&this._isInExpansionCase())return!0}return!1},_Tokenizer.prototype._savePosition=function(){return[this._peek,this._index,this._column,this._line,this.tokens.length]},_Tokenizer.prototype._readUntil=function(e){var t=this._index;return this._attemptUntilChar(e),this._input.substring(t,this._index)},_Tokenizer.prototype._restorePosition=function(e){this._peek=e[0],this._index=e[1],this._column=e[2],this._line=e[3];var t=e[4];t<this.tokens.length&&(this.tokens=this.tokens.slice(0,t))},_Tokenizer.prototype._isInExpansionCase=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===cn.EXPANSION_CASE_EXP_START},_Tokenizer.prototype._isInExpansionForm=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===cn.EXPANSION_FORM_START},_Tokenizer}(),kn=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},Tn=function(e){function TreeError(t,i,n){e.call(this,i,n),this.elementName=t}return kn(TreeError,e),TreeError.create=function(e,t,i){return new TreeError(e,t,i)},TreeError}(hn),An=function(){function ParseTreeResult(e,t){this.rootNodes=e,this.errors=t}return ParseTreeResult}(),Dn=function(){function Parser(e){this.getTagDefinition=e}return Parser.prototype.parse=function(e,t,i,n){void 0===i&&(i=!1),void 0===n&&(n=Ki);var r=tokenize(e,t,this.getTagDefinition,i,n),o=new Mn(r.tokens,this.getTagDefinition).build();return new An(o.rootNodes,r.errors.concat(o.errors))},Parser}(),Mn=function(){function _TreeBuilder(e,t){this.tokens=e,this.getTagDefinition=t,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}return _TreeBuilder.prototype.build=function(){for(;this._peek.type!==cn.EOF;)this._peek.type===cn.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===cn.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===cn.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===cn.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===cn.TEXT||this._peek.type===cn.RAW_TEXT||this._peek.type===cn.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===cn.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new An(this._rootNodes,this._errors)},_TreeBuilder.prototype._advance=function(){var e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e},_TreeBuilder.prototype._advanceIf=function(e){return this._peek.type===e?this._advance():null},_TreeBuilder.prototype._consumeCdata=function(e){this._consumeText(this._advance()),this._advanceIf(cn.CDATA_END)},_TreeBuilder.prototype._consumeComment=function(e){var t=this._advanceIf(cn.RAW_TEXT);this._advanceIf(cn.COMMENT_END);var i=isPresent(t)?t.parts[0].trim():null;this._addToParent(new gn(i,e.sourceSpan))},_TreeBuilder.prototype._consumeExpansion=function(e){for(var t=this._advance(),i=this._advance(),n=[];this._peek.type===cn.EXPANSION_CASE_VALUE;){var r=this._parseExpansionCase();if(!r)return;n.push(r)}if(this._peek.type!==cn.EXPANSION_FORM_END)return void this._errors.push(Tn.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));var o=new un(e.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new dn(t.parts[0],i.parts[0],n,o,t.sourceSpan)),this._advance()},_TreeBuilder.prototype._parseExpansionCase=function(){var e=this._advance();if(this._peek.type!==cn.EXPANSION_CASE_EXP_START)return this._errors.push(Tn.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var t=this._advance(),i=this._collectExpansionExpTokens(t);if(!i)return null;var n=this._advance();i.push(new wn(cn.EOF,[],n.sourceSpan));var r=new _TreeBuilder(i,this.getTagDefinition).build();if(r.errors.length>0)return this._errors=this._errors.concat(r.errors),null;var o=new un(e.sourceSpan.start,n.sourceSpan.end),s=new un(t.sourceSpan.start,n.sourceSpan.end);return new mn(e.parts[0],r.rootNodes,o,e.sourceSpan,s)},_TreeBuilder.prototype._collectExpansionExpTokens=function(e){for(var t=[],i=[cn.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==cn.EXPANSION_FORM_START&&this._peek.type!==cn.EXPANSION_CASE_EXP_START||i.push(this._peek.type),this._peek.type===cn.EXPANSION_CASE_EXP_END){if(!lastOnStack(i,cn.EXPANSION_CASE_EXP_START))return this._errors.push(Tn.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),
null;if(i.pop(),0==i.length)return t}if(this._peek.type===cn.EXPANSION_FORM_END){if(!lastOnStack(i,cn.EXPANSION_FORM_START))return this._errors.push(Tn.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;i.pop()}if(this._peek.type===cn.EOF)return this._errors.push(Tn.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}},_TreeBuilder.prototype._consumeText=function(e){var t=e.parts[0];if(t.length>0&&"\n"==t[0]){var i=this._getParentElement();isPresent(i)&&0==i.children.length&&this.getTagDefinition(i.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new pn(t,e.sourceSpan))},_TreeBuilder.prototype._closeVoidElement=function(){if(this._elementStack.length>0){var e=P.last(this._elementStack);this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()}},_TreeBuilder.prototype._consumeStartTag=function(e){for(var t=e.parts[0],i=e.parts[1],n=[];this._peek.type===cn.ATTR_NAME;)n.push(this._consumeAttr(this._advance()));var r=this._getElementFullName(t,i,this._getParentElement()),o=!1;if(this._peek.type===cn.TAG_OPEN_END_VOID){this._advance(),o=!0;var s=this.getTagDefinition(r);s.canSelfClose||null!==getNsPrefix(r)||s.isVoid||this._errors.push(Tn.create(r,e.sourceSpan,'Only void and foreign elements can be self closed "'+e.parts[1]+'"'))}else this._peek.type===cn.TAG_OPEN_END&&(this._advance(),o=!1);var a=this._peek.sourceSpan.start,l=new un(e.sourceSpan.start,a),u=new vn(r,n,[],l,l,null);this._pushElement(u),o&&(this._popElement(r),u.endSourceSpan=l)},_TreeBuilder.prototype._pushElement=function(e){if(this._elementStack.length>0){var t=P.last(this._elementStack);this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop()}var i=this.getTagDefinition(e.name),n=this._getParentElementSkippingContainers(),r=n.parent,o=n.container;if(isPresent(r)&&i.requireExtraParent(r.name)){var s=new vn(i.parentToAdd,[],[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan);this._insertBeforeContainer(r,o,s)}this._addToParent(e),this._elementStack.push(e)},_TreeBuilder.prototype._consumeEndTag=function(e){var t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());this._getParentElement()&&(this._getParentElement().endSourceSpan=e.sourceSpan),this.getTagDefinition(t).isVoid?this._errors.push(Tn.create(t,e.sourceSpan,'Void elements do not have end tags "'+e.parts[1]+'"')):this._popElement(t)||this._errors.push(Tn.create(t,e.sourceSpan,'Unexpected closing tag "'+e.parts[1]+'"'))},_TreeBuilder.prototype._popElement=function(e){for(var t=this._elementStack.length-1;t>=0;t--){var i=this._elementStack[t];if(i.name==e)return P.splice(this._elementStack,t,this._elementStack.length-t),!0;if(!this.getTagDefinition(i.name).closedByParent)return!1}return!1},_TreeBuilder.prototype._consumeAttr=function(e){var t,i=mergeNsAndName(e.parts[0],e.parts[1]),n=e.sourceSpan.end,r="";if(this._peek.type===cn.ATTR_VALUE){var o=this._advance();r=o.parts[0],n=o.sourceSpan.end,t=o.sourceSpan}return new yn(i,r,new un(e.sourceSpan.start,n),t)},_TreeBuilder.prototype._getParentElement=function(){return this._elementStack.length>0?P.last(this._elementStack):null},_TreeBuilder.prototype._getParentElementSkippingContainers=function(){for(var e=null,t=this._elementStack.length-1;t>=0;t--){if("ng-container"!==this._elementStack[t].name)return{parent:this._elementStack[t],container:e};e=this._elementStack[t]}return{parent:P.last(this._elementStack),container:e}},_TreeBuilder.prototype._addToParent=function(e){var t=this._getParentElement();isPresent(t)?t.children.push(e):this._rootNodes.push(e)},_TreeBuilder.prototype._insertBeforeContainer=function(e,t,i){if(t){if(e){var n=e.children.indexOf(t);e.children[n]=i}else this._rootNodes.push(i);i.children.push(t),this._elementStack.splice(this._elementStack.indexOf(t),0,i)}else this._addToParent(i),this._elementStack.push(i)},_TreeBuilder.prototype._getElementFullName=function(e,t,i){return isBlank(e)&&(e=this.getTagDefinition(t).implicitNamespacePrefix,isBlank(e)&&isPresent(i)&&(e=getNsPrefix(i.name))),mergeNsAndName(e,t)},_TreeBuilder}(),On=function(){function _SerializerVisitor(){}return _SerializerVisitor.prototype.visitText=function(e,t){return e.value},_SerializerVisitor.prototype.visitContainer=function(e,t){var i=this;return"["+e.children.map(function(e){return e.visit(i)}).join(", ")+"]"},_SerializerVisitor.prototype.visitIcu=function(e,t){var i=this,n=Object.keys(e.cases).map(function(t){return t+" {"+e.cases[t].visit(i)+"}"});return"{"+e.expression+", "+e.type+", "+n.join(", ")+"}"},_SerializerVisitor.prototype.visitTagPlaceholder=function(e,t){var i=this;return e.isVoid?'<ph tag name="'+e.startName+'"/>':'<ph tag name="'+e.startName+'">'+e.children.map(function(e){return e.visit(i)}).join(", ")+'</ph name="'+e.closeName+'">'},_SerializerVisitor.prototype.visitPlaceholder=function(e,t){return'<ph name="'+e.name+'">'+e.value+"</ph>"},_SerializerVisitor.prototype.visitIcuPlaceholder=function(e,t){return'<ph icu name="'+e.name+'">'+e.value.visit(this)+"</ph>"},_SerializerVisitor}(),In=new On,Rn=function(){function Message(e,t,i,n,r){this.nodes=e,this.placeholders=t,this.placeholderToMsgIds=i,this.meaning=n,this.description=r}return Message}(),Nn=function(){function Text(e,t){this.value=e,this.sourceSpan=t}return Text.prototype.visit=function(e,t){return e.visitText(this,t)},Text}(),Ln=function(){function Container(e,t){this.children=e,this.sourceSpan=t}return Container.prototype.visit=function(e,t){return e.visitContainer(this,t)},Container}(),Vn=function(){function Icu(e,t,i,n){this.expression=e,this.type=t,this.cases=i,this.sourceSpan=n}return Icu.prototype.visit=function(e,t){return e.visitIcu(this,t)},Icu}(),Fn=function(){function TagPlaceholder(e,t,i,n,r,o,s){this.tag=e,this.attrs=t,this.startName=i,this.closeName=n,this.children=r,this.isVoid=o,this.sourceSpan=s}return TagPlaceholder.prototype.visit=function(e,t){return e.visitTagPlaceholder(this,t)},TagPlaceholder}(),jn=function(){function Placeholder(e,t,i){void 0===t&&(t=""),this.value=e,this.name=t,this.sourceSpan=i}return Placeholder.prototype.visit=function(e,t){return e.visitPlaceholder(this,t)},Placeholder}(),Bn=function(){function IcuPlaceholder(e,t,i){void 0===t&&(t=""),this.value=e,this.name=t,this.sourceSpan=i}return IcuPlaceholder.prototype.visit=function(e,t){return e.visitIcuPlaceholder(this,t)},IcuPlaceholder}(),zn={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},Hn=function(){function PlaceholderRegistry(){this._placeHolderNameCounts={},this._signatureToName={}}return PlaceholderRegistry.prototype.getStartTagPlaceholderName=function(e,t,i){var n=this._hashTag(e,t,i);if(this._signatureToName[n])return this._signatureToName[n];var r=e.toUpperCase(),o=zn[r]||"TAG_"+r,s=this._generateUniqueName(i?o:"START_"+o);return this._signatureToName[n]=s,s},PlaceholderRegistry.prototype.getCloseTagPlaceholderName=function(e){var t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];var i=e.toUpperCase(),n=zn[i]||"TAG_"+i,r=this._generateUniqueName("CLOSE_"+n);return this._signatureToName[t]=r,r},PlaceholderRegistry.prototype.getPlaceholderName=function(e,t){var i=e.toUpperCase(),n="PH: "+i+"="+t;if(this._signatureToName[n])return this._signatureToName[n];var r=this._generateUniqueName(i);return this._signatureToName[n]=r,r},PlaceholderRegistry.prototype._hashTag=function(e,t,i){var n="<"+e,r=Object.keys(t).sort().map(function(e){return" "+e+"="+t[e]}).join(""),o=i?"/>":"></"+e+">";return n+r+o},PlaceholderRegistry.prototype._hashClosingTag=function(e){return this._hashTag("/"+e,{},!1)},PlaceholderRegistry.prototype._generateUniqueName=function(e){var t=e,i=this._placeHolderNameCounts[t];return i?(t+="_"+i,i++):i=1,this._placeHolderNameCounts[e]=i,t},PlaceholderRegistry}(),Wn=new rn(new Qi),Gn=function(){function _I18nVisitor(e,t){this._expressionParser=e,this._interpolationConfig=t}return _I18nVisitor.prototype.toI18nMessage=function(e,t,i){this._isIcu=1==e.length&&e[0]instanceof dn,this._icuDepth=0,this._placeholderRegistry=new Hn,this._placeholderToContent={},this._placeholderToIds={};var n=visitAll(this,e,{});return new Rn(n,this._placeholderToContent,this._placeholderToIds,t,i)},_I18nVisitor.prototype.visitElement=function(e,t){var i=visitAll(this,e.children),n={};e.attrs.forEach(function(e){n[e.name]=e.value});var r=getHtmlTagDefinition(e.name).isVoid,o=this._placeholderRegistry.getStartTagPlaceholderName(e.name,n,r);this._placeholderToContent[o]=e.sourceSpan.toString();var s="";return r||(s=this._placeholderRegistry.getCloseTagPlaceholderName(e.name),this._placeholderToContent[s]="</"+e.name+">"),new Fn(e.name,n,o,s,i,r,e.sourceSpan)},_I18nVisitor.prototype.visitAttribute=function(e,t){return this._visitTextWithInterpolation(e.value,e.sourceSpan)},_I18nVisitor.prototype.visitText=function(e,t){return this._visitTextWithInterpolation(e.value,e.sourceSpan)},_I18nVisitor.prototype.visitComment=function(e,t){return null},_I18nVisitor.prototype.visitExpansion=function(e,t){var i=this;this._icuDepth++;var n={},r=new Vn(e.switchValue,e.type,n,e.sourceSpan);if(e.cases.forEach(function(e){n[e.value]=new Ln(e.expression.map(function(e){return e.visit(i,{})}),e.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0)return r;var o=this._placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString()),s=new _I18nVisitor(this._expressionParser,this._interpolationConfig);return this._placeholderToIds[o]=digestMessage(s.toI18nMessage([e],"","")),new Bn(r,o,e.sourceSpan)},_I18nVisitor.prototype.visitExpansionCase=function(e,t){throw new Error("Unreachable code")},_I18nVisitor.prototype._visitTextWithInterpolation=function(e,t){var i=this._expressionParser.splitInterpolation(e,t.start.toString(),this._interpolationConfig);if(!i)return new Nn(e,t);for(var n=[],r=new Ln(n,t),o=this._interpolationConfig,s=o.start,a=o.end,l=0;l<i.strings.length-1;l++){var u=i.expressions[l],c=_extractPlaceholderName(u)||"INTERPOLATION",h=this._placeholderRegistry.getPlaceholderName(c,u);i.strings[l].length&&n.push(new Nn(i.strings[l],t)),n.push(new jn(u,h,t)),this._placeholderToContent[h]=s+u+a}var p=i.strings.length-1;return i.strings[p].length&&n.push(new Nn(i.strings[p],t)),r},_I18nVisitor}(),Un=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*"([\s\S]*?)"[\s\S]*\)/g,qn=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},Yn=function(e){function I18nError(t,i){e.call(this,t,i)}return qn(I18nError,e),I18nError}(hn),Kn="i18n",Xn="i18n-",Zn=/^i18n:?/,Qn=function(){function ExtractionResult(e,t){this.messages=e,this.errors=t}return ExtractionResult}();!function(e){e[e.Extract=0]="Extract",e[e.Merge=1]="Merge"}(bn||(bn={}));var Jn,$n=function(){function _Visitor(e,t){this._implicitTags=e,this._implicitAttrs=t}return _Visitor.prototype.extract=function(e,t){var i=this;return this._init(bn.Extract,t),e.forEach(function(e){return e.visit(i,null)}),this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new Qn(this._messages,this._errors)},_Visitor.prototype.merge=function(e,t,i){this._init(bn.Merge,i),this._translations=t;var n=new vn("wrapper",[],e,null,null,null),r=n.visit(this,null);return this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new An(r.children,this._errors)},_Visitor.prototype.visitExpansionCase=function(e,t){var i=visitAll(this,e.expression,t);if(this._mode===bn.Merge)return new mn(e.value,i,e.sourceSpan,e.valueSourceSpan,e.expSourceSpan)},_Visitor.prototype.visitExpansion=function(e,t){this._mayBeAddBlockChildren(e);var i=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([e]),this._inIcu=!0);var n=visitAll(this,e.cases,t);return this._mode===bn.Merge&&(e=new dn(e.switchValue,e.type,n,e.sourceSpan,e.switchValueSourceSpan)),this._inIcu=i,e},_Visitor.prototype.visitComment=function(e,t){var i=_isOpeningComment(e);if(i&&this._isInTranslatableSection)return void this._reportError(e,"Could not start a block inside a translatable section");var n=_isClosingComment(e);if(n&&!this._inI18nBlock)return void this._reportError(e,"Trying to close an unopened block");if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(n){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(e,this._blockChildren),this._inI18nBlock=!1;var r=this._addMessage(this._blockChildren,this._blockMeaningAndDesc),o=this._translateMessage(e,r);return visitAll(this,o)}return void this._reportError(e,"I18N blocks should not cross element boundaries")}}else i&&(this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=e.value.replace(Zn,"").trim(),this._openTranslatableSection(e))},_Visitor.prototype.visitText=function(e,t){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(e),e},_Visitor.prototype.visitElement=function(e,t){var i=this;this._mayBeAddBlockChildren(e),this._depth++;var n,r=this._inI18nNode,o=this._inImplicitNode,s=_getI18nAttr(e),a=this._implicitTags.some(function(t){return e.name===t})&&!this._inIcu&&!this._isInTranslatableSection,l=!o&&a;if(this._inImplicitNode=this._inImplicitNode||a,this._isInTranslatableSection||this._inIcu)(s||l)&&this._reportError(e,"Could not mark an element as translatable inside a translatable section"),this._mode==bn.Extract&&visitAll(this,e.children),this._mode==bn.Merge&&(n=[],e.children.forEach(function(e){var r=e.visit(i,t);r&&!i._isInTranslatableSection&&(n=n.concat(r))}));else{if(s){this._inI18nNode=!0;var u=this._addMessage(e.children,s.value);n=this._translateMessage(e,u)}else if(l){this._inI18nNode=!0;var u=this._addMessage(e.children);n=this._translateMessage(e,u)}if(this._mode==bn.Extract){var c=s||l;c&&this._openTranslatableSection(e),visitAll(this,e.children),c&&this._closeTranslatableSection(e,e.children)}this._mode!==bn.Merge||s||l||(n=[],e.children.forEach(function(e){var r=e.visit(i,t);r&&!i._isInTranslatableSection&&(n=n.concat(r))}))}if(this._visitAttributesOf(e),this._depth--,this._inI18nNode=r,this._inImplicitNode=o,this._mode===bn.Merge){var h=this._translateAttributes(e);return new vn(e.name,h,n,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}},_Visitor.prototype.visitAttribute=function(e,t){throw new Error("unreachable code")},_Visitor.prototype._init=function(e,t){this._mode=e,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=createI18nMessageFactory(t)},_Visitor.prototype._visitAttributesOf=function(e){var t=this,i={},n=this._implicitAttrs[e.name]||[];e.attrs.filter(function(e){return e.name.startsWith(Xn)}).forEach(function(e){return i[e.name.slice(Xn.length)]=e.value}),e.attrs.forEach(function(e){e.name in i?t._addMessage([e],i[e.name]):n.some(function(t){return e.name===t})&&t._addMessage([e])})},_Visitor.prototype._addMessage=function(e,t){if(!(0==e.length||1==e.length&&e[0]instanceof yn&&!e[0].value)){var i=_splitMeaningAndDesc(t),n=i[0],r=i[1],o=this._createI18nMessage(e,n,r);return this._messages.push(o),o}},_Visitor.prototype._translateMessage=function(e,t){if(t&&this._mode===bn.Merge){var i=digestMessage(t),n=this._translations.get(i);if(n)return n;this._reportError(e,'Translation unavailable for message id="'+i+'"')}return[]},_Visitor.prototype._translateAttributes=function(e){var t=this,i=e.attrs,n={};i.forEach(function(e){e.name.startsWith(Xn)&&(n[e.name.slice(Xn.length)]=_splitMeaningAndDesc(e.value)[0])});var r=[];return i.forEach(function(i){if(i.name!==Kn&&!i.name.startsWith(Xn))if(i.value&&""!=i.value&&n.hasOwnProperty(i.name)){var o=n[i.name],s=t._createI18nMessage([i],o,""),a=digestMessage(s),l=t._translations.get(a);if(l)if(l[0]instanceof pn){var u=l[0].value;r.push(new yn(i.name,u,i.sourceSpan))}else t._reportError(e,'Unexpected translation for attribute "'+i.name+'" (id="'+a+'")');else t._reportError(e,'Translation unavailable for attribute "'+i.name+'" (id="'+a+'")')}else r.push(i)}),r},_Visitor.prototype._mayBeAddBlockChildren=function(e){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(e)},_Visitor.prototype._openTranslatableSection=function(e){this._isInTranslatableSection?this._reportError(e,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length},Object.defineProperty(_Visitor.prototype,"_isInTranslatableSection",{get:function(){return void 0!==this._msgCountAtSectionStart},enumerable:!0,configurable:!0}),_Visitor.prototype._closeTranslatableSection=function(e,t){if(!this._isInTranslatableSection)return void this._reportError(e,"Unexpected section end");var i=this._msgCountAtSectionStart,n=t.reduce(function(e,t){return e+(t instanceof gn?0:1)},0);if(1==n)for(var r=this._messages.length-1;r>=i;r--){var o=this._messages[r].nodes;if(!(1==o.length&&o[0]instanceof Nn)){this._messages.splice(r,1);break}}this._msgCountAtSectionStart=void 0},_Visitor.prototype._reportError=function(e,t){this._errors.push(new Yn(e.sourceSpan,t))},_Visitor}(),er=function(){function MessageBundle(e,t,i){this._htmlParser=e,this._implicitTags=t,this._implicitAttrs=i,this._messageMap={}}return MessageBundle.prototype.updateFromTemplate=function(e,t,i){var n=this,r=this._htmlParser.parse(e,t,!0,i);if(r.errors.length)return r.errors;var o=extractMessages(r.rootNodes,i,this._implicitTags,this._implicitAttrs);return o.errors.length?o.errors:void o.messages.forEach(function(e){n._messageMap[digestMessage(e)]=e})},MessageBundle.prototype.getMessageMap=function(){return this._messageMap},MessageBundle.prototype.write=function(e){return e.write(this._messageMap)},MessageBundle}(),tr=function(){function XmlTagDefinition(){this.closedByParent=!1,this.contentType=g.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}return XmlTagDefinition.prototype.requireExtraParent=function(e){return!1},XmlTagDefinition.prototype.isClosedByChild=function(e){return!1},XmlTagDefinition}(),ir=new tr,nr=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},rr=function(e){function XmlParser(){e.call(this,getXmlTagDefinition)}return nr(XmlParser,e),XmlParser.prototype.parse=function(t,i,n){return void 0===n&&(n=!1),e.prototype.parse.call(this,t,i,n,null)},XmlParser}(Dn),or=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},sr=function(){function _Visitor(){}return _Visitor.prototype.visitTag=function(e){var t=this,i=this._serializeAttributes(e.attrs);if(0==e.children.length)return"<"+e.name+i+"/>";var n=e.children.map(function(e){return e.visit(t)});return"<"+e.name+i+">"+n.join("")+"</"+e.name+">"},_Visitor.prototype.visitText=function(e){return e.value},_Visitor.prototype.visitDeclaration=function(e){return"<?xml"+this._serializeAttributes(e.attrs)+" ?>"},_Visitor.prototype._serializeAttributes=function(e){var t=Object.keys(e).map(function(t){return t+'="'+e[t]+'"'}).join(" ");return t.length>0?" "+t:""},_Visitor.prototype.visitDoctype=function(e){return"<!DOCTYPE "+e.rootTag+" [\n"+e.dtd+"\n]>"},_Visitor}(),ar=new sr,lr=function(){function Declaration(e){var t=this;this.attrs={},Object.keys(e).forEach(function(i){t.attrs[i]=_escapeXml(e[i])})}return Declaration.prototype.visit=function(e){return e.visitDeclaration(this)},Declaration}(),ur=function(){function Doctype(e,t){this.rootTag=e,this.dtd=t}return Doctype.prototype.visit=function(e){return e.visitDoctype(this)},Doctype}(),cr=function(){function Tag(e,t,i){var n=this;void 0===t&&(t={}),void 0===i&&(i=[]),this.name=e,this.children=i,this.attrs={},Object.keys(t).forEach(function(e){n.attrs[e]=_escapeXml(t[e])})}return Tag.prototype.visit=function(e){return e.visitTag(this)},Tag}(),hr=function(){function Text(e){this.value=_escapeXml(e)}return Text.prototype.visit=function(e){return e.visitText(this)},Text}(),pr=function(e){function CR(t){void 0===t&&(t=0),e.call(this,"\n"+new Array(t+1).join(" "))}return or(CR,e),CR}(hr),dr=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]],fr="1.2",mr="urn:oasis:names:tc:xliff:document:1.2",yr="en",vr="x",gr="source",_r="target",br="trans-unit",wr=function(){function Xliff(e,t){this._htmlParser=e,this._interpolationConfig=t}return Xliff.prototype.write=function(e){var t=new Cr,i=[];Object.keys(e).forEach(function(n){var r=e[n],o=new cr(br,{id:n,datatype:"html"});o.children.push(new pr(8),new cr(gr,{},t.serialize(r.nodes)),new pr(8),new cr(_r)),r.description&&o.children.push(new pr(8),new cr("note",{priority:"1",from:"description"},[new hr(r.description)])),r.meaning&&o.children.push(new pr(8),new cr("note",{priority:"1",from:"meaning"},[new hr(r.meaning)])),o.children.push(new pr(6)),i.push(new pr(6),o)});var n=new cr("body",{},i.concat([new pr(4)])),r=new cr("file",{"source-language":yr,datatype:"plaintext",original:"ng2.template"},[new pr(4),n,new pr(2)]),o=new cr("xliff",{version:fr,xmlns:mr},[new pr(2),r,new pr]);return serialize([new lr({version:"1.0",encoding:"UTF-8"}),new pr,o,new pr])},Xliff.prototype.load=function(e,t,i){var n=this,r=(new rr).parse(e,t);if(r.errors.length)throw new Error("xtb parse errors:\n"+r.errors.join("\n"));var o=(new xr).parse(r.rootNodes,i),s=o.messages,a=o.errors;if(a.length)throw new Error("xtb parse errors:\n"+a.join("\n"));var l={},u=[];if(Object.keys(s).forEach(function(e){var i=n._htmlParser.parse(s[e],t,!0,n._interpolationConfig);u.push.apply(u,i.errors),l[e]=i.rootNodes}),u.length)throw new Error("xtb parse errors:\n"+u.join("\n"));return l},Xliff}(),Cr=function(){function _WriteVisitor(){}return _WriteVisitor.prototype.visitText=function(e,t){return[new hr(e.value)]},_WriteVisitor.prototype.visitContainer=function(e,t){var i=this,n=[];return e.children.forEach(function(e){return n.push.apply(n,e.visit(i))}),n},_WriteVisitor.prototype.visitIcu=function(e,t){if(this._isInIcu)throw new Error("xliff does not support nested ICU messages");this._isInIcu=!0;var i=[];return this._isInIcu=!1,i},_WriteVisitor.prototype.visitTagPlaceholder=function(e,t){var i=getCtypeForTag(e.tag),n=new cr(vr,{id:e.startName,ctype:i});if(e.isVoid)return[n];var r=new cr(vr,{id:e.closeName,ctype:i});return[n].concat(this.serialize(e.children),[r])},_WriteVisitor.prototype.visitPlaceholder=function(e,t){return[new cr(vr,{id:e.name})]},_WriteVisitor.prototype.visitIcuPlaceholder=function(e,t){return[new cr(vr,{id:e.name})]},_WriteVisitor.prototype.serialize=function(e){var t=this;return this._isInIcu=!1,P.flatten(e.map(function(e){return e.visit(t)}))},_WriteVisitor}(),xr=function(){function _LoadVisitor(){}return _LoadVisitor.prototype.parse=function(e,t){var i=this;this._messageNodes=[],this._translatedMessages={},this._msgId="",this._target=[],this._errors=[],visitAll(this,e,null);var n=t.getMessageMap(),r=extractPlaceholders(t),o=extractPlaceholderToIds(t);return this._messageNodes.filter(function(e){return n.hasOwnProperty(e[0])}).sort(function(e,t){return 0==Object.keys(n[e[0]].placeholderToMsgIds).length?-1:0==Object.keys(n[t[0]].placeholderToMsgIds).length?1:0}).forEach(function(e){var t=e[0];i._placeholders=r[t]||{},i._placeholderToIds=o[t]||{},i._translatedMessages[t]=visitAll(i,e[1]).join("")}),{messages:this._translatedMessages,errors:this._errors}},_LoadVisitor.prototype.visitElement=function(e,t){switch(e.name){case br:this._target=null;var i=e.attrs.find(function(e){return"id"===e.name});i?this._msgId=i.value:this._addError(e,"<"+br+'> misses the "id" attribute'),visitAll(this,e.children,null),null!==this._msgId&&this._messageNodes.push([this._msgId,this._target]);break;case gr:break;case _r:this._target=e.children;break;case vr:var n=e.attrs.find(function(e){return"id"===e.name});if(n){var r=n.value;if(this._placeholders.hasOwnProperty(r))return this._placeholders[r];if(this._placeholderToIds.hasOwnProperty(r)&&this._translatedMessages.hasOwnProperty(this._placeholderToIds[r]))return this._translatedMessages[this._placeholderToIds[r]];this._addError(e,'The placeholder "'+r+'" does not exists in the source message')}else this._addError(e,"<"+vr+'> misses the "id" attribute');break;default:visitAll(this,e.children,null)}},_LoadVisitor.prototype.visitAttribute=function(e,t){throw new Error("unreachable code")},_LoadVisitor.prototype.visitText=function(e,t){return e.value},_LoadVisitor.prototype.visitComment=function(e,t){return""},_LoadVisitor.prototype.visitExpansion=function(e,t){throw new Error("unreachable code")},_LoadVisitor.prototype.visitExpansionCase=function(e,t){throw new Error("unreachable code")},_LoadVisitor.prototype._addError=function(e,t){this._errors.push(new Yn(e.sourceSpan,t))},_LoadVisitor}(),Er="messagebundle",Sr="msg",Pr="ph",kr="ex",Tr='<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>',Ar=function(){function Xmb(){}return Xmb.prototype.write=function(e){var t=new Dr,i=new cr(Er);return Object.keys(e).forEach(function(n){var r=e[n],o={id:n};r.description&&(o.desc=r.description),r.meaning&&(o.meaning=r.meaning),i.children.push(new pr(2),new cr(Sr,o,t.serialize(r.nodes)))}),i.children.push(new pr),serialize([new lr({version:"1.0",encoding:"UTF-8"}),new pr,new ur(Er,Tr),new pr,i,new pr])},Xmb.prototype.load=function(e,t,i){throw new Error("Unsupported")},Xmb}(),Dr=function(){function _Visitor(){}return _Visitor.prototype.visitText=function(e,t){return[new hr(e.value)]},_Visitor.prototype.visitContainer=function(e,t){var i=this,n=[];return e.children.forEach(function(e){return n.push.apply(n,e.visit(i))}),n},_Visitor.prototype.visitIcu=function(e,t){var i=this,n=[new hr("{"+e.expression+", "+e.type+", ")];return Object.keys(e.cases).forEach(function(t){n.push.apply(n,[new hr(t+" {")].concat(e.cases[t].visit(i),[new hr("} ")]))}),n.push(new hr("}")),n},_Visitor.prototype.visitTagPlaceholder=function(e,t){var i=new cr(kr,{},[new hr("<"+e.tag+">")]),n=new cr(Pr,{name:e.startName},[i]);if(e.isVoid)return[n];var r=new cr(kr,{},[new hr("</"+e.tag+">")]),o=new cr(Pr,{name:e.closeName},[r]);return[n].concat(this.serialize(e.children),[o])},_Visitor.prototype.visitPlaceholder=function(e,t){return[new cr(Pr,{name:e.name})]},_Visitor.prototype.visitIcuPlaceholder=function(e,t){return[new cr(Pr,{name:e.name})]},_Visitor.prototype.serialize=function(e){var t=this;return P.flatten(e.map(function(e){return e.visit(t)}))},_Visitor}(),Mr="translationbundle",Or="translation",Ir="ph",Rr=function(){function Xtb(e,t){this._htmlParser=e,this._interpolationConfig=t}return Xtb.prototype.write=function(e){throw new Error("Unsupported")},Xtb.prototype.load=function(e,t,i){var n=this,r=(new rr).parse(e,t);if(r.errors.length)throw new Error("xtb parse errors:\n"+r.errors.join("\n"));var o=(new Nr).parse(r.rootNodes,i),s=o.messages,a=o.errors;if(a.length)throw new Error("xtb parse errors:\n"+a.join("\n"));var l={},u=[];if(Object.keys(s).forEach(function(e){var i=n._htmlParser.parse(s[e],t,!0,n._interpolationConfig);u.push.apply(u,i.errors),l[e]=i.rootNodes}),u.length)throw new Error("xtb parse errors:\n"+u.join("\n"));return l},Xtb}(),Nr=function(){function _Visitor(){}return _Visitor.prototype.parse=function(e,t){var i=this;this._messageNodes=[],this._translatedMessages={},this._bundleDepth=0,this._translationDepth=0,this._errors=[],visitAll(this,e,null);var n=t.getMessageMap(),r=extractPlaceholders(t),o=extractPlaceholderToIds(t);return this._messageNodes.filter(function(e){return n.hasOwnProperty(e[0])}).sort(function(e,t){return 0==Object.keys(n[e[0]].placeholderToMsgIds).length?-1:0==Object.keys(n[t[0]].placeholderToMsgIds).length?1:0}).forEach(function(e){var t=e[0];i._placeholders=r[t]||{},i._placeholderToIds=o[t]||{},i._translatedMessages[t]=visitAll(i,e[1]).join("")}),{messages:this._translatedMessages,errors:this._errors}},_Visitor.prototype.visitElement=function(e,t){switch(e.name){case Mr:this._bundleDepth++,this._bundleDepth>1&&this._addError(e,"<"+Mr+"> elements can not be nested"),visitAll(this,e.children,null),this._bundleDepth--;break;case Or:this._translationDepth++,this._translationDepth>1&&this._addError(e,"<"+Or+"> elements can not be nested");var i=e.attrs.find(function(e){return"id"===e.name});i?this._messageNodes.push([i.value,e.children]):this._addError(e,"<"+Or+'> misses the "id" attribute'),this._translationDepth--;break;case Ir:var n=e.attrs.find(function(e){return"name"===e.name});if(n){var r=n.value;if(this._placeholders.hasOwnProperty(r))return this._placeholders[r];if(this._placeholderToIds.hasOwnProperty(r)&&this._translatedMessages.hasOwnProperty(this._placeholderToIds[r]))return this._translatedMessages[this._placeholderToIds[r]];this._addError(e,'The placeholder "'+r+'" does not exists in the source message')}else this._addError(e,"<"+Ir+'> misses the "name" attribute');break;default:this._addError(e,"Unexpected tag")}},_Visitor.prototype.visitAttribute=function(e,t){throw new Error("unreachable code")},_Visitor.prototype.visitText=function(e,t){return e.value},_Visitor.prototype.visitComment=function(e,t){return""},_Visitor.prototype.visitExpansion=function(e,t){var i=this;e.cases.map(function(e){return e.visit(i,null)});return"{"+e.switchValue+", "+e.type+", strCases.join(' ')}"},_Visitor.prototype.visitExpansionCase=function(e,t){return e.value+" {"+visitAll(this,e.expression,null)+"}"},_Visitor.prototype._addError=function(e,t){this._errors.push(new Yn(e.sourceSpan,t))},_Visitor}(),Lr=function(){function TranslationBundle(e){void 0===e&&(e={}),this._messageMap=e}return TranslationBundle.load=function(e,t,i,n){return new TranslationBundle(n.load(e,t,i))},TranslationBundle.prototype.get=function(e){return this._messageMap[e]},TranslationBundle.prototype.has=function(e){return e in this._messageMap},TranslationBundle}(),Vr=function(){function I18NHtmlParser(e,t,i){this._htmlParser=e,this._translations=t,this._translationsFormat=i}return I18NHtmlParser.prototype.parse=function(e,t,i,n){void 0===i&&(i=!1),void 0===n&&(n=Ki);var r=this._htmlParser.parse(e,t,i,n);if(!this._translations||""===this._translations)return r;var o=new er(this._htmlParser,[],{}),s=o.updateFromTemplate(e,t,n);if(s&&s.length)return new An(r.rootNodes,r.errors.concat(s));var a=this._createSerializer(n),l=Lr.load(this._translations,t,o,a);return mergeTranslations(r.rootNodes,l,n,[],{})},I18NHtmlParser.prototype._createSerializer=function(e){var t=(this._translationsFormat||"xlf").toLowerCase();switch(t){case"xmb":return new Ar;case"xtb":return new Rr(this._htmlParser,e);case"xliff":case"xlf":default:return new wr(this._htmlParser,e)}},I18NHtmlParser}(),Fr=i.__core_private__.isDefaultChangeDetectionStrategy,jr=i.__core_private__.ChangeDetectorStatus,Br=i.__core_private__.LifecycleHooks,zr=i.__core_private__.LIFECYCLE_HOOKS_VALUES,Hr=i.__core_private__.ReflectorReader,Wr=i.__core_private__.AppElement,Gr=i.__core_private__.CodegenComponentFactoryResolver,Ur=i.__core_private__.AppView,qr=i.__core_private__.DebugAppView,Yr=i.__core_private__.NgModuleInjector,Kr=i.__core_private__.registerModuleFactory,Xr=i.__core_private__.ViewType,Zr=i.__core_private__.MAX_INTERPOLATION_VALUES,Qr=i.__core_private__.checkBinding,Jr=i.__core_private__.flattenNestedViewRenderNodes,$r=i.__core_private__.interpolate,eo=i.__core_private__.ViewUtils,to=i.__core_private__.DebugContext,io=i.__core_private__.StaticNodeDebugInfo,no=i.__core_private__.devModeEqual,ro=i.__core_private__.UNINITIALIZED,oo=i.__core_private__.ValueUnwrapper,so=i.__core_private__.TemplateRef_,ao=i.__core_private__.EMPTY_ARRAY,lo=i.__core_private__.EMPTY_MAP,uo=i.__core_private__.pureProxy1,co=i.__core_private__.pureProxy2,ho=i.__core_private__.pureProxy3,po=i.__core_private__.pureProxy4,fo=i.__core_private__.pureProxy5,mo=i.__core_private__.pureProxy6,yo=i.__core_private__.pureProxy7,vo=i.__core_private__.pureProxy8,go=i.__core_private__.pureProxy9,_o=i.__core_private__.pureProxy10,bo=i.__core_private__.castByValue,wo=i.__core_private__.Console,Co=i.__core_private__.reflector,xo=i.__core_private__.Reflector,Eo=i.__core_private__.ReflectionCapabilities,So=i.__core_private__.NoOpAnimationPlayer,Po=i.__core_private__.AnimationSequencePlayer,ko=i.__core_private__.AnimationGroupPlayer,To=i.__core_private__.AnimationKeyframe,Ao=i.__core_private__.AnimationStyles,Do=i.__core_private__.ANY_STATE,Mo=i.__core_private__.DEFAULT_STATE,Oo=i.__core_private__.EMPTY_STATE,Io=i.__core_private__.FILL_STYLE_FLAG,Ro=i.__core_private__.prepareFinalAnimationStyles,No=i.__core_private__.balanceAnimationKeyframes,Lo=i.__core_private__.clearStyles,Vo=i.__core_private__.collectAndResolveStyles,Fo=i.__core_private__.renderStyles,jo=i.__core_private__.ComponentStillLoadingError,Bo=assetUrl("core","linker/view"),zo=assetUrl("core","linker/view_utils"),Ho=assetUrl("core","change_detection/change_detection"),Wo=assetUrl("core","animation/animation_style_util"),Go=function(){
function Identifiers(){}return Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleUrl:assetUrl("core","metadata/di"),runtime:i.ANALYZE_FOR_ENTRY_COMPONENTS},Identifiers.ViewUtils={name:"ViewUtils",moduleUrl:assetUrl("core","linker/view_utils"),runtime:eo},Identifiers.AppView={name:"AppView",moduleUrl:Bo,runtime:Ur},Identifiers.DebugAppView={name:"DebugAppView",moduleUrl:Bo,runtime:qr},Identifiers.AppElement={name:"AppElement",moduleUrl:assetUrl("core","linker/element"),runtime:Wr},Identifiers.ElementRef={name:"ElementRef",moduleUrl:assetUrl("core","linker/element_ref"),runtime:i.ElementRef},Identifiers.ViewContainerRef={name:"ViewContainerRef",moduleUrl:assetUrl("core","linker/view_container_ref"),runtime:i.ViewContainerRef},Identifiers.ChangeDetectorRef={name:"ChangeDetectorRef",moduleUrl:assetUrl("core","change_detection/change_detector_ref"),runtime:i.ChangeDetectorRef},Identifiers.RenderComponentType={name:"RenderComponentType",moduleUrl:assetUrl("core","render/api"),runtime:i.RenderComponentType},Identifiers.QueryList={name:"QueryList",moduleUrl:assetUrl("core","linker/query_list"),runtime:i.QueryList},Identifiers.TemplateRef={name:"TemplateRef",moduleUrl:assetUrl("core","linker/template_ref"),runtime:i.TemplateRef},Identifiers.TemplateRef_={name:"TemplateRef_",moduleUrl:assetUrl("core","linker/template_ref"),runtime:so},Identifiers.CodegenComponentFactoryResolver={name:"CodegenComponentFactoryResolver",moduleUrl:assetUrl("core","linker/component_factory_resolver"),runtime:Gr},Identifiers.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleUrl:assetUrl("core","linker/component_factory_resolver"),runtime:i.ComponentFactoryResolver},Identifiers.ComponentFactory={name:"ComponentFactory",runtime:i.ComponentFactory,moduleUrl:assetUrl("core","linker/component_factory")},Identifiers.NgModuleFactory={name:"NgModuleFactory",runtime:i.NgModuleFactory,moduleUrl:assetUrl("core","linker/ng_module_factory")},Identifiers.NgModuleInjector={name:"NgModuleInjector",runtime:Yr,moduleUrl:assetUrl("core","linker/ng_module_factory")},Identifiers.RegisterModuleFactoryFn={name:"registerModuleFactory",runtime:Kr,moduleUrl:assetUrl("core","linker/ng_module_factory_loader")},Identifiers.ValueUnwrapper={name:"ValueUnwrapper",moduleUrl:Ho,runtime:oo},Identifiers.Injector={name:"Injector",moduleUrl:assetUrl("core","di/injector"),runtime:i.Injector},Identifiers.ViewEncapsulation={name:"ViewEncapsulation",moduleUrl:assetUrl("core","metadata/view"),runtime:i.ViewEncapsulation},Identifiers.ViewType={name:"ViewType",moduleUrl:assetUrl("core","linker/view_type"),runtime:Xr},Identifiers.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleUrl:Ho,runtime:i.ChangeDetectionStrategy},Identifiers.StaticNodeDebugInfo={name:"StaticNodeDebugInfo",moduleUrl:assetUrl("core","linker/debug_context"),runtime:io},Identifiers.DebugContext={name:"DebugContext",moduleUrl:assetUrl("core","linker/debug_context"),runtime:to},Identifiers.Renderer={name:"Renderer",moduleUrl:assetUrl("core","render/api"),runtime:i.Renderer},Identifiers.SimpleChange={name:"SimpleChange",moduleUrl:Ho,runtime:i.SimpleChange},Identifiers.UNINITIALIZED={name:"UNINITIALIZED",moduleUrl:Ho,runtime:ro},Identifiers.ChangeDetectorStatus={name:"ChangeDetectorStatus",moduleUrl:Ho,runtime:jr},Identifiers.checkBinding={name:"checkBinding",moduleUrl:zo,runtime:Qr},Identifiers.flattenNestedViewRenderNodes={name:"flattenNestedViewRenderNodes",moduleUrl:zo,runtime:Jr},Identifiers.devModeEqual={name:"devModeEqual",moduleUrl:Ho,runtime:no},Identifiers.interpolate={name:"interpolate",moduleUrl:zo,runtime:$r},Identifiers.castByValue={name:"castByValue",moduleUrl:zo,runtime:bo},Identifiers.EMPTY_ARRAY={name:"EMPTY_ARRAY",moduleUrl:zo,runtime:ao},Identifiers.EMPTY_MAP={name:"EMPTY_MAP",moduleUrl:zo,runtime:lo},Identifiers.pureProxies=[null,{name:"pureProxy1",moduleUrl:zo,runtime:uo},{name:"pureProxy2",moduleUrl:zo,runtime:co},{name:"pureProxy3",moduleUrl:zo,runtime:ho},{name:"pureProxy4",moduleUrl:zo,runtime:po},{name:"pureProxy5",moduleUrl:zo,runtime:fo},{name:"pureProxy6",moduleUrl:zo,runtime:mo},{name:"pureProxy7",moduleUrl:zo,runtime:yo},{name:"pureProxy8",moduleUrl:zo,runtime:vo},{name:"pureProxy9",moduleUrl:zo,runtime:go},{name:"pureProxy10",moduleUrl:zo,runtime:_o}],Identifiers.SecurityContext={name:"SecurityContext",moduleUrl:assetUrl("core","security"),runtime:i.SecurityContext},Identifiers.AnimationKeyframe={name:"AnimationKeyframe",moduleUrl:assetUrl("core","animation/animation_keyframe"),runtime:To},Identifiers.AnimationStyles={name:"AnimationStyles",moduleUrl:assetUrl("core","animation/animation_styles"),runtime:Ao},Identifiers.NoOpAnimationPlayer={name:"NoOpAnimationPlayer",moduleUrl:assetUrl("core","animation/animation_player"),runtime:So},Identifiers.AnimationGroupPlayer={name:"AnimationGroupPlayer",moduleUrl:assetUrl("core","animation/animation_group_player"),runtime:ko},Identifiers.AnimationSequencePlayer={name:"AnimationSequencePlayer",moduleUrl:assetUrl("core","animation/animation_sequence_player"),runtime:Po},Identifiers.prepareFinalAnimationStyles={name:"prepareFinalAnimationStyles",moduleUrl:Wo,runtime:Ro},Identifiers.balanceAnimationKeyframes={name:"balanceAnimationKeyframes",moduleUrl:Wo,runtime:No},Identifiers.clearStyles={name:"clearStyles",moduleUrl:Wo,runtime:Lo},Identifiers.renderStyles={name:"renderStyles",moduleUrl:Wo,runtime:Fo},Identifiers.collectAndResolveStyles={name:"collectAndResolveStyles",moduleUrl:Wo,runtime:Vo},Identifiers.LOCALE_ID={name:"LOCALE_ID",moduleUrl:assetUrl("core","i18n/tokens"),runtime:i.LOCALE_ID},Identifiers.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleUrl:assetUrl("core","i18n/tokens"),runtime:i.TRANSLATIONS_FORMAT},Identifiers}(),Uo=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},qo=function(e){function HtmlParser(){e.call(this,getHtmlTagDefinition)}return Uo(HtmlParser,e),HtmlParser.prototype.parse=function(t,i,n,r){return void 0===n&&(n=!1),void 0===r&&(r=Ki),e.prototype.parse.call(this,t,i,n,r)},HtmlParser.decorators=[{type:i.Injectable}],HtmlParser.ctorParameters=[],HtmlParser}(Dn),Yo=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},Ko=["zero","one","two","few","many","other"],Xo=function(){function ExpansionResult(e,t,i){this.nodes=e,this.expanded=t,this.errors=i}return ExpansionResult}(),Zo=function(e){function ExpansionError(t,i){e.call(this,t,i)}return Yo(ExpansionError,e),ExpansionError}(hn),Qo=function(){function _Expander(){this.isExpanded=!1,this.errors=[]}return _Expander.prototype.visitElement=function(e,t){return new vn(e.name,e.attrs,visitAll(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)},_Expander.prototype.visitAttribute=function(e,t){return e},_Expander.prototype.visitText=function(e,t){return e},_Expander.prototype.visitComment=function(e,t){return e},_Expander.prototype.visitExpansion=function(e,t){return this.isExpanded=!0,"plural"==e.type?_expandPluralForm(e,this.errors):_expandDefaultForm(e,this.errors)},_Expander.prototype.visitExpansionCase=function(e,t){throw new Error("Should not be reached")},_Expander}(),Jo=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},$o=function(e){function ProviderError(t,i){e.call(this,i,t)}return Jo(ProviderError,e),ProviderError}(hn),es=function(){function ProviderViewContext(e,t){var i=this;this.component=e,this.sourceSpan=t,this.errors=[],this.viewQueries=_getViewQueries(e),this.viewProviders=new Map,_normalizeProviders(e.viewProviders,t,this.errors).forEach(function(e){isBlank(i.viewProviders.get(e.token.reference))&&i.viewProviders.set(e.token.reference,!0)})}return ProviderViewContext}(),ts=function(){function ProviderElementContext(e,t,i,n,r,o,s){var a=this;this.viewContext=e,this._parent=t,this._isViewRoot=i,this._directiveAsts=n,this._sourceSpan=s,this._transformedProviders=new Map,this._seenProviders=new Map,this._hasViewContainer=!1,this._attrs={},r.forEach(function(e){return a._attrs[e.name]=e.value});var l=n.map(function(e){return e.directive});this._allProviders=_resolveProvidersFromDirectives(l,s,e.errors),this._contentQueries=_getContentQueries(l);var u=new Map;E.values(this._allProviders).forEach(function(e){a._addQueryReadsTo(e.token,u)}),o.forEach(function(e){a._addQueryReadsTo(new lt({value:e.name}),u)}),isPresent(u.get(resolveIdentifierToken(Go.ViewContainerRef).reference))&&(this._hasViewContainer=!0),E.values(this._allProviders).forEach(function(e){var t=e.eager||isPresent(u.get(e.token.reference));t&&a._getOrCreateLocalProvider(e.providerType,e.token,!0)})}return ProviderElementContext.prototype.afterElement=function(){var e=this;E.values(this._allProviders).forEach(function(t){e._getOrCreateLocalProvider(t.providerType,t.token,!1)})},Object.defineProperty(ProviderElementContext.prototype,"transformProviders",{get:function(){return E.values(this._transformedProviders)},enumerable:!0,configurable:!0}),Object.defineProperty(ProviderElementContext.prototype,"transformedDirectiveAsts",{get:function(){var e=this.transformProviders.map(function(e){return e.token.identifier}),t=P.clone(this._directiveAsts);return P.sort(t,function(t,i){return e.indexOf(t.directive.type)-e.indexOf(i.directive.type)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(ProviderElementContext.prototype,"transformedHasViewContainer",{get:function(){return this._hasViewContainer},enumerable:!0,configurable:!0}),ProviderElementContext.prototype._addQueryReadsTo=function(e,t){this._getQueriesFor(e).forEach(function(i){var n=i.read||e;isBlank(t.get(n.reference))&&t.set(n.reference,!0)})},ProviderElementContext.prototype._getQueriesFor=function(e){for(var t,i=[],n=this,r=0;null!==n;)t=n._contentQueries.get(e.reference),isPresent(t)&&P.addAll(i,t.filter(function(e){return e.descendants||r<=1})),n._directiveAsts.length>0&&r++,n=n._parent;return t=this.viewContext.viewQueries.get(e.reference),isPresent(t)&&P.addAll(i,t),i},ProviderElementContext.prototype._getOrCreateLocalProvider=function(e,i,n){var r=this,o=this._allProviders.get(i.reference);if(!o||(e===t.ProviderAstType.Directive||e===t.ProviderAstType.PublicService)&&o.providerType===t.ProviderAstType.PrivateService||(e===t.ProviderAstType.PrivateService||e===t.ProviderAstType.PublicService)&&o.providerType===t.ProviderAstType.Builtin)return null;var s=this._transformedProviders.get(i.reference);if(isPresent(s))return s;if(isPresent(this._seenProviders.get(i.reference)))return this.viewContext.errors.push(new $o("Cannot instantiate cyclic dependency! "+i.name,this._sourceSpan)),null;this._seenProviders.set(i.reference,!0);var a=o.providers.map(function(e){var t,i=e.useValue,s=e.useExisting;if(isPresent(e.useExisting)){var a=r._getDependency(o.providerType,new ot({token:e.useExisting}),n);isPresent(a.token)?s=a.token:(s=null,i=a.value)}else if(isPresent(e.useFactory)){var l=e.deps||e.useFactory.diDeps;t=l.map(function(e){return r._getDependency(o.providerType,e,n)})}else if(isPresent(e.useClass)){var l=e.deps||e.useClass.diDeps;t=l.map(function(e){return r._getDependency(o.providerType,e,n)})}return _transformProvider(e,{useExisting:s,useValue:i,deps:t})});return s=_transformProviderAst(o,{eager:n,providers:a}),this._transformedProviders.set(i.reference,s),s},ProviderElementContext.prototype._getLocalDependency=function(e,i,n){if(void 0===n&&(n=null),i.isAttribute){var r=this._attrs[i.token.value];return new ot({isValue:!0,value:normalizeBlank(r)})}if(isPresent(i.query)||isPresent(i.viewQuery))return i;if(isPresent(i.token)){if(e===t.ProviderAstType.Directive||e===t.ProviderAstType.Component){if(i.token.reference===resolveIdentifierToken(Go.Renderer).reference||i.token.reference===resolveIdentifierToken(Go.ElementRef).reference||i.token.reference===resolveIdentifierToken(Go.ChangeDetectorRef).reference||i.token.reference===resolveIdentifierToken(Go.TemplateRef).reference)return i;i.token.reference===resolveIdentifierToken(Go.ViewContainerRef).reference&&(this._hasViewContainer=!0)}if(i.token.reference===resolveIdentifierToken(Go.Injector).reference)return i;if(isPresent(this._getOrCreateLocalProvider(e,i.token,n)))return i}return null},ProviderElementContext.prototype._getDependency=function(e,i,n){void 0===n&&(n=null);var r=this,o=n,s=null;if(i.isSkipSelf||(s=this._getLocalDependency(e,i,n)),i.isSelf)!s&&i.isOptional&&(s=new ot({isValue:!0,value:null}));else{for(;!s&&isPresent(r._parent);){var a=r;r=r._parent,a._isViewRoot&&(o=!1),s=r._getLocalDependency(t.ProviderAstType.PublicService,i,o)}s||(s=!i.isHost||this.viewContext.component.type.isHost||this.viewContext.component.type.reference===i.token.reference||isPresent(this.viewContext.viewProviders.get(i.token.reference))?i:i.isOptional?s=new ot({isValue:!0,value:null}):null)}return s||this.viewContext.errors.push(new $o("No provider for "+i.token.name,this._sourceSpan)),s},ProviderElementContext}(),is=function(){function NgModuleProviderAnalyzer(e,i,n){var r=this;this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map;var o=e.transitiveModule.modules.map(function(e){return e.type});o.forEach(function(e){var i=new st({token:new lt({identifier:e}),useClass:e});_resolveProviders([i],t.ProviderAstType.PublicService,!0,n,r._errors,r._allProviders)}),_resolveProviders(_normalizeProviders(e.transitiveModule.providers.concat(i),n,this._errors),t.ProviderAstType.PublicService,!1,n,this._errors,this._allProviders)}return NgModuleProviderAnalyzer.prototype.parse=function(){var e=this;if(E.values(this._allProviders).forEach(function(t){e._getOrCreateLocalProvider(t.token,t.eager)}),this._errors.length>0){var t=this._errors.join("\n");throw new Error("Provider parse errors:\n"+t)}return E.values(this._transformedProviders)},NgModuleProviderAnalyzer.prototype._getOrCreateLocalProvider=function(e,t){var i=this,n=this._allProviders.get(e.reference);if(!n)return null;var r=this._transformedProviders.get(e.reference);if(isPresent(r))return r;if(isPresent(this._seenProviders.get(e.reference)))return this._errors.push(new $o("Cannot instantiate cyclic dependency! "+e.name,n.sourceSpan)),null;this._seenProviders.set(e.reference,!0);var o=n.providers.map(function(e){var r,o=e.useValue,s=e.useExisting;if(isPresent(e.useExisting)){var a=i._getDependency(new ot({token:e.useExisting}),t,n.sourceSpan);isPresent(a.token)?s=a.token:(s=null,o=a.value)}else if(isPresent(e.useFactory)){var l=e.deps||e.useFactory.diDeps;r=l.map(function(e){return i._getDependency(e,t,n.sourceSpan)})}else if(isPresent(e.useClass)){var l=e.deps||e.useClass.diDeps;r=l.map(function(e){return i._getDependency(e,t,n.sourceSpan)})}return _transformProvider(e,{useExisting:s,useValue:o,deps:r})});return r=_transformProviderAst(n,{eager:t,providers:o}),this._transformedProviders.set(e.reference,r),r},NgModuleProviderAnalyzer.prototype._getDependency=function(e,t,i){void 0===t&&(t=null);var n=!1;!e.isSkipSelf&&isPresent(e.token)&&(e.token.reference===resolveIdentifierToken(Go.Injector).reference||e.token.reference===resolveIdentifierToken(Go.ComponentFactoryResolver).reference?n=!0:isPresent(this._getOrCreateLocalProvider(e.token,t))&&(n=!0));var r=e;return e.isSelf&&!n&&(e.isOptional?r=new ot({isValue:!0,value:null}):this._errors.push(new $o("No provider for "+e.token.name,i))),r},NgModuleProviderAnalyzer}(),ns=function(){function ElementSchemaRegistry(){}return ElementSchemaRegistry}(),rs=function(){function StyleWithImports(e,t){this.style=e,this.styleUrls=t}return StyleWithImports}(),os=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,ss=/^([^:\/?#]+):/,as="select",ls="ng-content",us="link",cs="rel",hs="href",ps="stylesheet",ds="style",fs="script",ms="ngNonBindable",ys="ngProjectAs";!function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(Jn||(Jn={}));var vs,gs=function(){function PreparsedElement(e,t,i,n,r){this.type=e,this.selectAttr=t,this.hrefAttr=i,this.nonBindable=n,this.projectAs=r}return PreparsedElement}(),_s=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},bs=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,ws=1,Cs=2,xs=3,Es=4,Ss=5,Ps=6,ks=7,Ts=8,As=9,Ds=10,Ms="animate-",Os="template",Is="template",Rs="*",Ns="class",Ls=".",Vs="attr",Fs="class",js="style",Bs=I.parse("*")[0],zs=new i.OpaqueToken("TemplateTransforms"),Hs=function(e){function TemplateParseError(t,i,n){e.call(this,i,t,n)}return _s(TemplateParseError,e),TemplateParseError}(hn),Ws=function(){function TemplateParseResult(e,t){this.templateAst=e,this.errors=t}return TemplateParseResult}(),Gs=function(){function TemplateParser(e,t,i,n,r){this._exprParser=e,this._schemaRegistry=t,this._htmlParser=i,this._console=n,this.transforms=r}return TemplateParser.prototype.parse=function(e,t,i,n,r,o){var s=this.tryParse(e,t,i,n,r,o),a=s.errors.filter(function(e){return e.level===Xi.WARNING}),l=s.errors.filter(function(e){return e.level===Xi.FATAL});if(a.length>0&&this._console.warn("Template parse warnings:\n"+a.join("\n")),l.length>0){var u=l.join("\n");throw new Error("Template parse errors:\n"+u)}return s.templateAst},TemplateParser.prototype.tryParse=function(e,t,i,n,r,o){return this.tryParseHtml(this.expandHtml(this._htmlParser.parse(t,o,!0,this.getInterpolationConfig(e))),e,t,i,n,r,o)},TemplateParser.prototype.tryParseHtml=function(e,t,i,n,r,o,s){var a,l=e.errors;if(e.rootNodes.length>0){var u=removeIdentifierDuplicates(n),c=removeIdentifierDuplicates(r),h=new es(t,e.rootNodes[0].sourceSpan),p=new Us(h,u,c,o,this._exprParser,this._schemaRegistry);a=visitAll(p,e.rootNodes,Zs),l.push.apply(l,p.errors.concat(h.errors))}else a=[];return this._assertNoReferenceDuplicationOnTemplate(a,l),l.length>0?new Ws(a,l):(isPresent(this.transforms)&&this.transforms.forEach(function(e){a=templateVisitAll(e,a)}),new Ws(a,l))},TemplateParser.prototype.expandHtml=function(e,t){void 0===t&&(t=!1);var i=e.errors;if(0==i.length||t){var n=expandNodes(e.rootNodes);i.push.apply(i,n.errors),e=new An(n.nodes,i)}return e},TemplateParser.prototype.getInterpolationConfig=function(e){if(e.template)return Yi.fromArray(e.template.interpolation)},TemplateParser.prototype._assertNoReferenceDuplicationOnTemplate=function(e,t){var i=[];e.filter(function(e){return!!e.references}).forEach(function(e){return e.references.forEach(function(e){var n=e.name;if(i.indexOf(n)<0)i.push(n);else{var r=new Hs('Reference "#'+n+'" is defined several times',e.sourceSpan,Xi.FATAL);t.push(r)}})})},TemplateParser.decorators=[{type:i.Injectable}],TemplateParser.ctorParameters=[{type:rn},{type:ns},{type:Vr},{type:wo},{type:Array,decorators:[{type:i.Optional},{type:i.Inject,args:[zs]}]}],TemplateParser}(),Us=function(){function TemplateParseVisitor(e,t,i,n,r,o){var s=this;this.providerViewContext=e,this._schemas=n,this._exprParser=r,this._schemaRegistry=o,this.selectorMatcher=new R,this.errors=[],this.directivesIndex=new Map,this.ngContentCount=0,this.pipesByName=new Map;var a=e.component.template;a&&a.interpolation&&(this._interpolationConfig={start:a.interpolation[0],end:a.interpolation[1]}),t.forEach(function(e,t){var i=I.parse(e.selector);s.selectorMatcher.addSelectables(i,e),s.directivesIndex.set(e,t)}),i.forEach(function(e){return s.pipesByName.set(e.name,e)})}return TemplateParseVisitor.prototype._reportError=function(e,t,i){void 0===i&&(i=Xi.FATAL),this.errors.push(new Hs(e,t,i))},TemplateParseVisitor.prototype._reportParserErrors=function(e,t){for(var i=0,n=e;i<n.length;i++){var r=n[i];this._reportError(r.message,t)}},TemplateParseVisitor.prototype._parseInterpolation=function(e,t){var i=t.start.toString();try{var n=this._exprParser.parseInterpolation(e,i,this._interpolationConfig);if(n&&this._reportParserErrors(n.errors,t),this._checkPipes(n,t),isPresent(n)&&n.ast.expressions.length>Zr)throw new Error("Only support at most "+Zr+" interpolation values!");return n}catch(r){return this._reportError(""+r,t),this._exprParser.wrapLiteralPrimitive("ERROR",i)}},TemplateParseVisitor.prototype._parseAction=function(e,t){var i=t.start.toString();try{var n=this._exprParser.parseAction(e,i,this._interpolationConfig);return n&&this._reportParserErrors(n.errors,t),!n||n.ast instanceof xt?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",i)):(this._checkPipes(n,t),n)}catch(r){return this._reportError(""+r,t),this._exprParser.wrapLiteralPrimitive("ERROR",i)}},TemplateParseVisitor.prototype._parseBinding=function(e,t){var i=t.start.toString();try{var n=this._exprParser.parseBinding(e,i,this._interpolationConfig);return n&&this._reportParserErrors(n.errors,t),this._checkPipes(n,t),n}catch(r){return this._reportError(""+r,t),this._exprParser.wrapLiteralPrimitive("ERROR",i)}},TemplateParseVisitor.prototype._parseTemplateBindings=function(e,t){var i=this,n=t.start.toString();try{var r=this._exprParser.parseTemplateBindings(e,n);return this._reportParserErrors(r.errors,t),r.templateBindings.forEach(function(e){isPresent(e.expression)&&i._checkPipes(e.expression,t)}),r.warnings.forEach(function(e){i._reportError(e,t,Xi.WARNING)}),r.templateBindings}catch(o){return this._reportError(""+o,t),[]}},TemplateParseVisitor.prototype._checkPipes=function(e,t){var i=this;if(isPresent(e)){var n=new Js;e.visit(n),n.pipes.forEach(function(e){i.pipesByName.has(e)||i._reportError("The pipe '"+e+"' could not be found",t)})}},TemplateParseVisitor.prototype.visitExpansion=function(e,t){return null},TemplateParseVisitor.prototype.visitExpansionCase=function(e,t){return null},TemplateParseVisitor.prototype.visitText=function(e,t){var i=t.findNgContentIndex(Bs),o=this._parseInterpolation(e.value,e.sourceSpan);return isPresent(o)?new r(o,i,e.sourceSpan):new n(e.value,i,e.sourceSpan)},TemplateParseVisitor.prototype.visitAttribute=function(e,t){return new o(e.name,e.value,e.sourceSpan)},TemplateParseVisitor.prototype.visitComment=function(e,t){return null},TemplateParseVisitor.prototype.visitElement=function(e,t){var i=this,n=e.name,r=preparseElement(e);if(r.type===Jn.SCRIPT||r.type===Jn.STYLE)return null;if(r.type===Jn.STYLESHEET&&isStyleUrlResolvable(r.hrefAttr))return null;var o=[],s=[],a=[],l=[],u=[],p=[],d=[],f=[],y=[],v=!1,g=[],_=splitNsName(n.toLowerCase())[1],b=_==Os;e.attrs.forEach(function(e){var t=i._parseAttr(b,e,o,s,u,p,a,l),n=i._parseInlineTemplateBinding(e,f,d,y);n&&v&&i._reportError("Can't have multiple template bindings on one element. Use only one attribute named 'template' or prefixed with *",e.sourceSpan),t||n||(g.push(i.visitAttribute(e,null)),o.push([e.name,e.value])),n&&(v=!0)});var w=createElementCssSelector(n,o),C=this._parseDirectives(this.selectorMatcher,w),x=C.directives,E=C.matchElement,S=[],P=this._createDirectiveAsts(b,e.name,x,s,a,e.sourceSpan,S),k=this._createElementPropertyAsts(e.name,s,P).concat(u),T=t.isTemplateElement||v,A=new ts(this.providerViewContext,t.providerContext,T,P,g,S,e.sourceSpan),D=visitAll(r.nonBindable?Qs:this,e.children,Xs.create(b,P,b?t.providerContext:A));A.afterElement();var M,O=isPresent(r.projectAs)?I.parse(r.projectAs)[0]:w,R=t.findNgContentIndex(O);if(r.type===Jn.NG_CONTENT)e.children&&!e.children.every(_isEmptyTextNode)&&this._reportError("<ng-content> element cannot have content.",e.sourceSpan),M=new m((this.ngContentCount++),v?null:R,e.sourceSpan);else if(b)this._assertAllEventsPublishedByDirectives(P,p),this._assertNoComponentsNorElementBindingsOnTemplate(P,k,e.sourceSpan),M=new h(g,p,S,l,A.transformedDirectiveAsts,A.transformProviders,A.transformedHasViewContainer,D,v?null:R,e.sourceSpan);else{this._assertElementExists(E,e),this._assertOnlyOneComponent(P,e.sourceSpan);var N=v?null:t.findNgContentIndex(O);M=new c(n,g,k,p,S,A.transformedDirectiveAsts,A.transformProviders,A.transformedHasViewContainer,D,v?null:N,e.sourceSpan,e.endSourceSpan),this._findComponentDirectives(P).forEach(function(e){return i._validateElementAnimationInputOutputs(e.hostProperties,e.hostEvents,e.directive.template)});var L=A.viewContext.component.template;this._validateElementAnimationInputOutputs(k,p,L)}if(v){var V=createElementCssSelector(Os,f),F=this._parseDirectives(this.selectorMatcher,V).directives,j=this._createDirectiveAsts(!0,e.name,F,d,[],e.sourceSpan,[]),B=this._createElementPropertyAsts(e.name,d,j);this._assertNoComponentsNorElementBindingsOnTemplate(j,B,e.sourceSpan);var z=new ts(this.providerViewContext,t.providerContext,t.isTemplateElement,j,[],[],e.sourceSpan);z.afterElement(),M=new h([],[],[],y,z.transformedDirectiveAsts,z.transformProviders,z.transformedHasViewContainer,[M],R,e.sourceSpan)}return M},TemplateParseVisitor.prototype._validateElementAnimationInputOutputs=function(e,t,i){var n=this,r=new Set;i.animations.forEach(function(e){r.add(e.name)});var o=e.filter(function(e){return e.isAnimation});o.forEach(function(e){var t=e.name;r.has(t)||n._reportError("Couldn't find an animation entry for \""+t+'"',e.sourceSpan)}),t.forEach(function(e){if(e.isAnimation){var t=o.find(function(t){return t.name==e.name});t||n._reportError("Unable to listen on (@"+e.name+"."+e.phase+") because the animation trigger [@"+e.name+"] isn't being used on the same element",e.sourceSpan)}})},TemplateParseVisitor.prototype._parseInlineTemplateBinding=function(e,t,i,n){var r=null;if(this._normalizeAttributeName(e.name)==Is)r=e.value;else if(e.name.startsWith(Rs)){var o=e.name.substring(Rs.length);r=0==e.value.length?o:o+" "+e.value}if(isPresent(r)){for(var s=this._parseTemplateBindings(r,e.sourceSpan),a=0;a<s.length;a++){var l=s[a];l.keyIsVar?n.push(new u(l.key,l.name,e.sourceSpan)):isPresent(l.expression)?this._parsePropertyAst(l.key,l.expression,e.sourceSpan,t,i):(t.push([l.key,""]),this._parseLiteralAttr(l.key,null,e.sourceSpan,i))}return!0}return!1},TemplateParseVisitor.prototype._parseAttr=function(e,t,i,n,r,o,s,a){var l=this._normalizeAttributeName(t.name),u=t.value,c=t.sourceSpan,h=l.match(bs),p=!1;if(null!==h)if(p=!0,isPresent(h[ws]))this._parsePropertyOrAnimation(h[ks],u,c,i,n,r);else if(h[Cs])if(e){var d=h[ks];this._parseVariable(d,u,c,a)}else this._reportError('"let-" is only supported on template elements.',c);else if(h[xs]){var d=h[ks];this._parseReference(d,u,c,s)}else h[Es]?this._parseEventOrAnimationEvent(h[ks],u,c,i,o):h[Ss]?(this._parsePropertyOrAnimation(h[ks],u,c,i,n,r),this._parseAssignmentEvent(h[ks],u,c,i,o)):h[Ps]?(_isAnimationLabel(l)&&isPresent(u)&&u.length>0&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',c,Xi.FATAL),this._parseAnimation(h[ks],u,c,i,r)):h[Ts]?(this._parsePropertyOrAnimation(h[Ts],u,c,i,n,r),this._parseAssignmentEvent(h[Ts],u,c,i,o)):h[As]?this._parsePropertyOrAnimation(h[As],u,c,i,n,r):h[Ds]&&this._parseEventOrAnimationEvent(h[Ds],u,c,i,o);else p=this._parsePropertyInterpolation(l,u,c,i,n);return p||this._parseLiteralAttr(l,u,c,n),p},TemplateParseVisitor.prototype._normalizeAttributeName=function(e){return/^data-/i.test(e)?e.substring(5):e},TemplateParseVisitor.prototype._parseVariable=function(e,t,i,n){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',i),n.push(new u(e,t,i))},TemplateParseVisitor.prototype._parseReference=function(e,t,i,n){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',i),n.push(new Ks(e,t,i))},TemplateParseVisitor.prototype._parsePropertyOrAnimation=function(e,t,i,n,r,o){var s=Ms.length,a=_isAnimationLabel(e),l=1;e.substring(0,s)==Ms&&(a=!0,l=s),a?this._parseAnimation(e.substr(l),t,i,n,o):this._parsePropertyAst(e,this._parseBinding(t,i),i,n,r)},TemplateParseVisitor.prototype._parseAnimation=function(e,n,r,o,a){isPresent(n)&&0!=n.length||(n="null");var l=this._parseBinding(n,r);o.push([e,l.source]),a.push(new s(e,t.PropertyBindingType.Animation,i.SecurityContext.NONE,l,null,r))},TemplateParseVisitor.prototype._parsePropertyInterpolation=function(e,t,i,n,r){var o=this._parseInterpolation(t,i);return!!isPresent(o)&&(this._parsePropertyAst(e,o,i,n,r),!0)},TemplateParseVisitor.prototype._parsePropertyAst=function(e,t,i,n,r){n.push([e,t.source]),r.push(new Ys(e,t,(!1),i))},TemplateParseVisitor.prototype._parseAssignmentEvent=function(e,t,i,n,r){this._parseEventOrAnimationEvent(e+"Change",t+"=$event",i,n,r)},TemplateParseVisitor.prototype._parseEventOrAnimationEvent=function(e,t,i,n,r){_isAnimationLabel(e)?(e=e.substr(1),this._parseAnimationEvent(e,t,i,r)):this._parseEvent(e,t,i,n,r)},TemplateParseVisitor.prototype._parseAnimationEvent=function(e,t,i,n){var r=splitAtPeriod(e,[e,""]),o=r[0],s=r[1].toLowerCase();if(s)switch(s){case"start":case"done":var l=this._parseAction(t,i);n.push(new a(o,null,s,l,i));break;default:this._reportError('The provided animation output phase value "'+s+'" for "@'+o+'" is not supported (use start or done)',i)}else this._reportError("The animation trigger output event (@"+o+") is missing its phase value name (start or done are currently supported)",i)},TemplateParseVisitor.prototype._parseEvent=function(e,t,i,n,r){var o=splitAtColon(e,[null,e]),s=o[0],l=o[1],u=this._parseAction(t,i);n.push([e,u.source]),r.push(new a(l,s,null,u,i))},TemplateParseVisitor.prototype._parseLiteralAttr=function(e,t,i,n){n.push(new Ys(e,this._exprParser.wrapLiteralPrimitive(t,""),(!0),i))},TemplateParseVisitor.prototype._parseDirectives=function(e,t){var i=this,n=new Array(this.directivesIndex.size),r=!1;return e.match(t,function(e,t){n[i.directivesIndex.get(t)]=t,r=r||e.hasElementSelector()}),{directives:n.filter(function(e){return!!e}),matchElement:r}},TemplateParseVisitor.prototype._createDirectiveAsts=function(e,t,i,n,r,o,s){var a=this,u=new Set,c=null,h=i.map(function(e){var i=new un(o.start,o.end,"Directive "+e.type.name);e.isComponent&&(c=e);var h=[],p=[],f=[];return a._createDirectiveHostPropertyAsts(t,e.hostProperties,i,h),a._createDirectiveHostEventAsts(e.hostListeners,i,p),a._createDirectivePropertyAsts(e.inputs,n,f),r.forEach(function(t){(0===t.value.length&&e.isComponent||e.exportAs==t.value)&&(s.push(new l(t.name,identifierToken(e.type),t.sourceSpan)),u.add(t.name))}),new d(e,f,h,p,i)});return r.forEach(function(t){if(t.value.length>0)u.has(t.name)||a._reportError('There is no directive with "exportAs" set to "'+t.value+'"',t.sourceSpan);else if(!c){var i=null;e&&(i=resolveIdentifierToken(Go.TemplateRef)),s.push(new l(t.name,i,t.sourceSpan))}}),h},TemplateParseVisitor.prototype._createDirectiveHostPropertyAsts=function(e,t,i,n){var r=this;t&&Object.keys(t).forEach(function(o){var s=t[o];if(isString(s)){var a=r._parseBinding(s,i);n.push(r._createElementPropertyAst(e,o,a,i))}else r._reportError('Value of the host property binding "'+o+'" needs to be a string representing an expression but got "'+s+'" ('+typeof s+")",i)})},TemplateParseVisitor.prototype._createDirectiveHostEventAsts=function(e,t,i){var n=this;e&&Object.keys(e).forEach(function(r){var o=e[r];isString(o)?n._parseEventOrAnimationEvent(r,o,t,[],i):n._reportError('Value of the host listener "'+r+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",t)})},TemplateParseVisitor.prototype._createDirectivePropertyAsts=function(e,t,i){if(e){var n=new Map;t.forEach(function(e){var t=n.get(e.name);t&&!t.isLiteral||n.set(e.name,e)}),Object.keys(e).forEach(function(t){var r=e[t],o=n.get(r);o&&i.push(new p(t,o.name,o.expression,o.sourceSpan))})}},TemplateParseVisitor.prototype._createElementPropertyAsts=function(e,t,i){
var n=this,r=[],o=new Map;return i.forEach(function(e){e.inputs.forEach(function(e){o.set(e.templateName,e)})}),t.forEach(function(t){t.isLiteral||o.get(t.name)||r.push(n._createElementPropertyAst(e,t.name,t.expression,t.sourceSpan))}),r},TemplateParseVisitor.prototype._createElementPropertyAst=function(e,n,r,o){var a,l,u,c=null,h=n.split(Ls);if(1===h.length){var p=h[0];if(_isAnimationLabel(p))l=p.substr(1),a=t.PropertyBindingType.Animation,u=i.SecurityContext.NONE;else if(l=this._schemaRegistry.getMappedPropName(p),u=this._schemaRegistry.securityContext(e,l),a=t.PropertyBindingType.Property,this._validatePropertyOrAttributeName(l,o,!1),!this._schemaRegistry.hasProperty(e,l,this._schemas)){var d="Can't bind to '"+l+"' since it isn't a known property of '"+e+"'.";e.indexOf("-")>-1&&(d+="\n1. If '"+e+"' is an Angular component and it has '"+l+"' input, then verify that it is part of this module."+("\n2. If '"+e+"' is a Web Component then add \"CUSTOM_ELEMENTS_SCHEMA\" to the '@NgModule.schemas' of this component to suppress this message.\n")),this._reportError(d,o)}}else if(h[0]==Vs){l=h[1],this._validatePropertyOrAttributeName(l,o,!0);var f=this._schemaRegistry.getMappedPropName(l);u=this._schemaRegistry.securityContext(e,f);var m=l.indexOf(":");if(m>-1){var y=l.substring(0,m),v=l.substring(m+1);l=mergeNsAndName(y,v)}a=t.PropertyBindingType.Attribute}else h[0]==Fs?(l=h[1],a=t.PropertyBindingType.Class,u=i.SecurityContext.NONE):h[0]==js?(c=h.length>2?h[2]:null,l=h[1],a=t.PropertyBindingType.Style,u=i.SecurityContext.STYLE):(this._reportError("Invalid property name '"+n+"'",o),a=null,u=null);return new s(l,a,u,r,c,o)},TemplateParseVisitor.prototype._validatePropertyOrAttributeName=function(e,t,i){var n=i?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);n.error&&this._reportError(n.msg,t,Xi.FATAL)},TemplateParseVisitor.prototype._findComponentDirectives=function(e){return e.filter(function(e){return e.directive.isComponent})},TemplateParseVisitor.prototype._findComponentDirectiveNames=function(e){return this._findComponentDirectives(e).map(function(e){return e.directive.type.name})},TemplateParseVisitor.prototype._assertOnlyOneComponent=function(e,t){var i=this._findComponentDirectiveNames(e);i.length>1&&this._reportError("More than one component: "+i.join(","),t)},TemplateParseVisitor.prototype._assertElementExists=function(e,t){var i=t.name.replace(/^:xhtml:/,"");if(!e&&!this._schemaRegistry.hasElement(i,this._schemas)){var n="'"+i+"' is not a known element:\n"+("1. If '"+i+"' is an Angular component, then verify that it is part of this module.\n")+("2. If '"+i+"' is a Web Component then add \"CUSTOM_ELEMENTS_SCHEMA\" to the '@NgModule.schemas' of this component to suppress this message.");this._reportError(n,t.sourceSpan)}},TemplateParseVisitor.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(e,t,i){var n=this,r=this._findComponentDirectiveNames(e);r.length>0&&this._reportError("Components on an embedded template: "+r.join(","),i),t.forEach(function(e){n._reportError("Property binding "+e.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "directives" section.',i)})},TemplateParseVisitor.prototype._assertAllEventsPublishedByDirectives=function(e,t){var i=this,n=new Set;e.forEach(function(e){Object.keys(e.directive.outputs).forEach(function(t){var i=e.directive.outputs[t];n.add(i)})}),t.forEach(function(e){!isPresent(e.target)&&n.has(e.name)||i._reportError("Event binding "+e.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "directives" section.',e.sourceSpan)})},TemplateParseVisitor}(),qs=function(){function NonBindableVisitor(){}return NonBindableVisitor.prototype.visitElement=function(e,t){var i=preparseElement(e);if(i.type===Jn.SCRIPT||i.type===Jn.STYLE||i.type===Jn.STYLESHEET)return null;var n=e.attrs.map(function(e){return[e.name,e.value]}),r=createElementCssSelector(e.name,n),o=t.findNgContentIndex(r),s=visitAll(this,e.children,Zs);return new c(e.name,visitAll(this,e.attrs),[],[],[],[],[],(!1),s,o,e.sourceSpan,e.endSourceSpan)},NonBindableVisitor.prototype.visitComment=function(e,t){return null},NonBindableVisitor.prototype.visitAttribute=function(e,t){return new o(e.name,e.value,e.sourceSpan)},NonBindableVisitor.prototype.visitText=function(e,t){var i=t.findNgContentIndex(Bs);return new n(e.value,i,e.sourceSpan)},NonBindableVisitor.prototype.visitExpansion=function(e,t){return e},NonBindableVisitor.prototype.visitExpansionCase=function(e,t){return e},NonBindableVisitor}(),Ys=function(){function BoundElementOrDirectiveProperty(e,t,i,n){this.name=e,this.expression=t,this.isLiteral=i,this.sourceSpan=n}return BoundElementOrDirectiveProperty}(),Ks=function(){function ElementOrDirectiveRef(e,t,i){this.name=e,this.value=t,this.sourceSpan=i}return ElementOrDirectiveRef}(),Xs=function(){function ElementContext(e,t,i,n){this.isTemplateElement=e,this._ngContentIndexMatcher=t,this._wildcardNgContentIndex=i,this.providerContext=n}return ElementContext.create=function(e,t,i){var n=new R,r=null,o=t.find(function(e){return e.directive.isComponent});if(o)for(var s=o.directive.template.ngContentSelectors,a=0;a<s.length;a++){var l=s[a];"*"===l?r=a:n.addSelectables(I.parse(s[a]),a)}return new ElementContext(e,n,r,i)},ElementContext.prototype.findNgContentIndex=function(e){var t=[];return this._ngContentIndexMatcher.match(e,function(e,i){t.push(i)}),t.sort(),isPresent(this._wildcardNgContentIndex)&&t.push(this._wildcardNgContentIndex),t.length>0?t[0]:null},ElementContext}(),Zs=new Xs((!0),new R,null,null),Qs=new qs,Js=function(e){function PipeCollector(){e.apply(this,arguments),this.pipes=new Set}return _s(PipeCollector,e),PipeCollector.prototype.visitPipe=function(e,t){return this.pipes.add(e.name),e.exp.visit(this),this.visitAll(e.args,t),null},PipeCollector}(Gt),$s=function(){function CompilerConfig(e){var t=void 0===e?{}:e,n=t.renderTypes,r=void 0===n?new ta:n,o=t.defaultEncapsulation,s=void 0===o?i.ViewEncapsulation.Emulated:o,a=t.genDebugInfo,l=t.logBindingUpdate,u=t.useJit,c=void 0===u||u;this.renderTypes=r,this.defaultEncapsulation=s,this._genDebugInfo=a,this._logBindingUpdate=l,this.useJit=c}return Object.defineProperty(CompilerConfig.prototype,"genDebugInfo",{get:function(){return void 0===this._genDebugInfo?i.isDevMode():this._genDebugInfo},enumerable:!0,configurable:!0}),Object.defineProperty(CompilerConfig.prototype,"logBindingUpdate",{get:function(){return void 0===this._logBindingUpdate?i.isDevMode():this._logBindingUpdate},enumerable:!0,configurable:!0}),CompilerConfig}(),ea=function(){function RenderTypes(){}return Object.defineProperty(RenderTypes.prototype,"renderer",{get:function(){return unimplemented$1()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderText",{get:function(){return unimplemented$1()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderElement",{get:function(){return unimplemented$1()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderComment",{get:function(){return unimplemented$1()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderNode",{get:function(){return unimplemented$1()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderEvent",{get:function(){return unimplemented$1()},enumerable:!0,configurable:!0}),RenderTypes}(),ta=function(){function DefaultRenderTypes(){this.renderText=null,this.renderElement=null,this.renderComment=null,this.renderNode=null,this.renderEvent=null}return Object.defineProperty(DefaultRenderTypes.prototype,"renderer",{get:function(){return resolveIdentifier(Go.Renderer)},enumerable:!0,configurable:!0}),DefaultRenderTypes}(),ia=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},na=function(){function AnimationAst(){this.startTime=0,this.playTime=0}return AnimationAst}(),ra=function(e){function AnimationStateAst(){e.apply(this,arguments)}return ia(AnimationStateAst,e),AnimationStateAst}(na),oa=function(e){function AnimationEntryAst(t,i,n){e.call(this),this.name=t,this.stateDeclarations=i,this.stateTransitions=n}return ia(AnimationEntryAst,e),AnimationEntryAst.prototype.visit=function(e,t){return e.visitAnimationEntry(this,t)},AnimationEntryAst}(na),sa=function(e){function AnimationStateDeclarationAst(t,i){e.call(this),this.stateName=t,this.styles=i}return ia(AnimationStateDeclarationAst,e),AnimationStateDeclarationAst.prototype.visit=function(e,t){return e.visitAnimationStateDeclaration(this,t)},AnimationStateDeclarationAst}(ra),aa=function(){function AnimationStateTransitionExpression(e,t){this.fromState=e,this.toState=t}return AnimationStateTransitionExpression}(),la=function(e){function AnimationStateTransitionAst(t,i){e.call(this),this.stateChanges=t,this.animation=i}return ia(AnimationStateTransitionAst,e),AnimationStateTransitionAst.prototype.visit=function(e,t){return e.visitAnimationStateTransition(this,t)},AnimationStateTransitionAst}(ra),ua=function(e){function AnimationStepAst(t,i,n,r,o){e.call(this),this.startingStyles=t,this.keyframes=i,this.duration=n,this.delay=r,this.easing=o}return ia(AnimationStepAst,e),AnimationStepAst.prototype.visit=function(e,t){return e.visitAnimationStep(this,t)},AnimationStepAst}(na),ca=function(e){function AnimationStylesAst(t){e.call(this),this.styles=t}return ia(AnimationStylesAst,e),AnimationStylesAst.prototype.visit=function(e,t){return e.visitAnimationStyles(this,t)},AnimationStylesAst}(na),ha=function(e){function AnimationKeyframeAst(t,i){e.call(this),this.offset=t,this.styles=i}return ia(AnimationKeyframeAst,e),AnimationKeyframeAst.prototype.visit=function(e,t){return e.visitAnimationKeyframe(this,t)},AnimationKeyframeAst}(na),pa=function(e){function AnimationWithStepsAst(t){e.call(this),this.steps=t}return ia(AnimationWithStepsAst,e),AnimationWithStepsAst}(na),da=function(e){function AnimationGroupAst(t){e.call(this,t)}return ia(AnimationGroupAst,e),AnimationGroupAst.prototype.visit=function(e,t){return e.visitAnimationGroup(this,t)},AnimationGroupAst}(pa),fa=function(e){function AnimationSequenceAst(t){e.call(this,t)}return ia(AnimationSequenceAst,e),AnimationSequenceAst.prototype.visit=function(e,t){return e.visitAnimationSequence(this,t)},AnimationSequenceAst}(pa),ma=function(){function AnimationEntryCompileResult(e,t,i){this.name=e,this.statements=t,this.fnExp=i}return AnimationEntryCompileResult}(),ya=function(){function AnimationCompiler(){}return AnimationCompiler.prototype.compile=function(e,t){return t.map(function(t){var i=e+"_"+t.name,n=new Aa(t.name,i);return n.build(t)})},AnimationCompiler}(),va=variable("element"),ga=variable("defaultStateStyles"),_a=variable("view"),ba=_a.prop("renderer"),wa=variable("currentState"),Ca=variable("nextState"),xa=variable("player"),Ea=variable("totalTime"),Sa=variable("startStateStyles"),Pa=variable("endStateStyles"),ka=variable("collectedStyles"),Ta=literalMap([]),Aa=function(){function _AnimationBuilder(e,t){this.animationName=e,this._fnVarName=t+"_factory",this._statesMapVarName=t+"_states",this._statesMapVar=variable(this._statesMapVarName)}return _AnimationBuilder.prototype.visitAnimationStyles=function(e,t){var i=[];return t.isExpectingFirstStyleStep&&(i.push(Sa),t.isExpectingFirstStyleStep=!1),e.styles.forEach(function(e){var t=Object.keys(e).map(function(t){return[t,literal(e[t])]});i.push(literalMap(t))}),importExpr(resolveIdentifier(Go.AnimationStyles)).instantiate([importExpr(resolveIdentifier(Go.collectAndResolveStyles)).callFn([ka,literalArr(i)])])},_AnimationBuilder.prototype.visitAnimationKeyframe=function(e,t){return importExpr(resolveIdentifier(Go.AnimationKeyframe)).instantiate([literal(e.offset),e.styles.visit(this,t)])},_AnimationBuilder.prototype.visitAnimationStep=function(e,t){var i=this;if(t.endStateAnimateStep===e)return this._visitEndStateAnimation(e,t);var n=e.startingStyles.visit(this,t),r=e.keyframes.map(function(e){return e.visit(i,t)});return this._callAnimateMethod(e,n,literalArr(r),t)},_AnimationBuilder.prototype._visitEndStateAnimation=function(e,t){var i=this,n=e.startingStyles.visit(this,t),r=e.keyframes.map(function(e){return e.visit(i,t)}),o=importExpr(resolveIdentifier(Go.balanceAnimationKeyframes)).callFn([ka,Pa,literalArr(r)]);return this._callAnimateMethod(e,n,o,t)},_AnimationBuilder.prototype._callAnimateMethod=function(e,t,i,n){return n.totalTransitionTime+=e.duration+e.delay,ba.callMethod("animate",[va,t,i,literal(e.duration),literal(e.delay),literal(e.easing)])},_AnimationBuilder.prototype.visitAnimationSequence=function(e,t){var i=this,n=e.steps.map(function(e){return e.visit(i,t)});return importExpr(resolveIdentifier(Go.AnimationSequencePlayer)).instantiate([literalArr(n)])},_AnimationBuilder.prototype.visitAnimationGroup=function(e,t){var i=this,n=e.steps.map(function(e){return e.visit(i,t)});return importExpr(resolveIdentifier(Go.AnimationGroupPlayer)).instantiate([literalArr(n)])},_AnimationBuilder.prototype.visitAnimationStateDeclaration=function(e,t){var i={};_getStylesArray(e).forEach(function(e){Object.keys(e).forEach(function(t){i[t]=e[t]})}),t.stateMap.registerState(e.stateName,i)},_AnimationBuilder.prototype.visitAnimationStateTransition=function(e,t){var i=e.animation.steps,n=i[i.length-1];_isEndStateAnimateStep(n)&&(t.endStateAnimateStep=n),t.totalTransitionTime=0,t.isExpectingFirstStyleStep=!0;var r=[];e.stateChanges.forEach(function(e){r.push(_compareToAnimationStateExpr(wa,e.fromState).and(_compareToAnimationStateExpr(Ca,e.toState))),e.fromState!=Do&&t.stateMap.registerState(e.fromState),e.toState!=Do&&t.stateMap.registerState(e.toState)});var o=e.animation.visit(this,t),s=r.reduce(function(e,t){return e.or(t)}),a=xa.equals(we).and(s),l=xa.set(o).toStmt(),u=Ea.set(literal(t.totalTransitionTime)).toStmt();return new Ie(a,[l,u])},_AnimationBuilder.prototype.visitAnimationEntry=function(e,t){var i=this;e.stateDeclarations.forEach(function(e){return e.visit(i,t)}),t.stateMap.registerState(Mo,{});var n=[];n.push(_a.callMethod("cancelActiveAnimation",[va,literal(this.animationName),Ca.equals(literal(Oo))]).toStmt()),n.push(ka.set(Ta).toDeclStmt()),n.push(xa.set(we).toDeclStmt()),n.push(Ea.set(literal(0)).toDeclStmt()),n.push(ga.set(this._statesMapVar.key(literal(Mo))).toDeclStmt()),n.push(Sa.set(this._statesMapVar.key(wa)).toDeclStmt()),n.push(new Ie(Sa.equals(we),[Sa.set(ga).toStmt()])),n.push(Pa.set(this._statesMapVar.key(Ca)).toDeclStmt()),n.push(new Ie(Pa.equals(we),[Pa.set(ga).toStmt()]));var r=importExpr(resolveIdentifier(Go.renderStyles));return n.push(r.callFn([va,ba,importExpr(resolveIdentifier(Go.clearStyles)).callFn([Sa])]).toStmt()),e.stateTransitions.forEach(function(e){return n.push(e.visit(i,t))}),n.push(new Ie(xa.equals(we),[xa.set(importExpr(resolveIdentifier(Go.NoOpAnimationPlayer)).instantiate([])).toStmt()])),n.push(xa.callMethod("onDone",[fn([],[r.callFn([va,ba,importExpr(resolveIdentifier(Go.prepareFinalAnimationStyles)).callFn([Sa,Pa])]).toStmt()])]).toStmt()),n.push(_a.callMethod("queueAnimation",[va,literal(this.animationName),xa,Ea,wa,Ca]).toStmt()),fn([new pe(_a.name,importType(resolveIdentifier(Go.AppView),[U])),new pe(va.name,U),new pe(wa.name,U),new pe(Ca.name,U)],n)},_AnimationBuilder.prototype.build=function(e){var t=new Da,i=e.visit(this,t).toDeclStmt(this._fnVarName),n=variable(this._fnVarName),r=[];Object.keys(t.stateMap.states).forEach(function(e){var i=t.stateMap.states[e],n=Ta;if(isPresent(i)){var o=[];Object.keys(i).forEach(function(e){o.push([e,literal(i[e])])}),n=literalMap(o)}r.push([e,n])});var o=this._statesMapVar.set(literalMap(r)).toDeclStmt(),s=[o,i];return new ma(this.animationName,s,n)},_AnimationBuilder}(),Da=function(){function _AnimationBuilderContext(){this.stateMap=new Ma,this.endStateAnimateStep=null,this.isExpectingFirstStyleStep=!1,this.totalTransitionTime=0}return _AnimationBuilderContext}(),Ma=function(){function _AnimationBuilderStateMap(){this._states={}}return Object.defineProperty(_AnimationBuilderStateMap.prototype,"states",{get:function(){return this._states},enumerable:!0,configurable:!0}),_AnimationBuilderStateMap.prototype.registerState=function(e,t){void 0===t&&(t=null);var i=this._states[e];i||(this._states[e]=t)},_AnimationBuilderStateMap}(),Oa=v.Math,Ia=function(){function StylesCollectionEntry(e,t){this.time=e,this.value=t}return StylesCollectionEntry.prototype.matches=function(e,t){return e==this.time&&t==this.value},StylesCollectionEntry}(),Ra=function(){function StylesCollection(){this.styles={}}return StylesCollection.prototype.insertAtTime=function(e,t,i){var n=new Ia(t,i),r=this.styles[e];isPresent(r)||(r=this.styles[e]=[]);for(var o=0,s=r.length-1;s>=0;s--)if(r[s].time<=t){o=s+1;break}P.insert(r,o,n)},StylesCollection.prototype.getByIndex=function(e,t){var i=this.styles[e];return isPresent(i)?t>=i.length?null:i[t]:null},StylesCollection.prototype.indexOfAtOrBeforeTime=function(e,t){var i=this.styles[e];if(isPresent(i))for(var n=i.length-1;n>=0;n--)if(i[n].time<=t)return n;return null},StylesCollection}(),Na=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},La=0,Va=1,Fa=1e3,ja=function(e){function AnimationParseError(t){e.call(this,null,t)}return Na(AnimationParseError,e),AnimationParseError.prototype.toString=function(){return""+this.msg},AnimationParseError}(hn),Ba=function(){function AnimationEntryParseResult(e,t){this.ast=e,this.errors=t}return AnimationEntryParseResult}(),za=function(){function AnimationParser(){}return AnimationParser.prototype.parseComponent=function(e){var t=this,i=[],n=e.type.name,r=new Set,o=e.template.animations.map(function(e){var o=t.parseEntry(e),s=o.ast,a=s.name;if(r.has(a)?o.errors.push(new ja('The animation trigger "'+a+'" has already been registered for the '+n+" component")):r.add(a),o.errors.length>0){var l='- Unable to parse the animation sequence for "'+a+'" on the '+n+" component due to the following errors:";o.errors.forEach(function(e){l+="\n-- "+e.msg}),i.push(l)}return s});if(i.length>0){var s=i.join("\n");throw new Error("Animation parse errors:\n"+s)}return o},AnimationParser.prototype.parseEntry=function(e){var t=[],i={},n=[],r=[];e.definitions.forEach(function(e){e instanceof Xe?_parseAnimationDeclarationStates(e,t).forEach(function(e){r.push(e),i[e.stateName]=e.styles}):n.push(e)});var o=n.map(function(e){return _parseAnimationStateTransition(e,i,t)}),s=new oa(e.name,r,o);return new Ba(s,t)},AnimationParser}(),Ha=function(){function _AnimationTimings(e,t,i){this.duration=e,this.delay=t,this.easing=i}return _AnimationTimings}(),Wa=function(){function _ValueOutputAstTransformer(){}return _ValueOutputAstTransformer.prototype.visitArray=function(e,t){var i=this;return literalArr(e.map(function(e){return visitValue(e,i,null)}),t)},_ValueOutputAstTransformer.prototype.visitStringMap=function(e,t){var i=this,n=[];return Object.keys(e).forEach(function(t){n.push([t,visitValue(e[t],i,null)])}),literalMap(n,t)},_ValueOutputAstTransformer.prototype.visitPrimitive=function(e,t){return literal(e,t)},_ValueOutputAstTransformer.prototype.visitOther=function(e,t){if(e instanceof rt)return importExpr(e);if(e instanceof Q)return e;throw new Error("Illegal state: Don't now how to compile value "+e)},_ValueOutputAstTransformer}(),Ga=function(){function _DebugState(e,t){this.nodeIndex=e,this.sourceAst=t}return _DebugState}(),Ua=new Ga(null,null),qa=function(){function CompileMethod(e){this._view=e,this._newState=Ua,this._currState=Ua,this._bodyStatements=[],this._debugEnabled=this._view.genConfig.genDebugInfo}return CompileMethod.prototype._updateDebugContextIfNeeded=function(){if(this._newState.nodeIndex!==this._currState.nodeIndex||this._newState.sourceAst!==this._currState.sourceAst){var e=this._updateDebugContext(this._newState);isPresent(e)&&this._bodyStatements.push(e.toStmt())}},CompileMethod.prototype._updateDebugContext=function(e){if(this._currState=this._newState=e,this._debugEnabled){var t=isPresent(e.sourceAst)?e.sourceAst.sourceSpan.start:null;return _e.callMethod("debug",[literal(e.nodeIndex),isPresent(t)?literal(t.line):we,isPresent(t)?literal(t.col):we])}return null},CompileMethod.prototype.resetDebugInfoExpr=function(e,t){var i=this._updateDebugContext(new Ga(e,t));return i||we},CompileMethod.prototype.resetDebugInfo=function(e,t){this._newState=new Ga(e,t)},CompileMethod.prototype.addStmt=function(e){this._updateDebugContextIfNeeded(),this._bodyStatements.push(e)},CompileMethod.prototype.addStmts=function(e){this._updateDebugContextIfNeeded(),P.addAll(this._bodyStatements,e)},CompileMethod.prototype.finish=function(){return this._bodyStatements},CompileMethod.prototype.isEmpty=function(){return 0===this._bodyStatements.length},CompileMethod}(),Ya=function(){function ViewQueryValues(e,t){this.view=e,this.values=t}return ViewQueryValues}(),Ka=function(){function CompileQuery(e,t,i,n){this.meta=e,this.queryList=t,this.ownerDirectiveExpression=i,this.view=n,this._values=new Ya(n,[])}return CompileQuery.prototype.addValue=function(e,t){for(var i=t,n=[];isPresent(i)&&i!==this.view;){var r=i.declarationElement;n.unshift(r),i=r.view}var o=getPropertyInView(this.queryList,t,this.view),s=this._values;n.forEach(function(e){var t=s.values.length>0?s.values[s.values.length-1]:null;if(t instanceof Ya&&t.view===e.embeddedView)s=t;else{var i=new Ya(e.embeddedView,[]);s.values.push(i),s=i}}),s.values.push(e),n.length>0&&t.dirtyParentQueriesMethod.addStmt(o.callMethod("setDirty",[]).toStmt())},CompileQuery.prototype._isStatic=function(){return!this._values.values.some(function(e){return e instanceof Ya})},CompileQuery.prototype.afterChildren=function(e,t){var i=createQueryValues(this._values),n=[this.queryList.callMethod("reset",[literalArr(i)]).toStmt()];if(isPresent(this.ownerDirectiveExpression)){var r=this.meta.first?this.queryList.prop("first"):this.queryList;n.push(this.ownerDirectiveExpression.prop(this.meta.propertyName).set(r).toStmt())}this.meta.first||n.push(this.queryList.callMethod("notifyOnChanges",[]).toStmt()),this.meta.first&&this._isStatic()?e.addStmts(n):t.addStmt(new Ie(this.queryList.prop("dirty"),n))},CompileQuery}(),Xa=function(){function ViewTypeEnum(){}return ViewTypeEnum.fromValue=function(e){var t=resolveIdentifier(Go.ViewType);switch(e){case Xr.HOST:return _enumExpression(t,"HOST");case Xr.COMPONENT:return _enumExpression(t,"COMPONENT");case Xr.EMBEDDED:return _enumExpression(t,"EMBEDDED");default:throw Error("Inavlid ViewType value: "+e)}},ViewTypeEnum}(),Za=function(){function ViewEncapsulationEnum(){}return ViewEncapsulationEnum.fromValue=function(e){var t=resolveIdentifier(Go.ViewEncapsulation);switch(e){case i.ViewEncapsulation.Emulated:return _enumExpression(t,"Emulated");case i.ViewEncapsulation.Native:return _enumExpression(t,"Native");case i.ViewEncapsulation.None:return _enumExpression(t,"None");default:throw Error("Inavlid ViewEncapsulation value: "+e)}},ViewEncapsulationEnum}(),Qa=function(){function ChangeDetectorStatusEnum(){}return ChangeDetectorStatusEnum.fromValue=function(e){var t=resolveIdentifier(Go.ChangeDetectorStatus);switch(e){case jr.CheckOnce:return _enumExpression(t,"CheckOnce");case jr.Checked:return _enumExpression(t,"Checked");case jr.CheckAlways:return _enumExpression(t,"CheckAlways");case jr.Detached:return _enumExpression(t,"Detached");case jr.Errored:return _enumExpression(t,"Errored");case jr.Destroyed:return _enumExpression(t,"Destroyed");default:throw Error("Inavlid ChangeDetectorStatus value: "+e)}},ChangeDetectorStatusEnum}(),Ja=function(){function ViewConstructorVars(){}return ViewConstructorVars.viewUtils=variable("viewUtils"),ViewConstructorVars.parentInjector=variable("parentInjector"),ViewConstructorVars.declarationEl=variable("declarationEl"),ViewConstructorVars}(),$a=function(){function ViewProperties(){}return ViewProperties.renderer=_e.prop("renderer"),ViewProperties.projectableNodes=_e.prop("projectableNodes"),ViewProperties.viewUtils=_e.prop("viewUtils"),ViewProperties}(),el=function(){function EventHandlerVars(){}return EventHandlerVars.event=variable("$event"),EventHandlerVars}(),tl=function(){function InjectMethodVars(){}return InjectMethodVars.token=variable("token"),InjectMethodVars.requestNodeIndex=variable("requestNodeIndex"),InjectMethodVars.notFoundResult=variable("notFoundResult"),InjectMethodVars}(),il=function(){function DetectChangesVars(){}return DetectChangesVars.throwOnChange=variable("throwOnChange"),DetectChangesVars.changes=variable("changes"),DetectChangesVars.changed=variable("changed"),DetectChangesVars.valUnwrapper=variable("valUnwrapper"),DetectChangesVars}(),nl=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},rl=function(){function CompileNode(e,t,i,n,r){this.parent=e,this.view=t,this.nodeIndex=i,this.renderNode=n,this.sourceAst=r}return CompileNode.prototype.isNull=function(){return!this.renderNode},CompileNode.prototype.isRootElement=function(){return this.view!=this.parent.view},CompileNode}(),ol=function(e){function CompileElement(t,i,n,r,o,s,a,l,u,c,h){var p=this;e.call(this,t,i,n,r,o),this.component=s,this._directives=a,this._resolvedProvidersArray=l,this.hasViewContainer=u,this.hasEmbeddedView=c,this._compViewExpr=null,this.instances=new Map,this._queryCount=0,this._queries=new Map,this._componentConstructorViewQueryLists=[],this.contentNodesByNgContentIndex=null,this.referenceTokens={},h.forEach(function(e){return p.referenceTokens[e.name]=e.value}),this.elementRef=importExpr(resolveIdentifier(Go.ElementRef)).instantiate([this.renderNode]),this.instances.set(resolveIdentifierToken(Go.ElementRef).reference,this.elementRef),this.injector=_e.callMethod("injector",[literal(this.nodeIndex)]),this.instances.set(resolveIdentifierToken(Go.Injector).reference,this.injector),this.instances.set(resolveIdentifierToken(Go.Renderer).reference,_e.prop("renderer")),(this.hasViewContainer||this.hasEmbeddedView||isPresent(this.component))&&this._createAppElement()}return nl(CompileElement,e),CompileElement.createNull=function(){return new CompileElement(null,null,null,null,null,null,[],[],(!1),(!1),[])},CompileElement.prototype._createAppElement=function(){var e="_appEl_"+this.nodeIndex,t=this.isRootElement()?null:this.parent.nodeIndex;this.view.fields.push(new Ae(e,importType(resolveIdentifier(Go.AppElement)),[ne.Private]));var i=_e.prop(e).set(importExpr(resolveIdentifier(Go.AppElement)).instantiate([literal(this.nodeIndex),literal(t),_e,this.renderNode])).toStmt();this.view.createMethod.addStmt(i),this.appElement=_e.prop(e),this.instances.set(resolveIdentifierToken(Go.AppElement).reference,this.appElement)},CompileElement.prototype.createComponentFactoryResolver=function(e){if(e&&0!==e.length){var i=importExpr(resolveIdentifier(Go.CodegenComponentFactoryResolver)).instantiate([literalArr(e.map(function(e){return importExpr(e)})),injectFromViewParentInjector(resolveIdentifierToken(Go.ComponentFactoryResolver),!1)]),n=new st({token:resolveIdentifierToken(Go.ComponentFactoryResolver),useValue:i});this._resolvedProvidersArray.unshift(new f(n.token,(!1),(!0),[n],t.ProviderAstType.PrivateService,[],this.sourceAst.sourceSpan))}},CompileElement.prototype.setComponentView=function(e){this._compViewExpr=e,this.contentNodesByNgContentIndex=new Array(this.component.template.ngContentSelectors.length);for(var t=0;t<this.contentNodesByNgContentIndex.length;t++)this.contentNodesByNgContentIndex[t]=[]},CompileElement.prototype.setEmbeddedView=function(e){if(this.embeddedView=e,isPresent(e)){var i=importExpr(resolveIdentifier(Go.TemplateRef_)).instantiate([this.appElement,this.embeddedView.viewFactory]),n=new st({token:resolveIdentifierToken(Go.TemplateRef),useValue:i});this._resolvedProvidersArray.unshift(new f(n.token,(!1),(!0),[n],t.ProviderAstType.Builtin,[],this.sourceAst.sourceSpan))}},CompileElement.prototype.beforeChildren=function(){var e=this;this.hasViewContainer&&this.instances.set(resolveIdentifierToken(Go.ViewContainerRef).reference,this.appElement.prop("vcRef")),this._resolvedProviders=new Map,this._resolvedProvidersArray.forEach(function(t){return e._resolvedProviders.set(t.token.reference,t)}),E.values(this._resolvedProviders).forEach(function(t){var i=t.providers.map(function(i){if(isPresent(i.useExisting))return e._getDependency(t.providerType,new ot({token:i.useExisting}));if(isPresent(i.useFactory)){var n=i.deps||i.useFactory.diDeps,r=n.map(function(i){return e._getDependency(t.providerType,i)});return importExpr(i.useFactory).callFn(r)}if(isPresent(i.useClass)){var n=i.deps||i.useClass.diDeps,r=n.map(function(i){return e._getDependency(t.providerType,i)});return importExpr(i.useClass).instantiate(r,importType(i.useClass))}return convertValueToOutputAst(i.useValue)}),n="_"+t.token.name+"_"+e.nodeIndex+"_"+e.instances.size,r=createProviderProperty(n,t,i,t.multiProvider,t.eager,e);e.instances.set(t.token.reference,r)});for(var t=0;t<this._directives.length;t++){var i=this._directives[t],n=this.instances.get(identifierToken(i.type).reference);i.queries.forEach(function(t){e._addQuery(t,n)})}var r=[];if(E.values(this._resolvedProviders).forEach(function(t){var i=e._getQueriesFor(t.token);P.addAll(r,i.map(function(e){return new sl(e,t.token)}))}),Object.keys(this.referenceTokens).forEach(function(t){var i,n=e.referenceTokens[t];i=isPresent(n)?e.instances.get(n.reference):e.renderNode,e.view.locals.set(t,i);var o=new lt({value:t});P.addAll(r,e._getQueriesFor(o).map(function(e){return new sl(e,o)}))}),r.forEach(function(t){var i;if(isPresent(t.read.identifier))i=e.instances.get(t.read.reference);else{var n=e.referenceTokens[t.read.value];i=isPresent(n)?e.instances.get(n.reference):e.elementRef}isPresent(i)&&t.query.addValue(i,e.view)}),isPresent(this.component)){var o=isPresent(this.component)?literalArr(this._componentConstructorViewQueryLists):we,s=isPresent(this.getComponent())?this.getComponent():we;this.view.createMethod.addStmt(this.appElement.callMethod("initComponent",[s,o,this._compViewExpr]).toStmt())}},CompileElement.prototype.afterChildren=function(e){var i=this;E.values(this._resolvedProviders).forEach(function(n){var r=i.instances.get(n.token.reference),o=n.providerType===t.ProviderAstType.PrivateService?0:e;i.view.injectorGetMethod.addStmt(createInjectInternalCondition(i.nodeIndex,o,n,r))}),E.values(this._queries).forEach(function(e){return e.forEach(function(e){return e.afterChildren(i.view.createMethod,i.view.updateContentQueriesMethod)})})},CompileElement.prototype.addContentNode=function(e,t){this.contentNodesByNgContentIndex[e].push(t)},CompileElement.prototype.getComponent=function(){return isPresent(this.component)?this.instances.get(identifierToken(this.component.type).reference):null},CompileElement.prototype.getProviderTokens=function(){return E.values(this._resolvedProviders).map(function(e){return createDiTokenExpression(e.token)})},CompileElement.prototype._getQueriesFor=function(e){for(var t,i=[],n=this,r=0;!n.isNull();)t=n._queries.get(e.reference),isPresent(t)&&P.addAll(i,t.filter(function(e){return e.meta.descendants||r<=1})),n._directives.length>0&&r++,n=n.parent;return t=this.view.componentView.viewQueries.get(e.reference),isPresent(t)&&P.addAll(i,t),i},CompileElement.prototype._addQuery=function(e,t){var i="_query_"+e.selectors[0].name+"_"+this.nodeIndex+"_"+this._queryCount++,n=createQueryList(e,t,i,this.view),r=new Ka(e,n,t,this.view);return addQueryToTokenMap(this._queries,r),r},CompileElement.prototype._getLocalDependency=function(e,i){
var n=null;if(!n&&isPresent(i.query)&&(n=this._addQuery(i.query,null).queryList),!n&&isPresent(i.viewQuery)&&(n=createQueryList(i.viewQuery,null,"_viewQuery_"+i.viewQuery.selectors[0].name+"_"+this.nodeIndex+"_"+this._componentConstructorViewQueryLists.length,this.view),this._componentConstructorViewQueryLists.push(n)),isPresent(i.token)){if(!n&&i.token.reference===resolveIdentifierToken(Go.ChangeDetectorRef).reference)return e===t.ProviderAstType.Component?this._compViewExpr.prop("ref"):getPropertyInView(_e.prop("ref"),this.view,this.view.componentView);if(!n){var r=this._resolvedProviders.get(i.token.reference);if(r&&(e===t.ProviderAstType.Directive||e===t.ProviderAstType.PublicService)&&r.providerType===t.ProviderAstType.PrivateService)return null;n=this.instances.get(i.token.reference)}}return n},CompileElement.prototype._getDependency=function(e,i){var n=this,r=null;for(i.isValue&&(r=literal(i.value)),r||i.isSkipSelf||(r=this._getLocalDependency(e,i));!r&&!n.parent.isNull();)n=n.parent,r=n._getLocalDependency(t.ProviderAstType.PublicService,new ot({token:i.token}));return r||(r=injectFromViewParentInjector(i.token,i.isOptional)),r||(r=we),getPropertyInView(r,this.view,n.view)},CompileElement}(rl),sl=function(){function _QueryWithRead(e,t){this.query=e,this.read=e.meta.read||t}return _QueryWithRead}(),al=function(){function CompilePipe(e,t){var i=this;this.view=e,this.meta=t,this._purePipeProxyCount=0,this.instance=_e.prop("_pipe_"+t.name+"_"+e.pipeCount++);var n=this.meta.type.diDeps.map(function(e){return e.token.reference===resolveIdentifierToken(Go.ChangeDetectorRef).reference?getPropertyInView(_e.prop("ref"),i.view,i.view.componentView):injectFromViewParentInjector(e.token,!1)});this.view.fields.push(new Ae(this.instance.name,importType(this.meta.type))),this.view.createMethod.resetDebugInfo(null,null),this.view.createMethod.addStmt(_e.prop(this.instance.name).set(importExpr(this.meta.type).instantiate(n)).toStmt())}return CompilePipe.call=function(e,t,i){var n,r=e.componentView,o=_findPipeMeta(r,t);return o.pure?(n=r.purePipes.get(t),n||(n=new CompilePipe(r,o),r.purePipes.set(t,n),r.pipes.push(n))):(n=new CompilePipe(e,o),e.pipes.push(n)),n._call(e,i)},Object.defineProperty(CompilePipe.prototype,"pure",{get:function(){return this.meta.pure},enumerable:!0,configurable:!0}),CompilePipe.prototype._call=function(e,t){if(this.meta.pure){var i=_e.prop(this.instance.name+"_"+this._purePipeProxyCount++),n=getPropertyInView(this.instance,e,this.view);return createPureProxy(n.prop("transform").callMethod(J.Bind,[n]),t.length,i,e),importExpr(resolveIdentifier(Go.castByValue)).callFn([i,n.prop("transform")]).callFn(t)}return getPropertyInView(this.instance,e,this.view).callMethod("transform",t)},CompilePipe}(),ll=function(){function CompileView(e,t,i,n,r,o,s,a){var l=this;this.component=e,this.genConfig=t,this.pipeMetas=i,this.styles=n,this.animations=r,this.viewIndex=o,this.declarationElement=s,this.templateVariableBindings=a,this.nodes=[],this.rootNodesOrAppElements=[],this.bindings=[],this.classStatements=[],this.eventHandlerMethods=[],this.fields=[],this.getters=[],this.disposables=[],this.subscriptions=[],this.purePipes=new Map,this.pipes=[],this.locals=new Map,this.literalArrayCount=0,this.literalMapCount=0,this.pipeCount=0,this.createMethod=new qa(this),this.animationBindingsMethod=new qa(this),this.injectorGetMethod=new qa(this),this.updateContentQueriesMethod=new qa(this),this.dirtyParentQueriesMethod=new qa(this),this.updateViewQueriesMethod=new qa(this),this.detectChangesInInputsMethod=new qa(this),this.detectChangesRenderPropertiesMethod=new qa(this),this.afterContentLifecycleCallbacksMethod=new qa(this),this.afterViewLifecycleCallbacksMethod=new qa(this),this.destroyMethod=new qa(this),this.detachMethod=new qa(this),this.viewType=getViewType(e,o),this.className="_View_"+e.type.name+o,this.classType=importType(new rt({name:this.className})),this.viewFactory=variable(getViewFactoryName(e,o)),this.viewType===Xr.COMPONENT||this.viewType===Xr.HOST?this.componentView=this:this.componentView=this.declarationElement.view.componentView,this.componentContext=getPropertyInView(_e.prop("context"),this,this.componentView);var u=new Map;if(this.viewType===Xr.COMPONENT){var c=_e.prop("context");P.forEachWithIndex(this.component.viewQueries,function(e,t){var i="_viewQuery_"+e.selectors[0].name+"_"+t,n=createQueryList(e,c,i,l),r=new Ka(e,n,c,l);addQueryToTokenMap(u,r)});var h=0;this.component.type.diDeps.forEach(function(e){if(isPresent(e.viewQuery)){var t=_e.prop("declarationAppElement").prop("componentConstructorViewQueries").key(literal(h++)),i=new Ka(e.viewQuery,t,null,l);addQueryToTokenMap(u,i)}})}this.viewQueries=u,a.forEach(function(e){l.locals.set(e[1],_e.prop("context").prop(e[0]))}),this.declarationElement.isNull()||this.declarationElement.setEmbeddedView(this)}return CompileView.prototype.callPipe=function(e,t,i){return al.call(this,e,[t].concat(i))},CompileView.prototype.getLocal=function(e){if(e==el.event.name)return el.event;for(var t=this,i=t.locals.get(e);!i&&isPresent(t.declarationElement.view);)t=t.declarationElement.view,i=t.locals.get(e);return isPresent(i)?getPropertyInView(i,this,t):null},CompileView.prototype.createLiteralArray=function(e){if(0===e.length)return importExpr(resolveIdentifier(Go.EMPTY_ARRAY));for(var t=_e.prop("_arr_"+this.literalArrayCount++),i=[],n=[],r=0;r<e.length;r++){var o="p"+r;i.push(new pe(o)),n.push(variable(o))}return createPureProxy(fn(i,[new ke(literalArr(n))],new W(U)),e.length,t,this),t.callFn(e)},CompileView.prototype.createLiteralMap=function(e){if(0===e.length)return importExpr(resolveIdentifier(Go.EMPTY_MAP));for(var t=_e.prop("_map_"+this.literalMapCount++),i=[],n=[],r=[],o=0;o<e.length;o++){var s="p"+o;i.push(new pe(s)),n.push([e[o][0],variable(s)]),r.push(e[o][1])}return createPureProxy(fn(i,[new ke(literalMap(n))],new G(U)),e.length,t,this),t.callFn(r)},CompileView.prototype.afterNodes=function(){var e=this;E.values(this.viewQueries).forEach(function(t){return t.forEach(function(t){return t.afterChildren(e.createMethod,e.updateViewQueriesMethod)})})},CompileView}(),ul=function(){function CompileBinding(e,t){this.node=e,this.sourceAst=t}return CompileBinding}(),cl=function(){function ExpressionWithWrappedValueInfo(e,t,i){this.expression=e,this.needsValueUnwrapper=t,this.temporaryCount=i}return ExpressionWithWrappedValueInfo}();!function(e){e[e.Statement=0]="Statement",e[e.Expression=1]="Expression"}(vs||(vs={}));var hl,pl=function(){function _AstToIrVisitor(e,t,i,n){this._nameResolver=e,this._implicitReceiver=t,this._valueUnwrapper=i,this.bindingIndex=n,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.needsValueUnwrapper=!1,this.temporaryCount=0}return _AstToIrVisitor.prototype.visitBinary=function(e,t){var i;switch(e.operation){case"+":i=B.Plus;break;case"-":i=B.Minus;break;case"*":i=B.Multiply;break;case"/":i=B.Divide;break;case"%":i=B.Modulo;break;case"&&":i=B.And;break;case"||":i=B.Or;break;case"==":i=B.Equals;break;case"!=":i=B.NotEquals;break;case"===":i=B.Identical;break;case"!==":i=B.NotIdentical;break;case"<":i=B.Lower;break;case">":i=B.Bigger;break;case"<=":i=B.LowerEquals;break;case">=":i=B.BiggerEquals;break;default:throw new Error("Unsupported operation "+e.operation)}return convertToStatementIfNeeded(t,new fe(i,this.visit(e.left,vs.Expression),this.visit(e.right,vs.Expression)))},_AstToIrVisitor.prototype.visitChain=function(e,t){return ensureStatementMode(t,e),this.visitAll(e.expressions,t)},_AstToIrVisitor.prototype.visitConditional=function(e,t){var i=this.visit(e.condition,vs.Expression);return convertToStatementIfNeeded(t,i.conditional(this.visit(e.trueExp,vs.Expression),this.visit(e.falseExp,vs.Expression)))},_AstToIrVisitor.prototype.visitPipe=function(e,t){var i=this.visit(e.exp,vs.Expression),n=this.visitAll(e.args,vs.Expression),r=this._nameResolver.callPipe(e.name,i,n);return this.needsValueUnwrapper=!0,convertToStatementIfNeeded(t,this._valueUnwrapper.callMethod("unwrap",[r]))},_AstToIrVisitor.prototype.visitFunctionCall=function(e,t){return convertToStatementIfNeeded(t,this.visit(e.target,vs.Expression).callFn(this.visitAll(e.args,vs.Expression)))},_AstToIrVisitor.prototype.visitImplicitReceiver=function(e,t){return ensureExpressionMode(t,e),this._implicitReceiver},_AstToIrVisitor.prototype.visitInterpolation=function(e,t){ensureExpressionMode(t,e);for(var i=[literal(e.expressions.length)],n=0;n<e.strings.length-1;n++)i.push(literal(e.strings[n])),i.push(this.visit(e.expressions[n],vs.Expression));return i.push(literal(e.strings[e.strings.length-1])),importExpr(resolveIdentifier(Go.interpolate)).callFn(i)},_AstToIrVisitor.prototype.visitKeyedRead=function(e,t){return convertToStatementIfNeeded(t,this.visit(e.obj,vs.Expression).key(this.visit(e.key,vs.Expression)))},_AstToIrVisitor.prototype.visitKeyedWrite=function(e,t){var i=this.visit(e.obj,vs.Expression),n=this.visit(e.key,vs.Expression),r=this.visit(e.value,vs.Expression);return convertToStatementIfNeeded(t,i.key(n).set(r))},_AstToIrVisitor.prototype.visitLiteralArray=function(e,t){return convertToStatementIfNeeded(t,this._nameResolver.createLiteralArray(this.visitAll(e.expressions,t)))},_AstToIrVisitor.prototype.visitLiteralMap=function(e,t){for(var i=[],n=0;n<e.keys.length;n++)i.push([e.keys[n],this.visit(e.values[n],vs.Expression)]);return convertToStatementIfNeeded(t,this._nameResolver.createLiteralMap(i))},_AstToIrVisitor.prototype.visitLiteralPrimitive=function(e,t){return convertToStatementIfNeeded(t,literal(e.value))},_AstToIrVisitor.prototype.visitMethodCall=function(e,t){var i=this.leftMostSafeNode(e);if(i)return this.convertSafeAccess(e,i,t);var n=this.visitAll(e.args,vs.Expression),r=null,o=this.visit(e.receiver,vs.Expression);if(o===this._implicitReceiver){var s=this._nameResolver.getLocal(e.name);isPresent(s)&&(r=s.callFn(n))}return isBlank(r)&&(r=o.callMethod(e.name,n)),convertToStatementIfNeeded(t,r)},_AstToIrVisitor.prototype.visitPrefixNot=function(e,t){return convertToStatementIfNeeded(t,not(this.visit(e.expression,vs.Expression)))},_AstToIrVisitor.prototype.visitPropertyRead=function(e,t){var i=this.leftMostSafeNode(e);if(i)return this.convertSafeAccess(e,i,t);var n=null,r=this.visit(e.receiver,vs.Expression);return r===this._implicitReceiver&&(n=this._nameResolver.getLocal(e.name)),isBlank(n)&&(n=r.prop(e.name)),convertToStatementIfNeeded(t,n)},_AstToIrVisitor.prototype.visitPropertyWrite=function(e,t){var i=this.visit(e.receiver,vs.Expression);if(i===this._implicitReceiver){var n=this._nameResolver.getLocal(e.name);if(isPresent(n))throw new Error("Cannot assign to a reference or variable!")}return convertToStatementIfNeeded(t,i.prop(e.name).set(this.visit(e.value,vs.Expression)))},_AstToIrVisitor.prototype.visitSafePropertyRead=function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)},_AstToIrVisitor.prototype.visitSafeMethodCall=function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)},_AstToIrVisitor.prototype.visitAll=function(e,t){var i=this;return e.map(function(e){return i.visit(e,t)})},_AstToIrVisitor.prototype.visitQuote=function(e,t){throw new Error("Quotes are not supported for evaluation!")},_AstToIrVisitor.prototype.visit=function(e,t){var i=this._resultMap.get(e);return i?i:(this._nodeMap.get(e)||e).visit(this,t)},_AstToIrVisitor.prototype.convertSafeAccess=function(e,t,i){var n,r=this.visit(t.receiver,vs.Expression);this.needsTemporary(t.receiver)&&(n=this.allocateTemporary(),r=n.set(r),this._resultMap.set(t.receiver,n));var o=r.isBlank();t instanceof Bt?this._nodeMap.set(t,new jt(t.span,t.receiver,t.name,t.args)):this._nodeMap.set(t,new kt(t.span,t.receiver,t.name));var s=this.visit(e,vs.Expression);return this._nodeMap.delete(t),n&&this.releaseTemporary(n),convertToStatementIfNeeded(i,o.conditional(literal(null),s))},_AstToIrVisitor.prototype.leftMostSafeNode=function(e){var t=this,i=function(e,i){return(t._nodeMap.get(i)||i).visit(e)};return e.visit({visitBinary:function(e){return null},visitChain:function(e){return null},visitConditional:function(e){return null},visitFunctionCall:function(e){return null},visitImplicitReceiver:function(e){return null},visitInterpolation:function(e){return null},visitKeyedRead:function(e){return i(this,e.obj)},visitKeyedWrite:function(e){return null},visitLiteralArray:function(e){return null},visitLiteralMap:function(e){return null},visitLiteralPrimitive:function(e){return null},visitMethodCall:function(e){return i(this,e.receiver)},visitPipe:function(e){return null},visitPrefixNot:function(e){return null},visitPropertyRead:function(e){return i(this,e.receiver)},visitPropertyWrite:function(e){return null},visitQuote:function(e){return null},visitSafeMethodCall:function(e){return i(this,e.receiver)||e},visitSafePropertyRead:function(e){return i(this,e.receiver)||e}})},_AstToIrVisitor.prototype.needsTemporary=function(e){var t=this,i=function(e,i){return i&&(t._nodeMap.get(i)||i).visit(e)},n=function(e,t){return t.some(function(t){return i(e,t)})};return e.visit({visitBinary:function(e){return i(this,e.left)||i(this,e.right)},visitChain:function(e){return!1},visitConditional:function(e){return i(this,e.condition)||i(this,e.trueExp)||i(this,e.falseExp)},visitFunctionCall:function(e){return!0},visitImplicitReceiver:function(e){return!1},visitInterpolation:function(e){return n(this,e.expressions)},visitKeyedRead:function(e){return!1},visitKeyedWrite:function(e){return!1},visitLiteralArray:function(e){return!0},visitLiteralMap:function(e){return!0},visitLiteralPrimitive:function(e){return!1},visitMethodCall:function(e){return!0},visitPipe:function(e){return!0},visitPrefixNot:function(e){return i(this,e.expression)},visitPropertyRead:function(e){return!1},visitPropertyWrite:function(e){return!1},visitQuote:function(e){return!1},visitSafeMethodCall:function(e){return!0},visitSafePropertyRead:function(e){return!1}})},_AstToIrVisitor.prototype.allocateTemporary=function(){var e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new $(temporaryName(this.bindingIndex,e))},_AstToIrVisitor.prototype.releaseTemporary=function(e){if(this._currentTemporary--,e.name!=temporaryName(this.bindingIndex,this._currentTemporary))throw new Error("Temporary "+e.name+" released out of order")},_AstToIrVisitor}(),dl=function(){function CompileEventListener(e,t,i,n,r){this.compileElement=e,this.eventTarget=t,this.eventName=i,this.eventPhase=n,this._hasComponentHostListener=!1,this._actionResultExprs=[],this._method=new qa(e.view),this._methodName="_handle_"+sanitizeEventName(i)+"_"+e.nodeIndex+"_"+r,this._eventParam=new pe(el.event.name,importType(this.compileElement.view.genConfig.renderTypes.renderEvent))}return CompileEventListener.getOrCreate=function(e,t,i,n,r){var o=r.find(function(e){return e.eventTarget==t&&e.eventName==i&&e.eventPhase==n});return o||(o=new CompileEventListener(e,t,i,n,r.length),r.push(o)),o},Object.defineProperty(CompileEventListener.prototype,"methodName",{get:function(){return this._methodName},enumerable:!0,configurable:!0}),CompileEventListener.prototype.addAction=function(e,t,i){isPresent(t)&&t.isComponent&&(this._hasComponentHostListener=!0),this._method.resetDebugInfo(this.compileElement.nodeIndex,e);var n=i||this.compileElement.view.componentContext,r=convertCdStatementToIr(this.compileElement.view,n,e.handler,this.compileElement.nodeIndex),o=r.length-1;if(o>=0){var s=r[o],a=convertStmtIntoExpression(s),l=variable("pd_"+this._actionResultExprs.length);this._actionResultExprs.push(l),isPresent(a)&&(r[o]=l.set(a.cast(U).notIdentical(literal(!1))).toDeclStmt(null,[ne.Final]))}this._method.addStmts(r)},CompileEventListener.prototype.finishMethod=function(){var e=this._hasComponentHostListener?this.compileElement.appElement.prop("componentView"):_e,t=literal(!0);this._actionResultExprs.forEach(function(e){t=t.and(e)});var i=[e.callMethod("markPathToRootAsCheckOnce",[]).toStmt()].concat(this._method.finish()).concat([new ke(t)]);this.compileElement.view.eventHandlerMethods.push(new De(this._methodName,[this._eventParam],i,q,[ne.Private]))},CompileEventListener.prototype.listenToRenderer=function(){var e,t=_e.callMethod("eventHandler",[_e.prop(this._methodName).callMethod(J.Bind,[_e])]);e=isPresent(this.eventTarget)?$a.renderer.callMethod("listenGlobal",[literal(this.eventTarget),literal(this.eventName),t]):$a.renderer.callMethod("listen",[this.compileElement.renderNode,literal(this.eventName),t]);var i=variable("disposable_"+this.compileElement.view.disposables.length);this.compileElement.view.disposables.push(i),this.compileElement.view.createMethod.addStmt(i.set(e).toDeclStmt(X,[ne.Private]))},CompileEventListener.prototype.listenToAnimation=function(){var e=_e.callMethod("eventHandler",[_e.prop(this._methodName).callMethod(J.Bind,[_e])]),t=_e.callMethod("registerAnimationOutput",[this.compileElement.renderNode,literal(this.eventName),literal(this.eventPhase),e]).toStmt();this.compileElement.view.createMethod.addStmt(t)},CompileEventListener.prototype.listenToDirective=function(e,t){var i=variable("subscription_"+this.compileElement.view.subscriptions.length);this.compileElement.view.subscriptions.push(i);var n=_e.callMethod("eventHandler",[_e.prop(this._methodName).callMethod(J.Bind,[_e])]);this.compileElement.view.createMethod.addStmt(i.set(e.prop(t).callMethod(J.SubscribeObservable,[n])).toDeclStmt(null,[ne.Final]))},CompileEventListener}(),fl=_e.prop("numberOfChecks").identical(new ae(0)),ml=not(il.throwOnChange),yl=function(){function ViewBinderVisitor(e){this.view=e,this._nodeIndex=0}return ViewBinderVisitor.prototype.visitBoundText=function(e,t){var i=this.view.nodes[this._nodeIndex++];return bindRenderText(e,i,this.view),null},ViewBinderVisitor.prototype.visitText=function(e,t){return this._nodeIndex++,null},ViewBinderVisitor.prototype.visitNgContent=function(e,t){return null},ViewBinderVisitor.prototype.visitElement=function(e,t){var i=this.view.nodes[this._nodeIndex++],n=[];return collectEventListeners(e.outputs,e.directives,i).forEach(function(e){n.push(e)}),bindRenderInputs(e.inputs,i),bindRenderOutputs(n),e.directives.forEach(function(e){var t=i.instances.get(e.directive.type.reference);bindDirectiveInputs(e,t,i),bindDirectiveDetectChangesLifecycleCallbacks(e,t,i),bindDirectiveHostProps(e,t,i),bindDirectiveOutputs(e,t,n)}),templateVisitAll(this,e.children,i),e.directives.forEach(function(e){var t=i.instances.get(e.directive.type.reference);bindDirectiveAfterContentLifecycleCallbacks(e.directive,t,i),bindDirectiveAfterViewLifecycleCallbacks(e.directive,t,i)}),e.providers.forEach(function(e){var t=i.instances.get(e.token.reference);bindInjectableDestroyLifecycleCallbacks(e,t,i)}),null},ViewBinderVisitor.prototype.visitEmbeddedTemplate=function(e,t){var i=this.view.nodes[this._nodeIndex++],n=collectEventListeners(e.outputs,e.directives,i);return e.directives.forEach(function(e){var t=i.instances.get(e.directive.type.reference);bindDirectiveInputs(e,t,i),bindDirectiveDetectChangesLifecycleCallbacks(e,t,i),bindDirectiveOutputs(e,t,n),bindDirectiveAfterContentLifecycleCallbacks(e.directive,t,i),bindDirectiveAfterViewLifecycleCallbacks(e.directive,t,i)}),e.providers.forEach(function(e){var t=i.instances.get(e.token.reference);bindInjectableDestroyLifecycleCallbacks(e,t,i)}),bindView(i.embeddedView,e.children),null},ViewBinderVisitor.prototype.visitAttr=function(e,t){return null},ViewBinderVisitor.prototype.visitDirective=function(e,t){return null},ViewBinderVisitor.prototype.visitEvent=function(e,t){return null},ViewBinderVisitor.prototype.visitReference=function(e,t){return null},ViewBinderVisitor.prototype.visitVariable=function(e,t){return null},ViewBinderVisitor.prototype.visitDirectiveProperty=function(e,t){return null},ViewBinderVisitor.prototype.visitElementProperty=function(e,t){return null},ViewBinderVisitor}(),vl="$implicit",gl="class",_l="style",bl="ng-container",wl=variable("parentRenderNode"),Cl=variable("rootSelector"),xl=function(){function ViewFactoryDependency(e,t){this.comp=e,this.placeholder=t}return ViewFactoryDependency}(),El=function(){function ComponentFactoryDependency(e,t){this.comp=e,this.placeholder=t}return ComponentFactoryDependency}(),Sl=function(){function ViewBuilderVisitor(e,t){this.view=e,this.targetDependencies=t,this.nestedViewCount=0}return ViewBuilderVisitor.prototype._isRootNode=function(e){return e.view!==this.view},ViewBuilderVisitor.prototype._addRootNodeAndProject=function(e){var t=_getOuterContainerOrSelf(e),i=t.parent,n=t.sourceAst.ngContentIndex,r=e instanceof ol&&e.hasViewContainer?e.appElement:null;this._isRootNode(i)?this.view.viewType!==Xr.COMPONENT&&this.view.rootNodesOrAppElements.push(r||e.renderNode):isPresent(i.component)&&isPresent(n)&&i.addContentNode(n,r||e.renderNode)},ViewBuilderVisitor.prototype._getParentRenderNode=function(e){return e=_getOuterContainerParentOrSelf(e),this._isRootNode(e)?this.view.viewType===Xr.COMPONENT?wl:we:isPresent(e.component)&&e.component.template.encapsulation!==i.ViewEncapsulation.Native?we:e.renderNode},ViewBuilderVisitor.prototype.visitBoundText=function(e,t){return this._visitText(e,"",t)},ViewBuilderVisitor.prototype.visitText=function(e,t){return this._visitText(e,e.value,t)},ViewBuilderVisitor.prototype._visitText=function(e,t,i){var n="_text_"+this.view.nodes.length;this.view.fields.push(new Ae(n,importType(this.view.genConfig.renderTypes.renderText)));var r=_e.prop(n),o=new rl(i,this.view,this.view.nodes.length,r,e),s=_e.prop(n).set($a.renderer.callMethod("createText",[this._getParentRenderNode(i),literal(t),this.view.createMethod.resetDebugInfoExpr(this.view.nodes.length,e)])).toStmt();return this.view.nodes.push(o),this.view.createMethod.addStmt(s),this._addRootNodeAndProject(o),r},ViewBuilderVisitor.prototype.visitNgContent=function(e,t){this.view.createMethod.resetDebugInfo(null,e);var i=this._getParentRenderNode(t),n=$a.projectableNodes.key(literal(e.index),new W(importType(this.view.genConfig.renderTypes.renderNode)));return i!==we?this.view.createMethod.addStmt($a.renderer.callMethod("projectNodes",[i,importExpr(resolveIdentifier(Go.flattenNestedViewRenderNodes)).callFn([n])]).toStmt()):this._isRootNode(t)?this.view.viewType!==Xr.COMPONENT&&this.view.rootNodesOrAppElements.push(n):isPresent(t.component)&&isPresent(e.ngContentIndex)&&t.addContentNode(e.ngContentIndex,n),null},ViewBuilderVisitor.prototype.visitElement=function(e,t){var i,n=this,r=this.view.nodes.length,o=this.view.createMethod.resetDebugInfoExpr(r,e);i=0===r&&this.view.viewType===Xr.HOST?_e.callMethod("selectOrCreateHostElement",[literal(e.name),Cl,o]):e.name===bl?$a.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(t),o]):$a.renderer.callMethod("createElement",[this._getParentRenderNode(t),literal(e.name),o]);var s="_el_"+r;this.view.fields.push(new Ae(s,importType(this.view.genConfig.renderTypes.renderElement))),this.view.createMethod.addStmt(_e.prop(s).set(i).toStmt());for(var a=_e.prop(s),l=e.directives.map(function(e){return e.directive}),u=l.find(function(e){return e.isComponent}),c=_readHtmlAttrs(e.attrs),h=_mergeHtmlAndDirectiveAttrs(c,l),p=0;p<h.length;p++){var d=h[p][0];if(e.name!==bl){var f=h[p][1];this.view.createMethod.addStmt($a.renderer.callMethod("setElementAttribute",[a,literal(d),literal(f)]).toStmt())}}var m=new ol(t,this.view,r,a,e,u,l,e.providers,e.hasViewContainer,(!1),e.references);this.view.nodes.push(m);var y=null;if(isPresent(u)){var v=new rt({name:getViewFactoryName(u,0)});this.targetDependencies.push(new xl(u.type,v));var g=u.entryComponents.map(function(e){var t=new rt({name:e.name});return n.targetDependencies.push(new El(e,t)),t});m.createComponentFactoryResolver(g),y=variable("compView_"+r),m.setComponentView(y),this.view.createMethod.addStmt(y.set(importExpr(v).callFn([$a.viewUtils,m.injector,m.appElement])).toDeclStmt())}if(m.beforeChildren(),this._addRootNodeAndProject(m),templateVisitAll(this,e.children,m),m.afterChildren(this.view.nodes.length-r-1),isPresent(y)){var _;_=this.view.component.type.isHost?$a.projectableNodes:literalArr(m.contentNodesByNgContentIndex.map(function(e){return createFlatArray(e)})),this.view.createMethod.addStmt(y.callMethod("create",[m.getComponent(),_,we]).toStmt())}return null},ViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(e,t){var i=this.view.nodes.length,n="_anchor_"+i;this.view.fields.push(new Ae(n,importType(this.view.genConfig.renderTypes.renderComment))),this.view.createMethod.addStmt(_e.prop(n).set($a.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(t),this.view.createMethod.resetDebugInfoExpr(i,e)])).toStmt());var r=_e.prop(n),o=e.variables.map(function(e){return[e.value.length>0?e.value:vl,e.name]}),s=e.directives.map(function(e){return e.directive}),a=new ol(t,this.view,i,r,e,null,s,e.providers,e.hasViewContainer,(!0),e.references);this.view.nodes.push(a),this.nestedViewCount++;var l=new ll(this.view.component,this.view.genConfig,this.view.pipeMetas,we,this.view.animations,this.view.viewIndex+this.nestedViewCount,a,o);return this.nestedViewCount+=buildView(l,e.children,this.targetDependencies),a.beforeChildren(),this._addRootNodeAndProject(a),a.afterChildren(0),null},ViewBuilderVisitor.prototype.visitAttr=function(e,t){return null},ViewBuilderVisitor.prototype.visitDirective=function(e,t){return null},ViewBuilderVisitor.prototype.visitEvent=function(e,t){return null},ViewBuilderVisitor.prototype.visitReference=function(e,t){return null},ViewBuilderVisitor.prototype.visitVariable=function(e,t){return null},ViewBuilderVisitor.prototype.visitDirectiveProperty=function(e,t){return null},ViewBuilderVisitor.prototype.visitElementProperty=function(e,t){return null},ViewBuilderVisitor}(),Pl=function(){function ViewCompileResult(e,t,i){this.statements=e,this.viewFactoryVar=t,this.dependencies=i}return ViewCompileResult}(),kl=function(){function ViewCompiler(e){this._genConfig=e,this._animationCompiler=new ya}return ViewCompiler.prototype.compileComponent=function(e,t,i,n,r){var o=[],s=new ll(e,this._genConfig,n,i,r,0,ol.createNull(),[]),a=[];return buildView(s,t,o),bindView(s,t),finishView(s,a),new Pl(a,s.viewFactory.name,o)},ViewCompiler.decorators=[{type:i.Injectable}],ViewCompiler.ctorParameters=[{type:$s}],ViewCompiler}(),Tl=function(){function SourceModule(e,t){this.moduleUrl=e,this.source=t}return SourceModule}(),Al=function(){function NgModulesSummary(e,t){this.ngModuleByComponent=e,this.ngModules=t}return NgModulesSummary}(),Dl=function(){function OfflineCompiler(e,t,i,n,r,o,s,a,l){this._metadataResolver=e,this._directiveNormalizer=t,this._templateParser=i,this._styleCompiler=n,this._viewCompiler=r,this._ngModuleCompiler=o,this._outputEmitter=s,this._localeId=a,this._translationFormat=l,this._animationParser=new za,this._animationCompiler=new ya}return OfflineCompiler.prototype.analyzeModules=function(e){return analyzeModules(e,this._metadataResolver)},OfflineCompiler.prototype.clearCache=function(){this._directiveNormalizer.clearCache(),this._metadataResolver.clearCache()},OfflineCompiler.prototype.compile=function(e,t,i,n){var r=this,o=_splitTypescriptSuffix(e)[1],s=[],a=[],l=[];return a.push.apply(a,n.map(function(e){return r._compileModule(e,s)})),Promise.all(i.map(function(e){var i=r._metadataResolver.getDirectiveMetadata(e),n=t.ngModuleByComponent.get(e);if(!n)throw new Error("Cannot determine the module for component "+i.type.name+"!");return Promise.all([i].concat(n.transitiveModule.directives).map(function(e){return r._directiveNormalizer.normalizeDirective(e).asyncResult})).then(function(e){var t=e[0],i=e.slice(1);_assertComponent(t);var u=r._styleCompiler.compileComponent(t);u.externalStylesheets.forEach(function(e){l.push(r._codgenStyles(e,o))}),a.push(r._compileComponentFactory(t,o,s),r._compileComponent(t,i,n.transitiveModule.pipes,n.schemas,u.componentStylesheet,o,s))})})).then(function(){return s.length>0&&l.unshift(r._codegenSourceModule(_ngfactoryModuleUrl(e),s,a)),l})},OfflineCompiler.prototype._compileModule=function(e,t){var i=this._metadataResolver.getNgModuleMetadata(e),n=[];this._localeId&&n.push(new st({token:resolveIdentifierToken(Go.LOCALE_ID),useValue:this._localeId})),this._translationFormat&&n.push(new st({token:resolveIdentifierToken(Go.TRANSLATIONS_FORMAT),useValue:this._translationFormat}));var r=this._ngModuleCompiler.compile(i,n);return r.dependencies.forEach(function(e){e.placeholder.name=_componentFactoryName(e.comp),e.placeholder.moduleUrl=_ngfactoryModuleUrl(e.comp.moduleUrl)}),t.push.apply(t,r.statements),r.ngModuleFactoryVar},OfflineCompiler.prototype._compileComponentFactory=function(e,t,i){var n=createHostComponentMeta(e),r=this._compileComponent(n,[e],[],[],null,t,i),o=_componentFactoryName(e.type);return i.push(variable(o).set(importExpr(resolveIdentifier(Go.ComponentFactory),[importType(e.type)]).instantiate([literal(e.selector),variable(r),importExpr(e.type)],importType(resolveIdentifier(Go.ComponentFactory),[importType(e.type)],[k.Const]))).toDeclStmt(null,[ne.Final])),o},OfflineCompiler.prototype._compileComponent=function(e,t,i,n,r,o,s){var a=this._animationParser.parseComponent(e),l=this._templateParser.parse(e,e.template.template,t,i,n,e.type.name),u=r?variable(r.stylesVar):literalArr([]),c=this._animationCompiler.compile(e.type.name,a),h=this._viewCompiler.compileComponent(e,l,u,i,c);return r&&s.push.apply(s,_resolveStyleStatements(r,o)),c.forEach(function(e){e.statements.forEach(function(e){s.push(e)})}),s.push.apply(s,_resolveViewStatements(h)),h.viewFactoryVar},OfflineCompiler.prototype._codgenStyles=function(e,t){return _resolveStyleStatements(e,t),this._codegenSourceModule(_stylesModuleUrl(e.meta.moduleUrl,e.isShimmed,t),e.statements,[e.stylesVar])},OfflineCompiler.prototype._codegenSourceModule=function(e,t,i){return new Tl(e,this._outputEmitter.emitStatements(e,t,i))},OfflineCompiler}(),Ml=function(){function ResourceLoader(){}return ResourceLoader.prototype.get=function(e){return null},ResourceLoader}(),Ol="asset:",Il={provide:i.PACKAGE_ROOT_URL,useValue:"/"},Rl=function(){function UrlResolver(e){void 0===e&&(e=null),this._packagePrefix=e}return UrlResolver.prototype.resolve=function(e,t){var i=t;isPresent(e)&&e.length>0&&(i=_resolveUrl(e,i));var n=_split(i),r=this._packagePrefix;if(isPresent(r)&&isPresent(n)&&"package"==n[hl.Scheme]){var o=n[hl.Path];if(this._packagePrefix!==Ol)return r=r.replace(/\/+$/,""),o=o.replace(/^\/+/,""),r+"/"+o;var s=o.split(/\//);i="asset:"+s[0]+"/lib/"+s.slice(1).join("/")}return i},UrlResolver.decorators=[{type:i.Injectable}],UrlResolver.ctorParameters=[{type:void 0,decorators:[{type:i.Inject,args:[i.PACKAGE_ROOT_URL]}]}],UrlResolver}(),Nl=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");!function(e){e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment"}(hl||(hl={}));var Ll=function(){function DirectiveNormalizer(e,t,i,n){this._resourceLoader=e,this._urlResolver=t,this._htmlParser=i,this._config=n,this._resourceLoaderCache=new Map}return DirectiveNormalizer.prototype.clearCache=function(){this._resourceLoaderCache.clear()},DirectiveNormalizer.prototype.clearCacheFor=function(e){var t=this;e.isComponent&&(this._resourceLoaderCache.delete(e.template.templateUrl),e.template.externalStylesheets.forEach(function(e){t._resourceLoaderCache.delete(e.moduleUrl)}))},DirectiveNormalizer.prototype._fetch=function(e){var t=this._resourceLoaderCache.get(e);return t||(t=this._resourceLoader.get(e),this._resourceLoaderCache.set(e,t)),t},DirectiveNormalizer.prototype.normalizeDirective=function(e){var t=this;if(!e.isComponent)return new We(e,Promise.resolve(e));var i,n=null;if(isPresent(e.template.template))n=this.normalizeTemplateSync(e.type,e.template),i=Promise.resolve(n);else{if(!e.template.templateUrl)throw new Error("No template specified for component "+e.type.name);
i=this.normalizeTemplateAsync(e.type,e.template)}if(n&&0===n.styleUrls.length){var r=_cloneDirectiveWithTemplate(e,n);return new We(r,Promise.resolve(r))}return new We(null,i.then(function(e){return t.normalizeExternalStylesheets(e)}).then(function(t){return _cloneDirectiveWithTemplate(e,t)}))},DirectiveNormalizer.prototype.normalizeTemplateSync=function(e,t){return this.normalizeLoadedTemplate(e,t,t.template,e.moduleUrl)},DirectiveNormalizer.prototype.normalizeTemplateAsync=function(e,t){var i=this,n=this._urlResolver.resolve(e.moduleUrl,t.templateUrl);return this._fetch(n).then(function(r){return i.normalizeLoadedTemplate(e,t,r,n)})},DirectiveNormalizer.prototype.normalizeLoadedTemplate=function(e,t,n,r){var o=Yi.fromArray(t.interpolation),s=this._htmlParser.parse(n,e.name,!1,o);if(s.errors.length>0){var a=s.errors.join("\n");throw new Error("Template parse errors:\n"+a)}var l=this.normalizeStylesheet(new ht({styles:t.styles,styleUrls:t.styleUrls,moduleUrl:e.moduleUrl})),u=new Vl;visitAll(u,s.rootNodes);var c=this.normalizeStylesheet(new ht({styles:u.styles,styleUrls:u.styleUrls,moduleUrl:r})),h=t.encapsulation;isBlank(h)&&(h=this._config.defaultEncapsulation);var p=l.styles.concat(c.styles),d=l.styleUrls.concat(c.styleUrls);return h===i.ViewEncapsulation.Emulated&&0===p.length&&0===d.length&&(h=i.ViewEncapsulation.None),new pt({encapsulation:h,template:n,templateUrl:r,styles:p,styleUrls:d,externalStylesheets:t.externalStylesheets,ngContentSelectors:u.ngContentSelectors,animations:t.animations,interpolation:t.interpolation})},DirectiveNormalizer.prototype.normalizeExternalStylesheets=function(e){return this._loadMissingExternalStylesheets(e.styleUrls).then(function(t){return new pt({encapsulation:e.encapsulation,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,externalStylesheets:t,ngContentSelectors:e.ngContentSelectors,animations:e.animations,interpolation:e.interpolation})})},DirectiveNormalizer.prototype._loadMissingExternalStylesheets=function(e,t){var i=this;return void 0===t&&(t=new Map),Promise.all(e.filter(function(e){return!t.has(e)}).map(function(e){return i._fetch(e).then(function(n){var r=i.normalizeStylesheet(new ht({styles:[n],moduleUrl:e}));return t.set(e,r),i._loadMissingExternalStylesheets(r.styleUrls,t)})})).then(function(e){return E.values(t)})},DirectiveNormalizer.prototype.normalizeStylesheet=function(e){var t=this,i=e.styleUrls.filter(isStyleUrlResolvable).map(function(i){return t._urlResolver.resolve(e.moduleUrl,i)}),n=e.styles.map(function(n){var r=extractStyleUrls(t._urlResolver,e.moduleUrl,n);return i.push.apply(i,r.styleUrls),r.style});return new ht({styles:n,styleUrls:i,moduleUrl:e.moduleUrl})},DirectiveNormalizer.decorators=[{type:i.Injectable}],DirectiveNormalizer.ctorParameters=[{type:Ml},{type:Rl},{type:qo},{type:$s}],DirectiveNormalizer}(),Vl=function(){function TemplatePreparseVisitor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return TemplatePreparseVisitor.prototype.visitElement=function(e,t){var i=preparseElement(e);switch(i.type){case Jn.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(i.selectAttr);break;case Jn.STYLE:var n="";e.children.forEach(function(e){e instanceof pn&&(n+=e.value)}),this.styles.push(n);break;case Jn.STYLESHEET:this.styleUrls.push(i.hrefAttr)}return i.nonBindable&&this.ngNonBindableStackCount++,visitAll(this,e.children),i.nonBindable&&this.ngNonBindableStackCount--,null},TemplatePreparseVisitor.prototype.visitComment=function(e,t){return null},TemplatePreparseVisitor.prototype.visitAttribute=function(e,t){return null},TemplatePreparseVisitor.prototype.visitText=function(e,t){return null},TemplatePreparseVisitor.prototype.visitExpansion=function(e,t){return null},TemplatePreparseVisitor.prototype.visitExpansionCase=function(e,t){return null},TemplatePreparseVisitor}(),Fl=function(){function DirectiveResolver(e){void 0===e&&(e=Co),this._reflector=e}return DirectiveResolver.prototype.resolve=function(e,t){void 0===t&&(t=!0);var n=this._reflector.annotations(i.resolveForwardRef(e));if(n){var r=n.find(isDirectiveMetadata);if(r){var o=this._reflector.propMetadata(e);return this._mergeWithPropertyMetadata(r,o,e)}}if(t)throw new Error("No Directive annotation found on "+stringify(e));return null},DirectiveResolver.prototype._mergeWithPropertyMetadata=function(e,t,n){var r=[],o=[],s={},a={};return Object.keys(t).forEach(function(e){t[e].forEach(function(t){if(t instanceof i.Input)t.bindingPropertyName?r.push(e+": "+t.bindingPropertyName):r.push(e);else if(t instanceof i.Output){var n=t;n.bindingPropertyName?o.push(e+": "+n.bindingPropertyName):o.push(e)}else if(t instanceof i.HostBinding){var l=t;if(l.hostPropertyName){var u=l.hostPropertyName[0];if("("===u)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===u)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");s["["+l.hostPropertyName+"]"]=e}else s["["+e+"]"]=e}else if(t instanceof i.HostListener){var c=t,h=c.args||[];s["("+c.eventName+")"]=e+"("+h.join(",")+")"}else t instanceof i.Query&&(a[e]=t)})}),this._merge(e,r,o,s,a,n)},DirectiveResolver.prototype._extractPublicName=function(e){return splitAtColon(e,[null,e])[1].trim()},DirectiveResolver.prototype._merge=function(e,t,n,r,o,s){var a=this,l=t;if(e.inputs){var u=e.inputs.map(function(e){return a._extractPublicName(e)});t.forEach(function(e){var t=a._extractPublicName(e);if(u.indexOf(t)>-1)throw new Error("Input '"+t+"' defined multiple times in '"+stringify(s)+"'")}),l.unshift.apply(l,e.inputs)}var c=n;if(e.outputs){var h=e.outputs.map(function(e){return a._extractPublicName(e)});n.forEach(function(e){var t=a._extractPublicName(e);if(h.indexOf(t)>-1)throw new Error("Output event '"+t+"' defined multiple times in '"+stringify(s)+"'")}),c.unshift.apply(c,e.outputs)}var p=e.host?S.merge(e.host,r):r,d=e.queries?S.merge(e.queries,o):o;return e instanceof i.Component?new i.Component({selector:e.selector,inputs:l,outputs:c,host:p,exportAs:e.exportAs,moduleId:e.moduleId,queries:d,changeDetection:e.changeDetection,providers:e.providers,viewProviders:e.viewProviders,entryComponents:e.entryComponents,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,encapsulation:e.encapsulation,animations:e.animations,interpolation:e.interpolation}):new i.Directive({selector:e.selector,inputs:l,outputs:c,host:p,exportAs:e.exportAs,queries:d,providers:e.providers})},DirectiveResolver.decorators=[{type:i.Injectable}],DirectiveResolver.ctorParameters=[{type:Hr}],DirectiveResolver}(),jl=E.createFromPairs([[Br.OnInit,i.OnInit],[Br.OnDestroy,i.OnDestroy],[Br.DoCheck,i.DoCheck],[Br.OnChanges,i.OnChanges],[Br.AfterContentInit,i.AfterContentInit],[Br.AfterContentChecked,i.AfterContentChecked],[Br.AfterViewInit,i.AfterViewInit],[Br.AfterViewChecked,i.AfterViewChecked]]),Bl=E.createFromPairs([[Br.OnInit,"ngOnInit"],[Br.OnDestroy,"ngOnDestroy"],[Br.DoCheck,"ngDoCheck"],[Br.OnChanges,"ngOnChanges"],[Br.AfterContentInit,"ngAfterContentInit"],[Br.AfterContentChecked,"ngAfterContentChecked"],[Br.AfterViewInit,"ngAfterViewInit"],[Br.AfterViewChecked,"ngAfterViewChecked"]]),zl=function(){function NgModuleResolver(e){void 0===e&&(e=Co),this._reflector=e}return NgModuleResolver.prototype.resolve=function(e,t){void 0===t&&(t=!0);var i=this._reflector.annotations(e).find(_isNgModuleMetadata);if(isPresent(i))return i;if(t)throw new Error("No NgModule metadata found for '"+stringify(e)+"'.");return null},NgModuleResolver.decorators=[{type:i.Injectable}],NgModuleResolver.ctorParameters=[{type:Hr}],NgModuleResolver}(),Hl=function(){function PipeResolver(e){void 0===e&&(e=Co),this._reflector=e}return PipeResolver.prototype.resolve=function(e,t){void 0===t&&(t=!0);var n=this._reflector.annotations(i.resolveForwardRef(e));if(isPresent(n)){var r=n.find(_isPipeMetadata);if(isPresent(r))return r}if(t)throw new Error("No Pipe decorator found on "+stringify(e));return null},PipeResolver.decorators=[{type:i.Injectable}],PipeResolver.ctorParameters=[{type:Hr}],PipeResolver}(),Wl=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},Gl=function(){function CompileMetadataResolver(e,t,i,n,r){void 0===r&&(r=Co),this._ngModuleResolver=e,this._directiveResolver=t,this._pipeResolver=i,this._schemaRegistry=n,this._reflector=r,this._directiveCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._anonymousTypes=new Map,this._anonymousTypeIndex=0}return CompileMetadataResolver.prototype.sanitizeTokenName=function(e){var t=stringify(e);if(t.indexOf("(")>=0){var i=this._anonymousTypes.get(e);i||(this._anonymousTypes.set(e,this._anonymousTypeIndex++),i=this._anonymousTypes.get(e)),t="anonymous_token_"+i+"_"}return sanitizeIdentifier(t)},CompileMetadataResolver.prototype.clearCacheFor=function(e){this._directiveCache.delete(e),this._pipeCache.delete(e),this._ngModuleOfTypes.delete(e),this._ngModuleCache.clear()},CompileMetadataResolver.prototype.clearCache=function(){this._directiveCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear()},CompileMetadataResolver.prototype.getAnimationEntryMetadata=function(e){var t=this,i=e.definitions.map(function(e){return t.getAnimationStateMetadata(e)});return new Ye(e.name,i)},CompileMetadataResolver.prototype.getAnimationStateMetadata=function(e){if(e instanceof i.AnimationStateDeclarationMetadata){var t=this.getAnimationStyleMetadata(e.styles);return new Xe(e.stateNameExpr,t)}return e instanceof i.AnimationStateTransitionMetadata?new Ze(e.stateChangeExpr,this.getAnimationMetadata(e.steps)):null},CompileMetadataResolver.prototype.getAnimationStyleMetadata=function(e){return new $e(e.offset,e.styles)},CompileMetadataResolver.prototype.getAnimationMetadata=function(e){var t=this;if(e instanceof i.AnimationStyleMetadata)return this.getAnimationStyleMetadata(e);if(e instanceof i.AnimationKeyframesSequenceMetadata)return new Je(e.steps.map(function(e){return t.getAnimationStyleMetadata(e)}));if(e instanceof i.AnimationAnimateMetadata){var n=this.getAnimationMetadata(e.styles);return new et(e.timings,n)}if(e instanceof i.AnimationWithStepsMetadata){var r=e.steps.map(function(e){return t.getAnimationMetadata(e)});return e instanceof i.AnimationGroupMetadata?new nt(r):new it(r)}return null},CompileMetadataResolver.prototype.getDirectiveMetadata=function(e,t){var n=this;void 0===t&&(t=!0),e=i.resolveForwardRef(e);var r=this._directiveCache.get(e);if(!r){var o=this._directiveResolver.resolve(e,t);if(!o)return null;var s=null,a=null,l=[],u=staticTypeModuleUrl(e),c=[],h=o.selector;if(o instanceof i.Component){assertArrayOfStrings("styles",o.styles),assertArrayOfStrings("styleUrls",o.styleUrls),assertInterpolationSymbols("interpolation",o.interpolation);var p=o.animations?o.animations.map(function(e){return n.getAnimationEntryMetadata(e)}):null;s=new pt({encapsulation:o.encapsulation,template:o.template,templateUrl:o.templateUrl,styles:o.styles,styleUrls:o.styleUrls,animations:p,interpolation:o.interpolation}),a=o.changeDetection,o.viewProviders&&(l=this.getProvidersMetadata(o.viewProviders,c,'viewProviders for "'+stringify(e)+'"')),u=componentModuleUrl(this._reflector,e,o),o.entryComponents&&(c=flattenArray(o.entryComponents).map(function(e){return n.getTypeMetadata(e,staticTypeModuleUrl(e))}).concat(c)),h||(h=this._schemaRegistry.getDefaultComponentElementName())}else if(!h)throw new Error("Directive "+stringify(e)+" has no selector, please add it!");var d=[];isPresent(o.providers)&&(d=this.getProvidersMetadata(o.providers,c,'providers for "'+stringify(e)+'"'));var f=[],m=[];isPresent(o.queries)&&(f=this.getQueriesMetadata(o.queries,!1,e),m=this.getQueriesMetadata(o.queries,!0,e)),r=dt.create({selector:h,exportAs:o.exportAs,isComponent:!!s,type:this.getTypeMetadata(e,u),template:s,changeDetection:a,inputs:o.inputs,outputs:o.outputs,host:o.host,providers:d,viewProviders:l,queries:f,viewQueries:m,entryComponents:c}),this._directiveCache.set(e,r)}return r},CompileMetadataResolver.prototype.getNgModuleMetadata=function(e,t){var n=this;void 0===t&&(t=!0),e=i.resolveForwardRef(e);var r=this._ngModuleCache.get(e);if(!r){var o=this._ngModuleResolver.resolve(e,t);if(!o)return null;var s=[],a=[],l=[],u=[],c=[],h=[],p=[],d=[],f=[],m=[];o.imports&&flattenArray(o.imports).forEach(function(t){var i;if(isValidType(t))i=t;else if(t&&t.ngModule){var r=t;i=r.ngModule,r.providers&&p.push.apply(p,n.getProvidersMetadata(r.providers,d,"provider for the NgModule '"+stringify(i)+"'"))}if(!i)throw new Error("Unexpected value '"+stringify(t)+"' imported by the module '"+stringify(e)+"'");var o=n.getNgModuleMetadata(i,!1);if(null===o)throw new Error("Unexpected "+n._getTypeDescriptor(t)+" '"+stringify(t)+"' imported by the module '"+stringify(e)+"'");c.push(o)}),o.exports&&flattenArray(o.exports).forEach(function(t){if(!isValidType(t))throw new Error("Unexpected value '"+stringify(t)+"' exported by the module '"+stringify(e)+"'");var i,r,o;if(i=n.getDirectiveMetadata(t,!1))a.push(i);else if(r=n.getPipeMetadata(t,!1))u.push(r);else{if(!(o=n.getNgModuleMetadata(t,!1)))throw new Error("Unexpected "+n._getTypeDescriptor(t)+" '"+stringify(t)+"' exported by the module '"+stringify(e)+"'");h.push(o)}});var y=this._getTransitiveNgModuleMetadata(c,h);if(o.declarations&&flattenArray(o.declarations).forEach(function(t){if(!isValidType(t))throw new Error("Unexpected value '"+stringify(t)+"' declared by the module '"+stringify(e)+"'");var i,r;if(i=n.getDirectiveMetadata(t,!1))n._addDirectiveToModule(i,e,y,s,!0);else{if(!(r=n.getPipeMetadata(t,!1)))throw new Error("Unexpected "+n._getTypeDescriptor(t)+" '"+stringify(t)+"' declared by the module '"+stringify(e)+"'");n._addPipeToModule(r,e,y,l,!0)}}),o.providers&&p.push.apply(p,this.getProvidersMetadata(o.providers,d,"provider for the NgModule '"+stringify(e)+"'")),o.entryComponents&&d.push.apply(d,flattenArray(o.entryComponents).map(function(e){return n.getTypeMetadata(e,staticTypeModuleUrl(e))})),o.bootstrap){var v=flattenArray(o.bootstrap).map(function(t){if(!isValidType(t))throw new Error("Unexpected value '"+stringify(t)+"' used in the bootstrap property of module '"+stringify(e)+"'");return n.getTypeMetadata(t,staticTypeModuleUrl(t))});f.push.apply(f,v)}d.push.apply(d,f),o.schemas&&m.push.apply(m,flattenArray(o.schemas)),(g=y.entryComponents).push.apply(g,d),(_=y.providers).push.apply(_,p),r=new mt({type:this.getTypeMetadata(e,staticTypeModuleUrl(e)),providers:p,entryComponents:d,bootstrapComponents:f,schemas:m,declaredDirectives:s,exportedDirectives:a,declaredPipes:l,exportedPipes:u,importedModules:c,exportedModules:h,transitiveModule:y,id:o.id}),y.modules.push(r),this._verifyModule(r),this._ngModuleCache.set(e,r)}return r;var g,_},CompileMetadataResolver.prototype._verifyModule=function(e){e.exportedDirectives.forEach(function(t){if(!e.transitiveModule.directivesSet.has(t.type.reference))throw new Error("Can't export directive "+stringify(t.type.reference)+" from "+stringify(e.type.reference)+" as it was neither declared nor imported!")}),e.exportedPipes.forEach(function(t){if(!e.transitiveModule.pipesSet.has(t.type.reference))throw new Error("Can't export pipe "+stringify(t.type.reference)+" from "+stringify(e.type.reference)+" as it was neither declared nor imported!")})},CompileMetadataResolver.prototype._getTypeDescriptor=function(e){return null!==this._directiveResolver.resolve(e,!1)?"directive":null!==this._pipeResolver.resolve(e,!1)?"pipe":null!==this._ngModuleResolver.resolve(e,!1)?"module":e.provide?"provider":"value"},CompileMetadataResolver.prototype._addTypeToModule=function(e,t){var i=this._ngModuleOfTypes.get(e);if(i&&i!==t)throw new Error("Type "+stringify(e)+" is part of the declarations of 2 modules: "+stringify(i)+" and "+stringify(t)+"! "+("Please consider moving "+stringify(e)+" to a higher module that imports "+stringify(i)+" and "+stringify(t)+". ")+("You can also create a new NgModule that exports and includes "+stringify(e)+" then import that NgModule in "+stringify(i)+" and "+stringify(t)+"."));this._ngModuleOfTypes.set(e,t)},CompileMetadataResolver.prototype._getTransitiveNgModuleMetadata=function(e,t){var i=getTransitiveModules(e.concat(t),!0),n=flattenArray(i.map(function(e){return e.providers})),r=flattenArray(i.map(function(e){return e.entryComponents})),o=getTransitiveModules(e,!1),s=flattenArray(o.map(function(e){return e.exportedDirectives})),a=flattenArray(o.map(function(e){return e.exportedPipes}));return new yt(i,n,r,s,a)},CompileMetadataResolver.prototype._addDirectiveToModule=function(e,t,i,n,r){return void 0===r&&(r=!1),!(!r&&i.directivesSet.has(e.type.reference))&&(i.directivesSet.add(e.type.reference),i.directives.push(e),n.push(e),this._addTypeToModule(e.type.reference,t),!0)},CompileMetadataResolver.prototype._addPipeToModule=function(e,t,i,n,r){return void 0===r&&(r=!1),!(!r&&i.pipesSet.has(e.type.reference))&&(i.pipesSet.add(e.type.reference),i.pipes.push(e),n.push(e),this._addTypeToModule(e.type.reference,t),!0)},CompileMetadataResolver.prototype.getTypeMetadata=function(e,t,n){return void 0===n&&(n=null),e=i.resolveForwardRef(e),new ut({name:this.sanitizeTokenName(e),moduleUrl:t,reference:e,diDeps:this.getDependenciesMetadata(e,n),lifecycleHooks:zr.filter(function(t){return hasLifecycleHook(t,e)})})},CompileMetadataResolver.prototype.getFactoryMetadata=function(e,t,n){return void 0===n&&(n=null),e=i.resolveForwardRef(e),new at({name:this.sanitizeTokenName(e),moduleUrl:t,reference:e,diDeps:this.getDependenciesMetadata(e,n)})},CompileMetadataResolver.prototype.getPipeMetadata=function(e,t){void 0===t&&(t=!0),e=i.resolveForwardRef(e);var n=this._pipeCache.get(e);if(!n){var r=this._pipeResolver.resolve(e,t);if(!r)return null;n=new ft({type:this.getTypeMetadata(e,staticTypeModuleUrl(e)),name:r.name,pure:r.pure}),this._pipeCache.set(e,n)}return n},CompileMetadataResolver.prototype.getDependenciesMetadata=function(e,t){var n=this,r=!1,o=t||this._reflector.parameters(e)||[],s=o.map(function(t){var o=!1,s=!1,a=!1,l=!1,u=!1,c=null,h=null,p=null;return Array.isArray(t)?t.forEach(function(e){e instanceof i.Host?s=!0:e instanceof i.Self?a=!0:e instanceof i.SkipSelf?l=!0:e instanceof i.Optional?u=!0:e instanceof i.Attribute?(o=!0,p=e.attributeName):e instanceof i.Query?e.isViewQuery?h=e:c=e:e instanceof i.Inject?p=e.token:isValidType(e)&&isBlank(p)&&(p=e)}):p=t,isBlank(p)?(r=!0,null):new ot({isAttribute:o,isHost:s,isSelf:a,isSkipSelf:l,isOptional:u,query:c?n.getQueryMetadata(c,null,e):null,viewQuery:h?n.getQueryMetadata(h,null,e):null,token:n.getTokenMetadata(p)})});if(r){var a=s.map(function(e){return e?stringify(e.token):"?"}).join(", ");throw new Error("Can't resolve all parameters for "+stringify(e)+": ("+a+").")}return s},CompileMetadataResolver.prototype.getTokenMetadata=function(e){e=i.resolveForwardRef(e);var t;return t=new lt(isString(e)?{value:e}:{identifier:new rt({reference:e,name:this.sanitizeTokenName(e),moduleUrl:staticTypeModuleUrl(e)})})},CompileMetadataResolver.prototype.getProvidersMetadata=function(e,t,n){var r=this,o=[];return e.forEach(function(s,a){s=i.resolveForwardRef(s),s&&"object"==typeof s&&s.hasOwnProperty("provide")&&(s=new vt(s.provide,s));var l;if(Array.isArray(s))l=r.getProvidersMetadata(s,t,n);else if(s instanceof vt){var u=r.getTokenMetadata(s.token);u.reference===resolveIdentifierToken(Go.ANALYZE_FOR_ENTRY_COMPONENTS).reference?t.push.apply(t,r._getEntryComponentsFromProvider(s)):l=r.getProviderMetadata(s)}else{if(!isValidType(s)){var c=e.reduce(function(e,t,i){return i<a?e.push(""+stringify(t)):i==a?e.push("?"+stringify(t)+"?"):i==a+1&&e.push("..."),e},[]).join(", ");throw new Error("Invalid "+(n?n:"provider")+" - only instances of Provider and Type are allowed, got: ["+c+"]")}l=r.getTypeMetadata(s,staticTypeModuleUrl(s))}l&&o.push(l)}),o},CompileMetadataResolver.prototype._getEntryComponentsFromProvider=function(e){var t=this,i=[],n=[];if(e.useFactory||e.useExisting||e.useClass)throw new Error("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!");if(!e.multi)throw new Error("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!");return convertToCompileValue(e.useValue,n),n.forEach(function(e){var n=t.getDirectiveMetadata(e.reference,!1);n&&i.push(n.type)}),i},CompileMetadataResolver.prototype.getProviderMetadata=function(e){var t,i=null,n=null;return e.useClass?(i=this.getTypeMetadata(e.useClass,staticTypeModuleUrl(e.useClass),e.dependencies),t=i.diDeps):e.useFactory&&(n=this.getFactoryMetadata(e.useFactory,staticTypeModuleUrl(e.useFactory),e.dependencies),t=n.diDeps),new st({token:this.getTokenMetadata(e.token),useClass:i,useValue:convertToCompileValue(e.useValue,[]),useFactory:n,useExisting:e.useExisting?this.getTokenMetadata(e.useExisting):null,deps:t,multi:e.multi})},CompileMetadataResolver.prototype.getQueriesMetadata=function(e,t,i){var n=this,r=[];return Object.keys(e).forEach(function(o){var s=e[o];s.isViewQuery===t&&r.push(n.getQueryMetadata(s,o,i))}),r},CompileMetadataResolver.prototype._queryVarBindings=function(e){return e.split(/\s*,\s*/)},CompileMetadataResolver.prototype.getQueryMetadata=function(e,t,i){var n,r=this;if("string"==typeof e.selector)n=this._queryVarBindings(e.selector).map(function(e){return r.getTokenMetadata(e)});else{if(!e.selector)throw new Error("Can't construct a query for the property \""+t+'" of "'+stringify(i)+"\" since the query selector wasn't defined.");n=[this.getTokenMetadata(e.selector)]}return new ct({selectors:n,first:e.first,descendants:e.descendants,propertyName:t,read:e.read?this.getTokenMetadata(e.read):null})},CompileMetadataResolver.decorators=[{type:i.Injectable}],CompileMetadataResolver.ctorParameters=[{type:zl},{type:Fl},{type:Hl},{type:ns},{type:Hr}],CompileMetadataResolver}(),Ul=function(e){function _CompileValueConverter(){e.apply(this,arguments)}return Wl(_CompileValueConverter,e),_CompileValueConverter.prototype.visitOther=function(e,t){var i;return i=new rt(isStaticSymbol(e)?{name:e.name,moduleUrl:e.filePath,reference:e}:{reference:e}),t.push(i),i},_CompileValueConverter}(He),ql=function(){function ComponentFactoryDependency(e,t){this.comp=e,this.placeholder=t}return ComponentFactoryDependency}(),Yl=function(){function NgModuleCompileResult(e,t,i){this.statements=e,this.ngModuleFactoryVar=t,this.dependencies=i}return NgModuleCompileResult}(),Kl=function(){function NgModuleCompiler(){}return NgModuleCompiler.prototype.compile=function(e,t){var i=isPresent(e.type.moduleUrl)?"in NgModule "+e.type.name+" in "+e.type.moduleUrl:"in NgModule "+e.type.name,n=new ln("",i),r=new un(new an(n,null,null,null),new an(n,null,null,null)),o=[],s=[],a=e.transitiveModule.entryComponents.map(function(t){var i=new rt({name:t.name});return e.bootstrapComponents.indexOf(t)>-1&&s.push(i),o.push(new ql(t,i)),i}),l=new Xl(e,a,s,r),u=new is(e,t,r);u.parse().forEach(function(e){return l.addProvider(e)});var c=l.build(),h=e.type.name+"NgFactory",p=variable(h).set(importExpr(resolveIdentifier(Go.NgModuleFactory)).instantiate([variable(c.name),importExpr(e.type)],importType(resolveIdentifier(Go.NgModuleFactory),[importType(e.type)],[k.Const]))).toDeclStmt(null,[ne.Final]),d=[c,p];if(e.id){var f=importExpr(resolveIdentifier(Go.RegisterModuleFactoryFn)).callFn([literal(e.id),variable(h)]).toStmt();d.push(f)}return new Yl(d,h,o)},NgModuleCompiler.decorators=[{type:i.Injectable}],NgModuleCompiler.ctorParameters=[],NgModuleCompiler}(),Xl=function(){function _InjectorBuilder(e,t,i,n){this._ngModuleMeta=e,this._entryComponentFactories=t,this._bootstrapComponentFactories=i,this._sourceSpan=n,this._tokens=[],this._instances=new Map,this._fields=[],this._createStmts=[],this._destroyStmts=[],this._getters=[]}return _InjectorBuilder.prototype.addProvider=function(e){var t=this,i=e.providers.map(function(e){return t._getProviderValue(e)}),n="_"+e.token.name+"_"+this._instances.size,r=this._createProviderProperty(n,e,i,e.multiProvider,e.eager);e.lifecycleHooks.indexOf(Br.OnDestroy)!==-1&&this._destroyStmts.push(r.callMethod("ngOnDestroy",[]).toStmt()),this._tokens.push(e.token),this._instances.set(e.token.reference,r)},_InjectorBuilder.prototype.build=function(){var e=this,t=this._tokens.map(function(t){var i=e._instances.get(t.reference);return new Ie(Ql.token.identical(createDiTokenExpression(t)),[new ke(i)])}),i=[new De("createInternal",[],this._createStmts.concat(new ke(this._instances.get(this._ngModuleMeta.type.reference))),importType(this._ngModuleMeta.type)),new De("getInternal",[new pe(Ql.token.name,U),new pe(Ql.notFoundResult.name,U)],t.concat([new ke(Ql.notFoundResult)]),U),new De("destroyInternal",[],this._destroyStmts)],n=new De(null,[new pe(Zl.parent.name,importType(resolveIdentifier(Go.Injector)))],[be.callFn([variable(Zl.parent.name),literalArr(this._entryComponentFactories.map(function(e){return importExpr(e)})),literalArr(this._bootstrapComponentFactories.map(function(e){return importExpr(e)}))]).toStmt()]),r=this._ngModuleMeta.type.name+"Injector";return new Oe(r,importExpr(resolveIdentifier(Go.NgModuleInjector),[importType(this._ngModuleMeta.type)]),this._fields,this._getters,n,i)},_InjectorBuilder.prototype._getProviderValue=function(e){var t,i=this;if(isPresent(e.useExisting))t=this._getDependency(new ot({token:e.useExisting}));else if(isPresent(e.useFactory)){var n=e.deps||e.useFactory.diDeps,r=n.map(function(e){return i._getDependency(e)});t=importExpr(e.useFactory).callFn(r)}else if(isPresent(e.useClass)){var n=e.deps||e.useClass.diDeps,r=n.map(function(e){return i._getDependency(e)});t=importExpr(e.useClass).instantiate(r,importType(e.useClass))}else t=convertValueToOutputAst(e.useValue);return t},_InjectorBuilder.prototype._createProviderProperty=function(e,t,i,n,r){var o,s;if(n?(o=literalArr(i),s=new W(U)):(o=i[0],s=i[0].type),s||(s=U),r)this._fields.push(new Ae(e,s)),this._createStmts.push(_e.prop(e).set(o).toStmt());else{var a="_"+e;this._fields.push(new Ae(a,s));var l=[new Ie(_e.prop(a).isBlank(),[_e.prop(a).set(o).toStmt()]),new ke(_e.prop(a))];this._getters.push(new Me(e,l,s))}return _e.prop(e)},_InjectorBuilder.prototype._getDependency=function(e){var t=null;if(e.isValue&&(t=literal(e.value)),e.isSkipSelf||(!e.token||e.token.reference!==resolveIdentifierToken(Go.Injector).reference&&e.token.reference!==resolveIdentifierToken(Go.ComponentFactoryResolver).reference||(t=_e),t||(t=this._instances.get(e.token.reference))),!t){var i=[createDiTokenExpression(e.token)];e.isOptional&&i.push(we),t=Zl.parent.callMethod("get",i)}return t},_InjectorBuilder}(),Zl=function(){function InjectorProps(){}return InjectorProps.parent=_e.prop("parent"),InjectorProps}(),Ql=function(){function InjectMethodVars(){}return InjectMethodVars.token=variable("token"),InjectMethodVars.notFoundResult=variable("notFoundResult"),InjectMethodVars}(),Jl=/'|\\|\n|\r|\$/g,$l=/^[$A-Z_][0-9A-Z_$]*$/i,eu=variable("error"),tu=variable("stack"),iu=function(){function _EmittedLine(e){this.indent=e,this.parts=[]}return _EmittedLine}(),nu=function(){function EmitterVisitorContext(e,t){this._exportedVars=e,this._indent=t,this._classes=[],this._lines=[new iu(t)]}return EmitterVisitorContext.createRoot=function(e){return new EmitterVisitorContext(e,0)},Object.defineProperty(EmitterVisitorContext.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),EmitterVisitorContext.prototype.isExportedVar=function(e){return this._exportedVars.indexOf(e)!==-1},EmitterVisitorContext.prototype.println=function(e){void 0===e&&(e=""),this.print(e,!0)},EmitterVisitorContext.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},EmitterVisitorContext.prototype.print=function(e,t){void 0===t&&(t=!1),e.length>0&&this._currentLine.parts.push(e),t&&this._lines.push(new iu(this._indent))},EmitterVisitorContext.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},EmitterVisitorContext.prototype.incIndent=function(){this._indent++,this._currentLine.indent=this._indent},EmitterVisitorContext.prototype.decIndent=function(){this._indent--,this._currentLine.indent=this._indent},EmitterVisitorContext.prototype.pushClass=function(e){this._classes.push(e)},EmitterVisitorContext.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(EmitterVisitorContext.prototype,"currentClass",{get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),EmitterVisitorContext.prototype.toSource=function(){var e=this._lines;return 0===e[e.length-1].parts.length&&(e=e.slice(0,e.length-1)),e.map(function(e){return e.parts.length>0?_createIndent(e.indent)+e.parts.join(""):""}).join("\n")},EmitterVisitorContext}(),ru=function(){function AbstractEmitterVisitor(e){this._escapeDollarInStrings=e}return AbstractEmitterVisitor.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),t.println(";"),null},AbstractEmitterVisitor.prototype.visitReturnStmt=function(e,t){return t.print("return "),e.value.visitExpression(this,t),t.println(";"),null},AbstractEmitterVisitor.prototype.visitIfStmt=function(e,t){t.print("if ("),e.condition.visitExpression(this,t),t.print(") {");var i=isPresent(e.falseCase)&&e.falseCase.length>0;return e.trueCase.length<=1&&!i?(t.print(" "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(" ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),i&&(t.println("} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println("}"),null},AbstractEmitterVisitor.prototype.visitThrowStmt=function(e,t){return t.print("throw "),e.error.visitExpression(this,t),t.println(";"),null},AbstractEmitterVisitor.prototype.visitCommentStmt=function(e,t){var i=e.comment.split("\n");return i.forEach(function(e){t.println("// "+e)}),null},AbstractEmitterVisitor.prototype.visitWriteVarExpr=function(e,t){var i=t.lineIsEmpty();return i||t.print("("),t.print(e.name+" = "),e.value.visitExpression(this,t),i||t.print(")"),null},AbstractEmitterVisitor.prototype.visitWriteKeyExpr=function(e,t){var i=t.lineIsEmpty();return i||t.print("("),e.receiver.visitExpression(this,t),t.print("["),e.index.visitExpression(this,t),t.print("] = "),e.value.visitExpression(this,t),i||t.print(")"),null},AbstractEmitterVisitor.prototype.visitWritePropExpr=function(e,t){var i=t.lineIsEmpty();return i||t.print("("),e.receiver.visitExpression(this,t),t.print("."+e.name+" = "),e.value.visitExpression(this,t),i||t.print(")"),null},AbstractEmitterVisitor.prototype.visitInvokeMethodExpr=function(e,t){e.receiver.visitExpression(this,t);var i=e.name;return isPresent(e.builtin)&&(i=this.getBuiltinMethodName(e.builtin),isBlank(i))?null:(t.print("."+i+"("),this.visitAllExpressions(e.args,t,","),t.print(")"),null)},AbstractEmitterVisitor.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),t.print("("),this.visitAllExpressions(e.args,t,","),t.print(")"),null},AbstractEmitterVisitor.prototype.visitReadVarExpr=function(e,t){var i=e.name;if(isPresent(e.builtin))switch(e.builtin){case Z.Super:i="super";break;case Z.This:i="this";break;case Z.CatchError:i=eu.name;break;case Z.CatchStack:i=tu.name;break;default:throw new Error("Unknown builtin variable "+e.builtin)}return t.print(i),null},AbstractEmitterVisitor.prototype.visitInstantiateExpr=function(e,t){return t.print("new "),e.classExpr.visitExpression(this,t),t.print("("),this.visitAllExpressions(e.args,t,","),t.print(")"),null},AbstractEmitterVisitor.prototype.visitLiteralExpr=function(e,t,i){void 0===i&&(i="null");var n=e.value;return isString(n)?t.print(escapeIdentifier(n,this._escapeDollarInStrings)):isBlank(n)?t.print(i):t.print(""+n),null;
},AbstractEmitterVisitor.prototype.visitConditionalExpr=function(e,t){return t.print("("),e.condition.visitExpression(this,t),t.print("? "),e.trueCase.visitExpression(this,t),t.print(": "),e.falseCase.visitExpression(this,t),t.print(")"),null},AbstractEmitterVisitor.prototype.visitNotExpr=function(e,t){return t.print("!"),e.condition.visitExpression(this,t),null},AbstractEmitterVisitor.prototype.visitBinaryOperatorExpr=function(e,t){var i;switch(e.operator){case B.Equals:i="==";break;case B.Identical:i="===";break;case B.NotEquals:i="!=";break;case B.NotIdentical:i="!==";break;case B.And:i="&&";break;case B.Or:i="||";break;case B.Plus:i="+";break;case B.Minus:i="-";break;case B.Divide:i="/";break;case B.Multiply:i="*";break;case B.Modulo:i="%";break;case B.Lower:i="<";break;case B.LowerEquals:i="<=";break;case B.Bigger:i=">";break;case B.BiggerEquals:i=">=";break;default:throw new Error("Unknown operator "+e.operator)}return t.print("("),e.lhs.visitExpression(this,t),t.print(" "+i+" "),e.rhs.visitExpression(this,t),t.print(")"),null},AbstractEmitterVisitor.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print("."),t.print(e.name),null},AbstractEmitterVisitor.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print("["),e.index.visitExpression(this,t),t.print("]"),null},AbstractEmitterVisitor.prototype.visitLiteralArrayExpr=function(e,t){var i=e.entries.length>1;return t.print("[",i),t.incIndent(),this.visitAllExpressions(e.entries,t,",",i),t.decIndent(),t.print("]",i),null},AbstractEmitterVisitor.prototype.visitLiteralMapExpr=function(e,t){var i=this,n=e.entries.length>1;return t.print("{",n),t.incIndent(),this.visitAllObjects(function(e){t.print(escapeIdentifier(e[0],i._escapeDollarInStrings,!1)+": "),e[1].visitExpression(i,t)},e.entries,t,",",n),t.decIndent(),t.print("}",n),null},AbstractEmitterVisitor.prototype.visitAllExpressions=function(e,t,i,n){var r=this;void 0===n&&(n=!1),this.visitAllObjects(function(e){return e.visitExpression(r,t)},e,t,i,n)},AbstractEmitterVisitor.prototype.visitAllObjects=function(e,t,i,n,r){void 0===r&&(r=!1);for(var o=0;o<t.length;o++)o>0&&i.print(n,r),e(t[o]);r&&i.println()},AbstractEmitterVisitor.prototype.visitAllStatements=function(e,t){var i=this;e.forEach(function(e){return e.visitStatement(i,t)})},AbstractEmitterVisitor}(),ou=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},su="asset://debug/lib",au=function(){function TypeScriptEmitter(e){this._importGenerator=e}return TypeScriptEmitter.prototype.emitStatements=function(e,t,i){var n=this,r=new lu(e),o=nu.createRoot(i);r.visitAllStatements(t,o);var s=[];return r.importsWithPrefixes.forEach(function(t,i){s.push("imp"+("ort * as "+t+" from '"+n._importGenerator.getImportPath(e,i)+"';"))}),s.push(o.toSource()),s.join("\n")},TypeScriptEmitter}(),lu=function(e){function _TsEmitterVisitor(t){e.call(this,!1),this._moduleUrl=t,this.importsWithPrefixes=new Map}return ou(_TsEmitterVisitor,e),_TsEmitterVisitor.prototype.visitType=function(e,t,i){void 0===i&&(i="any"),isPresent(e)?e.visitType(this,t):t.print(i)},_TsEmitterVisitor.prototype.visitLiteralExpr=function(t,i){e.prototype.visitLiteralExpr.call(this,t,i,"(null as any)")},_TsEmitterVisitor.prototype.visitLiteralArrayExpr=function(t,i){0===t.entries.length&&i.print("(");var n=e.prototype.visitLiteralArrayExpr.call(this,t,i);return 0===t.entries.length&&i.print(" as any[])"),n},_TsEmitterVisitor.prototype.visitExternalExpr=function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null},_TsEmitterVisitor.prototype.visitDeclareVarStmt=function(e,t){return t.isExportedVar(e.name)&&t.print("export "),e.hasModifier(ne.Final)?t.print("const"):t.print("var"),t.print(" "+e.name+":"),this.visitType(e.type,t),t.print(" = "),e.value.visitExpression(this,t),t.println(";"),null},_TsEmitterVisitor.prototype.visitCastExpr=function(e,t){return t.print("(<"),e.type.visitType(this,t),t.print(">"),e.value.visitExpression(this,t),t.print(")"),null},_TsEmitterVisitor.prototype.visitDeclareClassStmt=function(e,t){var i=this;return t.pushClass(e),t.isExportedVar(e.name)&&t.print("export "),t.print("class "+e.name),isPresent(e.parent)&&(t.print(" extends "),e.parent.visitExpression(this,t)),t.println(" {"),t.incIndent(),e.fields.forEach(function(e){return i._visitClassField(e,t)}),isPresent(e.constructorMethod)&&this._visitClassConstructor(e,t),e.getters.forEach(function(e){return i._visitClassGetter(e,t)}),e.methods.forEach(function(e){return i._visitClassMethod(e,t)}),t.decIndent(),t.println("}"),t.popClass(),null},_TsEmitterVisitor.prototype._visitClassField=function(e,t){e.hasModifier(ne.Private)&&t.print("/*private*/ "),t.print(e.name),t.print(":"),this.visitType(e.type,t),t.println(";")},_TsEmitterVisitor.prototype._visitClassGetter=function(e,t){e.hasModifier(ne.Private)&&t.print("private "),t.print("get "+e.name+"()"),t.print(":"),this.visitType(e.type,t),t.println(" {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println("}")},_TsEmitterVisitor.prototype._visitClassConstructor=function(e,t){t.print("constructor("),this._visitParams(e.constructorMethod.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.constructorMethod.body,t),t.decIndent(),t.println("}")},_TsEmitterVisitor.prototype._visitClassMethod=function(e,t){e.hasModifier(ne.Private)&&t.print("private "),t.print(e.name+"("),this._visitParams(e.params,t),t.print("):"),this.visitType(e.type,t,"void"),t.println(" {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println("}")},_TsEmitterVisitor.prototype.visitFunctionExpr=function(e,t){return t.print("("),this._visitParams(e.params,t),t.print("):"),this.visitType(e.type,t,"void"),t.println(" => {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print("}"),null},_TsEmitterVisitor.prototype.visitDeclareFunctionStmt=function(e,t){return t.isExportedVar(e.name)&&t.print("export "),t.print("function "+e.name+"("),this._visitParams(e.params,t),t.print("):"),this.visitType(e.type,t,"void"),t.println(" {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println("}"),null},_TsEmitterVisitor.prototype.visitTryCatchStmt=function(e,t){t.println("try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println("} catch ("+eu.name+") {"),t.incIndent();var i=[tu.set(eu.prop("stack")).toDeclStmt(null,[ne.Final])].concat(e.catchStmts);return this.visitAllStatements(i,t),t.decIndent(),t.println("}"),null},_TsEmitterVisitor.prototype.visitBuiltintType=function(e,t){var i;switch(e.name){case F.Bool:i="boolean";break;case F.Dynamic:i="any";break;case F.Function:i="Function";break;case F.Number:i="number";break;case F.Int:i="number";break;case F.String:i="string";break;default:throw new Error("Unsupported builtin type "+e.name)}return t.print(i),null},_TsEmitterVisitor.prototype.visitExternalType=function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null},_TsEmitterVisitor.prototype.visitArrayType=function(e,t){return this.visitType(e.of,t),t.print("[]"),null},_TsEmitterVisitor.prototype.visitMapType=function(e,t){return t.print("{[key: string]:"),this.visitType(e.valueType,t),t.print("}"),null},_TsEmitterVisitor.prototype.getBuiltinMethodName=function(e){var t;switch(e){case J.ConcatArray:t="concat";break;case J.SubscribeObservable:t="subscribe";break;case J.Bind:t="bind";break;default:throw new Error("Unknown builtin method: "+e)}return t},_TsEmitterVisitor.prototype._visitParams=function(e,t){var i=this;this.visitAllObjects(function(e){t.print(e.name),t.print(":"),i.visitType(e.type,t)},e,t,",")},_TsEmitterVisitor.prototype._visitIdentifier=function(e,t,i){var n=this;if(isBlank(e.name))throw new Error("Internal error: unknown identifier "+e);if(isPresent(e.moduleUrl)&&e.moduleUrl!=this._moduleUrl){var r=this.importsWithPrefixes.get(e.moduleUrl);isBlank(r)&&(r="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(e.moduleUrl,r)),i.print(r+".")}e.reference&&e.reference.members?(i.print(e.reference.name),i.print("."),i.print(e.reference.members.join("."))):i.print(e.name),isPresent(t)&&t.length>0&&(i.print("<"),this.visitAllObjects(function(e){return e.visitType(n,i)},t,i,","),i.print(">"))},_TsEmitterVisitor}(ru),uu=function(){function _ExecutionContext(e,t,i,n){this.parent=e,this.instance=t,this.className=i,this.vars=n}return _ExecutionContext.prototype.createChildWihtLocalVars=function(){return new _ExecutionContext(this,this.instance,this.className,new Map)},_ExecutionContext}(),cu=function(){function ReturnValue(e){this.value=e}return ReturnValue}(),hu=function(){function StatementInterpreter(){}return StatementInterpreter.prototype.debugAst=function(e){return debugOutputAstAsTypeScript(e)},StatementInterpreter.prototype.visitDeclareVarStmt=function(e,t){return t.vars.set(e.name,e.value.visitExpression(this,t)),null},StatementInterpreter.prototype.visitWriteVarExpr=function(e,t){for(var i=e.value.visitExpression(this,t),n=t;null!=n;){if(n.vars.has(e.name))return n.vars.set(e.name,i),i;n=n.parent}throw new Error("Not declared variable "+e.name)},StatementInterpreter.prototype.visitReadVarExpr=function(e,t){var i=e.name;if(isPresent(e.builtin))switch(e.builtin){case Z.Super:return t.instance.__proto__;case Z.This:return t.instance;case Z.CatchError:i=pu;break;case Z.CatchStack:i=du;break;default:throw new Error("Unknown builtin variable "+e.builtin)}for(var n=t;null!=n;){if(n.vars.has(i))return n.vars.get(i);n=n.parent}throw new Error("Not declared variable "+i)},StatementInterpreter.prototype.visitWriteKeyExpr=function(e,t){var i=e.receiver.visitExpression(this,t),n=e.index.visitExpression(this,t),r=e.value.visitExpression(this,t);return i[n]=r,r},StatementInterpreter.prototype.visitWritePropExpr=function(e,t){var i=e.receiver.visitExpression(this,t),n=e.value.visitExpression(this,t);return i[e.name]=n,n},StatementInterpreter.prototype.visitInvokeMethodExpr=function(e,t){var i,n=e.receiver.visitExpression(this,t),r=this.visitAllExpressions(e.args,t);if(isPresent(e.builtin))switch(e.builtin){case J.ConcatArray:i=P.concat(n,r[0]);break;case J.SubscribeObservable:i=n.subscribe({next:r[0]});break;case J.Bind:i=n.bind(r[0]);break;default:throw new Error("Unknown builtin method "+e.builtin)}else i=n[e.name].apply(n,r);return i},StatementInterpreter.prototype.visitInvokeFunctionExpr=function(e,t){var i=this.visitAllExpressions(e.args,t),n=e.fn;if(n instanceof $&&n.builtin===Z.Super)return t.instance.constructor.prototype.constructor.apply(t.instance,i),null;var r=e.fn.visitExpression(this,t);return r.apply(null,i)},StatementInterpreter.prototype.visitReturnStmt=function(e,t){return new cu(e.value.visitExpression(this,t))},StatementInterpreter.prototype.visitDeclareClassStmt=function(e,t){var i=createDynamicClass(e,t,this);return t.vars.set(e.name,i),null},StatementInterpreter.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t)},StatementInterpreter.prototype.visitIfStmt=function(e,t){var i=e.condition.visitExpression(this,t);return i?this.visitAllStatements(e.trueCase,t):isPresent(e.falseCase)?this.visitAllStatements(e.falseCase,t):null},StatementInterpreter.prototype.visitTryCatchStmt=function(e,t){try{return this.visitAllStatements(e.bodyStmts,t)}catch(i){var n=t.createChildWihtLocalVars();return n.vars.set(pu,i),n.vars.set(du,i.stack),this.visitAllStatements(e.catchStmts,n)}},StatementInterpreter.prototype.visitThrowStmt=function(e,t){throw e.error.visitExpression(this,t)},StatementInterpreter.prototype.visitCommentStmt=function(e,t){return null},StatementInterpreter.prototype.visitInstantiateExpr=function(e,t){var i=this.visitAllExpressions(e.args,t),n=e.classExpr.visitExpression(this,t);return new(n.bind.apply(n,[void 0].concat(i)))},StatementInterpreter.prototype.visitLiteralExpr=function(e,t){return e.value},StatementInterpreter.prototype.visitExternalExpr=function(e,t){return e.value.reference},StatementInterpreter.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t)?e.trueCase.visitExpression(this,t):isPresent(e.falseCase)?e.falseCase.visitExpression(this,t):null},StatementInterpreter.prototype.visitNotExpr=function(e,t){return!e.condition.visitExpression(this,t)},StatementInterpreter.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t)},StatementInterpreter.prototype.visitFunctionExpr=function(e,t){var i=e.params.map(function(e){return e.name});return _declareFn(i,e.statements,t,this)},StatementInterpreter.prototype.visitDeclareFunctionStmt=function(e,t){var i=e.params.map(function(e){return e.name});return t.vars.set(e.name,_declareFn(i,e.statements,t,this)),null},StatementInterpreter.prototype.visitBinaryOperatorExpr=function(e,t){var i=this,n=function(){return e.lhs.visitExpression(i,t)},r=function(){return e.rhs.visitExpression(i,t)};switch(e.operator){case B.Equals:return n()==r();case B.Identical:return n()===r();case B.NotEquals:return n()!=r();case B.NotIdentical:return n()!==r();case B.And:return n()&&r();case B.Or:return n()||r();case B.Plus:return n()+r();case B.Minus:return n()-r();case B.Divide:return n()/r();case B.Multiply:return n()*r();case B.Modulo:return n()%r();case B.Lower:return n()<r();case B.LowerEquals:return n()<=r();case B.Bigger:return n()>r();case B.BiggerEquals:return n()>=r();default:throw new Error("Unknown operator "+e.operator)}},StatementInterpreter.prototype.visitReadPropExpr=function(e,t){var i,n=e.receiver.visitExpression(this,t);return i=n[e.name]},StatementInterpreter.prototype.visitReadKeyExpr=function(e,t){var i=e.receiver.visitExpression(this,t),n=e.index.visitExpression(this,t);return i[n]},StatementInterpreter.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t)},StatementInterpreter.prototype.visitLiteralMapExpr=function(e,t){var i=this,n={};return e.entries.forEach(function(e){return n[e[0]]=e[1].visitExpression(i,t)}),n},StatementInterpreter.prototype.visitAllExpressions=function(e,t){var i=this;return e.map(function(e){return e.visitExpression(i,t)})},StatementInterpreter.prototype.visitAllStatements=function(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=n.visitStatement(this,t);if(r instanceof cu)return r}return null},StatementInterpreter}(),pu="error",du="stack",fu=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},mu=function(e){function AbstractJsEmitterVisitor(){e.call(this,!1)}return fu(AbstractJsEmitterVisitor,e),AbstractJsEmitterVisitor.prototype.visitDeclareClassStmt=function(e,t){var i=this;return t.pushClass(e),this._visitClassConstructor(e,t),isPresent(e.parent)&&(t.print(e.name+".prototype = Object.create("),e.parent.visitExpression(this,t),t.println(".prototype);")),e.getters.forEach(function(n){return i._visitClassGetter(e,n,t)}),e.methods.forEach(function(n){return i._visitClassMethod(e,n,t)}),t.popClass(),null},AbstractJsEmitterVisitor.prototype._visitClassConstructor=function(e,t){t.print("function "+e.name+"("),isPresent(e.constructorMethod)&&this._visitParams(e.constructorMethod.params,t),t.println(") {"),t.incIndent(),isPresent(e.constructorMethod)&&e.constructorMethod.body.length>0&&(t.println("var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println("}")},AbstractJsEmitterVisitor.prototype._visitClassGetter=function(e,t,i){i.println("Object.defineProperty("+e.name+".prototype, '"+t.name+"', { get: function() {"),i.incIndent(),t.body.length>0&&(i.println("var self = this;"),this.visitAllStatements(t.body,i)),i.decIndent(),i.println("}});")},AbstractJsEmitterVisitor.prototype._visitClassMethod=function(e,t,i){i.print(e.name+".prototype."+t.name+" = function("),this._visitParams(t.params,i),i.println(") {"),i.incIndent(),t.body.length>0&&(i.println("var self = this;"),this.visitAllStatements(t.body,i)),i.decIndent(),i.println("};")},AbstractJsEmitterVisitor.prototype.visitReadVarExpr=function(t,i){if(t.builtin===Z.This)i.print("self");else{if(t.builtin===Z.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");e.prototype.visitReadVarExpr.call(this,t,i)}return null},AbstractJsEmitterVisitor.prototype.visitDeclareVarStmt=function(e,t){return t.print("var "+e.name+" = "),e.value.visitExpression(this,t),t.println(";"),null},AbstractJsEmitterVisitor.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),null},AbstractJsEmitterVisitor.prototype.visitInvokeFunctionExpr=function(t,i){var n=t.fn;return n instanceof $&&n.builtin===Z.Super?(i.currentClass.parent.visitExpression(this,i),i.print(".call(this"),t.args.length>0&&(i.print(", "),this.visitAllExpressions(t.args,i,",")),i.print(")")):e.prototype.visitInvokeFunctionExpr.call(this,t,i),null},AbstractJsEmitterVisitor.prototype.visitFunctionExpr=function(e,t){return t.print("function("),this._visitParams(e.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print("}"),null},AbstractJsEmitterVisitor.prototype.visitDeclareFunctionStmt=function(e,t){return t.print("function "+e.name+"("),this._visitParams(e.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println("}"),null},AbstractJsEmitterVisitor.prototype.visitTryCatchStmt=function(e,t){t.println("try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println("} catch ("+eu.name+") {"),t.incIndent();var i=[tu.set(eu.prop("stack")).toDeclStmt(null,[ne.Final])].concat(e.catchStmts);return this.visitAllStatements(i,t),t.decIndent(),t.println("}"),null},AbstractJsEmitterVisitor.prototype._visitParams=function(e,t){this.visitAllObjects(function(e){return t.print(e.name)},e,t,",")},AbstractJsEmitterVisitor.prototype.getBuiltinMethodName=function(e){var t;switch(e){case J.ConcatArray:t="concat";break;case J.SubscribeObservable:t="subscribe";break;case J.Bind:t="bind";break;default:throw new Error("Unknown builtin method: "+e)}return t},AbstractJsEmitterVisitor}(ru),yu=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},vu=function(e){function JitEmitterVisitor(){e.apply(this,arguments),this._evalArgNames=[],this._evalArgValues=[]}return yu(JitEmitterVisitor,e),JitEmitterVisitor.prototype.getArgs=function(){for(var e={},t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e},JitEmitterVisitor.prototype.visitExternalExpr=function(e,t){var i=e.value.reference,n=this._evalArgValues.indexOf(i);if(n===-1){n=this._evalArgValues.length,this._evalArgValues.push(i);var r=isPresent(e.value.name)?sanitizeIdentifier(e.value.name):"val";this._evalArgNames.push(sanitizeIdentifier("jit_"+r+n))}return t.print(this._evalArgNames[n]),null},JitEmitterVisitor}(mu),gu=function(){function ShadowCss(){this.strictStyling=!0}return ShadowCss.prototype.shimCssText=function(e,t,i){void 0===i&&(i="");var n=extractSourceMappingUrl(e);return e=stripComments(e),e=this._insertDirectives(e),this._scopeCssText(e,t,i)+n},ShadowCss.prototype._insertDirectives=function(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)},ShadowCss.prototype._insertPolyfillDirectivesInCssText=function(e){return e.replace(_u,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e[2]+"{"})},ShadowCss.prototype._insertPolyfillRulesInCssText=function(e){return e.replace(bu,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var i=e[0].replace(e[1],"").replace(e[2],"");return e[4]+i})},ShadowCss.prototype._scopeCssText=function(e,t,i){var n=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeSelectors(e,t,i)),e=e+"\n"+n,e.trim()},ShadowCss.prototype._extractUnscopedRulesFromCssText=function(e){var t,i="";for(wu.lastIndex=0;null!==(t=wu.exec(e));){var n=t[0].replace(t[2],"").replace(t[1],t[4]);i+=n+"\n\n"}return i},ShadowCss.prototype._convertColonHost=function(e){return this._convertColonRule(e,Su,this._colonHostPartReplacer)},ShadowCss.prototype._convertColonHostContext=function(e){return this._convertColonRule(e,Pu,this._colonHostContextPartReplacer)},ShadowCss.prototype._convertColonRule=function(e,t,i){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(e[2]){for(var n=e[2].split(","),r=[],o=0;o<n.length;o++){var s=n[o].trim();if(!s)break;r.push(i(ku,s,e[3]))}return r.join(",")}return ku+e[3]})},ShadowCss.prototype._colonHostContextPartReplacer=function(e,t,i){return t.indexOf(Cu)>-1?this._colonHostPartReplacer(e,t,i):e+t+i+", "+t+" "+e+i},ShadowCss.prototype._colonHostPartReplacer=function(e,t,i){return e+t.replace(Cu,"")+i},ShadowCss.prototype._convertShadowDOMSelectors=function(e){return Au.reduce(function(e,t){return e.replace(t," ")},e)},ShadowCss.prototype._scopeSelectors=function(e,t,i){var n=this;return processRules(e,function(e){var r=e.selector,o=e.content;return"@"!=e.selector[0]?r=n._scopeSelector(e.selector,t,i,n.strictStyling):(e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document"))&&(o=n._scopeSelectors(e.content,t,i)),new Hu(r,o)})},ShadowCss.prototype._scopeSelector=function(e,t,i,n){var r=this;return e.split(",").map(function(e){return e.trim().split(Du)}).map(function(e){var o=e[0],s=e.slice(1),a=function(e){return r._selectorNeedsScoping(e,t)?n?r._applyStrictSelectorScope(e,t,i):r._applySelectorScope(e,t,i):e};return[a(o)].concat(s).join(" ")}).join(", ")},ShadowCss.prototype._selectorNeedsScoping=function(e,t){var i=this._makeScopeMatcher(t);return!i.test(e)},ShadowCss.prototype._makeScopeMatcher=function(e){var t=/\[/g,i=/\]/g;return e=e.replace(t,"\\[").replace(i,"\\]"),new RegExp("^("+e+")"+Mu,"m")},ShadowCss.prototype._applySelectorScope=function(e,t,i){return this._applySimpleSelectorScope(e,t,i)},ShadowCss.prototype._applySimpleSelectorScope=function(e,t,i){if(Ou.lastIndex=0,Ou.test(e)){var n=this.strictStyling?"["+i+"]":t;return e.replace(Tu,function(e,t){return":"===t[0]?n+t:t+n}).replace(Ou,n+" ")}return t+" "+e},ShadowCss.prototype._applyStrictSelectorScope=function(e,t,i){var n=this,r=/\[is=([^\]]*)\]/g;t=t.replace(r,function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t[0]});var o="["+t+"]",s=function(e){var r=e.trim();if(!r)return"";if(e.indexOf(ku)>-1)r=n._applySimpleSelectorScope(e,t,i);else{var s=e.replace(Ou,"");if(s.length>0){var a=s.match(/([^:]*)(:*)(.*)/);null!==a&&(r=a[1]+o+a[2]+a[3])}}return r},a=0,l=[];e=e.replace(/\[[^\]]*\]/g,function(e){var t="__attr_sel_"+a+"__";return l.push(e),a++,t});for(var u,c="",h=0,p=/( |>|\+|~(?!=))\s*/g,d=e.indexOf(ku);null!==(u=p.exec(e));){var f=u[1],m=e.slice(h,u.index).trim(),y=h>=d?s(m):m;c+=y+" "+f+" ",h=p.lastIndex}return c+=s(e.substring(h)),c.replace(/__attr_sel_(\d+)__/g,function(e,t){return l[+t]})},ShadowCss.prototype._insertPolyfillHostInCssText=function(e){return e.replace(Ru,xu).replace(Iu,Cu)},ShadowCss}(),_u=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,bu=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,wu=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Cu="-shadowcsshost",xu="-shadowcsscontext",Eu=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",Su=new RegExp("("+Cu+Eu,"gim"),Pu=new RegExp("("+xu+Eu,"gim"),ku=Cu+"-no-combinator",Tu=/-shadowcsshost-no-combinator([^\s]*)/,Au=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Du=/(?:>>>)|(?:\/deep\/)/g,Mu="([>\\s~+[.,{:][\\s\\S]*)?$",Ou=/-shadowcsshost/gim,Iu=/:host/gim,Ru=/:host-context/gim,Nu=/\/\*\s*[\s\S]*?\*\//g,Lu=/\/\*\s*#\s*sourceMappingURL=[\s\S]+?\*\//,Vu=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,Fu=/([{}])/g,ju="{",Bu="}",zu="%BLOCK%",Hu=function(){function CssRule(e,t){this.selector=e,this.content=t}return CssRule}(),Wu=function(){function StringWithEscapedBlocks(e,t){this.escapedString=e,this.blocks=t}return StringWithEscapedBlocks}(),Gu="%COMP%",Uu="_nghost-"+Gu,qu="_ngcontent-"+Gu,Yu=function(){function StylesCompileDependency(e,t,i){this.moduleUrl=e,this.isShimmed=t,this.valuePlaceholder=i}return StylesCompileDependency}(),Ku=function(){function StylesCompileResult(e,t){this.componentStylesheet=e,this.externalStylesheets=t}return StylesCompileResult}(),Xu=function(){function CompiledStylesheet(e,t,i,n,r){this.statements=e,this.stylesVar=t,this.dependencies=i,this.isShimmed=n,this.meta=r}return CompiledStylesheet}(),Zu=function(){function StyleCompiler(e){this._urlResolver=e,this._shadowCss=new gu}return StyleCompiler.prototype.compileComponent=function(e){var t=this,i=[],n=this._compileStyles(e,new ht({styles:e.template.styles,styleUrls:e.template.styleUrls,moduleUrl:e.type.moduleUrl}),!0);return e.template.externalStylesheets.forEach(function(n){var r=t._compileStyles(e,n,!1);i.push(r)}),new Ku(n,i)},StyleCompiler.prototype._compileStyles=function(e,t,n){for(var r=this,o=e.template.encapsulation===i.ViewEncapsulation.Emulated,s=t.styles.map(function(e){return literal(r._shimIfNeeded(e,o))}),a=[],l=0;l<t.styleUrls.length;l++){var u=new rt({name:getStylesVarName(null)});a.push(new Yu(t.styleUrls[l],o,u)),s.push(new le(u))}var c=getStylesVarName(n?e:null),h=variable(c).set(literalArr(s,new W(U,[k.Const]))).toDeclStmt(null,[ne.Final]);return new Xu([h],c,a,o,t)},StyleCompiler.prototype._shimIfNeeded=function(e,t){return t?this._shadowCss.shimCssText(e,qu,Uu):e},StyleCompiler.decorators=[{type:i.Injectable}],StyleCompiler.ctorParameters=[{type:Rl}],StyleCompiler}(),Qu=function(){function RuntimeCompiler(e,t,i,n,r,o,s,a){this._injector=e,this._metadataResolver=t,this._templateNormalizer=i,this._templateParser=n,this._styleCompiler=r,this._viewCompiler=o,this._ngModuleCompiler=s,this._compilerConfig=a,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledNgModuleCache=new Map,this._animationParser=new za,this._animationCompiler=new ya}return Object.defineProperty(RuntimeCompiler.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),RuntimeCompiler.prototype.compileModuleSync=function(e){return this._compileModuleAndComponents(e,!0).syncResult},RuntimeCompiler.prototype.compileModuleAsync=function(e){return this._compileModuleAndComponents(e,!1).asyncResult},RuntimeCompiler.prototype.compileModuleAndAllComponentsSync=function(e){return this._compileModuleAndAllComponents(e,!0).syncResult},RuntimeCompiler.prototype.compileModuleAndAllComponentsAsync=function(e){return this._compileModuleAndAllComponents(e,!1).asyncResult},RuntimeCompiler.prototype._compileModuleAndComponents=function(e,t){var i=this._compileComponents(e,t),n=this._compileModule(e);return new We(n,i.then(function(){return n}))},RuntimeCompiler.prototype._compileModuleAndAllComponents=function(e,t){var n=this,r=this._compileComponents(e,t),o=this._compileModule(e),s=this._metadataResolver.getNgModuleMetadata(e),a=[],l=new Set;s.transitiveModule.modules.forEach(function(e){e.declaredDirectives.forEach(function(e){if(e.isComponent){var t=n._createCompiledHostTemplate(e.type.reference);l.add(t),a.push(t.proxyComponentFactory)}})});var u=new i.ModuleWithComponentFactories(o,a),c=function(){return l.forEach(function(e){n._compileTemplate(e)}),u},h=t?Promise.resolve(c()):r.then(c);return new We(u,h)},RuntimeCompiler.prototype._compileModule=function(e){var t=this,n=this._compiledNgModuleCache.get(e);if(!n){var r=this._metadataResolver.getNgModuleMetadata(e),o=[this._metadataResolver.getProviderMetadata(new vt(i.Compiler,{useFactory:function(){return new $u(t,r.type.reference)}}))],s=this._ngModuleCompiler.compile(r,o);s.dependencies.forEach(function(e){e.placeholder.reference=t._assertComponentKnown(e.comp.reference,!0).proxyComponentFactory,e.placeholder.name="compFactory_"+e.comp.name}),n=this._compilerConfig.useJit?jitStatements(r.type.name+".ngfactory.js",s.statements,s.ngModuleFactoryVar):interpretStatements(s.statements,s.ngModuleFactoryVar),this._compiledNgModuleCache.set(r.type.reference,n)}return n},RuntimeCompiler.prototype._compileComponents=function(e,t){var i=this,n=new Set,r=[],o=this._metadataResolver.getNgModuleMetadata(e);o.transitiveModule.modules.forEach(function(e){e.declaredDirectives.forEach(function(t){t.isComponent&&(n.add(i._createCompiledTemplate(t,e)),t.entryComponents.forEach(function(e){n.add(i._createCompiledHostTemplate(e.reference))}))}),e.entryComponents.forEach(function(e){n.add(i._createCompiledHostTemplate(e.reference))})}),n.forEach(function(e){if(e.loading){if(t)throw new jo(e.compType.reference);r.push(e.loading)}});var s=function(){n.forEach(function(e){i._compileTemplate(e)})};return t?(s(),Promise.resolve(null)):Promise.all(r).then(s)},RuntimeCompiler.prototype.clearCacheFor=function(e){this._compiledNgModuleCache.delete(e),this._metadataResolver.clearCacheFor(e),this._compiledHostTemplateCache.delete(e);var t=this._compiledTemplateCache.get(e);t&&(this._templateNormalizer.clearCacheFor(t.normalizedCompMeta),this._compiledTemplateCache.delete(e))},RuntimeCompiler.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._templateNormalizer.clearCache(),this._compiledNgModuleCache.clear()},RuntimeCompiler.prototype._createCompiledHostTemplate=function(e){var t=this._compiledHostTemplateCache.get(e);if(!t){var i=this._metadataResolver.getDirectiveMetadata(e);assertComponent(i);var n=createHostComponentMeta(i);t=new Ju((!0),i.selector,i.type,[i],[],[],this._templateNormalizer.normalizeDirective(n)),this._compiledHostTemplateCache.set(e,t)}return t},RuntimeCompiler.prototype._createCompiledTemplate=function(e,t){var i=this._compiledTemplateCache.get(e.type.reference);return i||(assertComponent(e),i=new Ju((!1),e.selector,e.type,t.transitiveModule.directives,t.transitiveModule.pipes,t.schemas,this._templateNormalizer.normalizeDirective(e)),this._compiledTemplateCache.set(e.type.reference,i)),i},RuntimeCompiler.prototype._assertComponentKnown=function(e,t){var i=t?this._compiledHostTemplateCache.get(e):this._compiledTemplateCache.get(e);if(!i)throw t?new Error("Illegal state: Compiled view for component "+stringify(e)+" does not exist!"):new Error("Component "+stringify(e)+" is not part of any NgModule or the module has not been imported into your module.");return i},RuntimeCompiler.prototype._assertComponentLoaded=function(e,t){var i=this._assertComponentKnown(e,t);if(i.loading)throw new Error("Illegal state: CompiledTemplate for "+stringify(e)+" (isHost: "+t+") is still loading!");return i},RuntimeCompiler.prototype._compileTemplate=function(e){var t=this;if(!e.isCompiled){var i=e.normalizedCompMeta,n=new Map,r=this._styleCompiler.compileComponent(i);r.externalStylesheets.forEach(function(e){n.set(e.meta.moduleUrl,e)}),this._resolveStylesCompileResult(r.componentStylesheet,n);var o=e.viewComponentTypes.map(function(e){return t._assertComponentLoaded(e,!1).normalizedCompMeta}),s=this._animationParser.parseComponent(i),a=this._templateParser.parse(i,i.template.template,e.viewDirectives.concat(o),e.viewPipes,e.schemas,i.type.name),l=this._animationCompiler.compile(i.type.name,s),u=this._viewCompiler.compileComponent(i,a,variable(r.componentStylesheet.stylesVar),e.viewPipes,l);u.dependencies.forEach(function(e){var i;if(e instanceof xl){var n=e;i=t._assertComponentLoaded(n.comp.reference,!1),
n.placeholder.reference=i.proxyViewFactory,n.placeholder.name="viewFactory_"+n.comp.name}else if(e instanceof El){var r=e;i=t._assertComponentLoaded(r.comp.reference,!0),r.placeholder.reference=i.proxyComponentFactory,r.placeholder.name="compFactory_"+r.comp.name}});var c=r.componentStylesheet.statements.concat(u.statements);l.forEach(function(e){e.statements.forEach(function(e){c.push(e)})});var h;h=this._compilerConfig.useJit?jitStatements(""+e.compType.name+(e.isHost?"_Host":"")+".ngfactory.js",c,u.viewFactoryVar):interpretStatements(c,u.viewFactoryVar),e.compiled(h)}},RuntimeCompiler.prototype._resolveStylesCompileResult=function(e,t){var i=this;e.dependencies.forEach(function(e,n){var r=t.get(e.moduleUrl),o=i._resolveAndEvalStylesCompileResult(r,t);e.valuePlaceholder.reference=o,e.valuePlaceholder.name="importedStyles"+n})},RuntimeCompiler.prototype._resolveAndEvalStylesCompileResult=function(e,t){return this._resolveStylesCompileResult(e,t),this._compilerConfig.useJit?jitStatements(e.meta.moduleUrl+".css.js",e.statements,e.stylesVar):interpretStatements(e.statements,e.stylesVar)},RuntimeCompiler.decorators=[{type:i.Injectable}],RuntimeCompiler.ctorParameters=[{type:i.Injector},{type:Gl},{type:Ll},{type:Gs},{type:Zu},{type:kl},{type:Kl},{type:$s}],RuntimeCompiler}(),Ju=function(){function CompiledTemplate(e,t,n,r,o,s,a){var l=this;this.isHost=e,this.compType=n,this.viewPipes=o,this.schemas=s,this._viewFactory=null,this.loading=null,this._normalizedCompMeta=null,this.isCompiled=!1,this.isCompiledWithDeps=!1,this.viewComponentTypes=[],this.viewDirectives=[],r.forEach(function(e){e.isComponent?l.viewComponentTypes.push(e.type.reference):l.viewDirectives.push(e)}),this.proxyViewFactory=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(!l._viewFactory)throw new Error("Illegal state: CompiledTemplate for "+stringify(l.compType)+" is not compiled yet!");return l._viewFactory.apply(null,e)},this.proxyComponentFactory=e?new i.ComponentFactory(t,this.proxyViewFactory,n.reference):null,a.syncResult?this._normalizedCompMeta=a.syncResult:this.loading=a.asyncResult.then(function(e){l._normalizedCompMeta=e,l.loading=null})}return Object.defineProperty(CompiledTemplate.prototype,"normalizedCompMeta",{get:function(){if(this.loading)throw new Error("Template is still loading for "+this.compType.name+"!");return this._normalizedCompMeta},enumerable:!0,configurable:!0}),CompiledTemplate.prototype.compiled=function(e){this._viewFactory=e,this.isCompiled=!0},CompiledTemplate.prototype.depsCompiled=function(){this.isCompiledWithDeps=!0},CompiledTemplate}(),$u=function(){function ModuleBoundCompiler(e,t){this._delegate=e,this._ngModule=t}return Object.defineProperty(ModuleBoundCompiler.prototype,"_injector",{get:function(){return this._delegate.injector},enumerable:!0,configurable:!0}),ModuleBoundCompiler.prototype.compileModuleSync=function(e){return this._delegate.compileModuleSync(e)},ModuleBoundCompiler.prototype.compileModuleAsync=function(e){return this._delegate.compileModuleAsync(e)},ModuleBoundCompiler.prototype.compileModuleAndAllComponentsSync=function(e){return this._delegate.compileModuleAndAllComponentsSync(e)},ModuleBoundCompiler.prototype.compileModuleAndAllComponentsAsync=function(e){return this._delegate.compileModuleAndAllComponentsAsync(e)},ModuleBoundCompiler.prototype.clearCache=function(){this._delegate.clearCache()},ModuleBoundCompiler.prototype.clearCacheFor=function(e){this._delegate.clearCacheFor(e)},ModuleBoundCompiler}(),ec={};registerContext(i.SecurityContext.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),registerContext(i.SecurityContext.STYLE,["*|style"]),registerContext(i.SecurityContext.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),registerContext(i.SecurityContext.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"]);var tc=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},ic="boolean",nc="number",rc="string",oc="object",sc=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","keygen^[HTMLElement]|!autofocus,challenge,!disabled,keytype,name","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:cursor^:svg:|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime"],ac={"class":"className",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},lc=function(e){function DomElementSchemaRegistry(){var t=this;e.call(this),this._schema={},sc.forEach(function(e){var i={},n=e.split("|"),r=n[0],o=n[1],s=o.split(","),a=r.split("^"),l=a[0],u=a[1];l.split(",").forEach(function(e){return t._schema[e.toLowerCase()]=i});var c=u&&t._schema[u.toLowerCase()];c&&Object.keys(c).forEach(function(e){i[e]=c[e]}),s.forEach(function(e){if(e.length>0)switch(e[0]){case"*":break;case"!":i[e.substring(1)]=ic;break;case"#":i[e.substring(1)]=nc;break;case"%":i[e.substring(1)]=oc;break;default:i[e]=rc}})})}return tc(DomElementSchemaRegistry,e),DomElementSchemaRegistry.prototype.hasProperty=function(e,t,n){if(n.some(function(e){return e.name===i.NO_ERRORS_SCHEMA.name}))return!0;if(e.indexOf("-")>-1){if("ng-container"===e||"ng-content"===e)return!1;if(n.some(function(e){return e.name===i.CUSTOM_ELEMENTS_SCHEMA.name}))return!0}var r=this._schema[e.toLowerCase()]||this._schema.unknown;return!!r[t]},DomElementSchemaRegistry.prototype.hasElement=function(e,t){if(t.some(function(e){return e.name===i.NO_ERRORS_SCHEMA.name}))return!0;if(e.indexOf("-")>-1){if("ng-container"===e||"ng-content"===e)return!0;if(t.some(function(e){return e.name===i.CUSTOM_ELEMENTS_SCHEMA.name}))return!0}return!!this._schema[e.toLowerCase()]},DomElementSchemaRegistry.prototype.securityContext=function(e,t){e=e.toLowerCase(),t=t.toLowerCase();var n=ec[e+"|"+t];return n?n:(n=ec["*|"+t],n?n:i.SecurityContext.NONE)},DomElementSchemaRegistry.prototype.getMappedPropName=function(e){return ac[e]||e},DomElementSchemaRegistry.prototype.getDefaultComponentElementName=function(){return"ng-component"},DomElementSchemaRegistry.prototype.validateProperty=function(e){if(e.toLowerCase().startsWith("on")){var t="Binding to event property '"+e+"' is disallowed for security reasons, "+("please use ("+e.slice(2)+")=...")+("\nIf '"+e+"' is a directive input, make sure the directive is imported by the")+" current module.";return{error:!0,msg:t}}return{error:!1}},DomElementSchemaRegistry.prototype.validateAttribute=function(e){if(e.toLowerCase().startsWith("on")){var t="Binding to event attribute '"+e+"' is disallowed for security reasons, "+("please use ("+e.slice(2)+")=...");return{error:!0,msg:t}}return{error:!1}},DomElementSchemaRegistry.decorators=[{type:i.Injectable}],DomElementSchemaRegistry.ctorParameters=[],DomElementSchemaRegistry}(ns),uc={get:function(e){throw new Error("No ResourceLoader implementation has been provided. Can't read the url \""+e+'"')}},cc=[{provide:xo,useValue:Co},{provide:Hr,useExisting:xo},{provide:Ml,useValue:uc},wo,Qi,rn,qo,{provide:Vr,useFactory:function(e,t,i){return new Vr(e,t,i)},deps:[qo,[new i.Optional,new i.Inject(i.TRANSLATIONS)],[new i.Optional,new i.Inject(i.TRANSLATIONS_FORMAT)]]},Gs,Ll,Gl,Il,Zu,kl,Kl,{provide:$s,useValue:new $s},Qu,{provide:i.Compiler,useExisting:Qu},lc,{provide:ns,useExisting:lc},Rl,Fl,Hl,zl],hc=function(){function RuntimeCompilerFactory(e){this._defaultOptions=[{useDebug:i.isDevMode(),useJit:!0,defaultEncapsulation:i.ViewEncapsulation.Emulated}].concat(e)}return RuntimeCompilerFactory.prototype.createCompiler=function(e){void 0===e&&(e=[]);var t=_mergeOptions(this._defaultOptions.concat(e)),n=i.ReflectiveInjector.resolveAndCreate([cc,{provide:$s,useFactory:function(){return new $s({genDebugInfo:t.useDebug,useJit:t.useJit,defaultEncapsulation:t.defaultEncapsulation,logBindingUpdate:t.useDebug})},deps:[]},t.providers]);return n.get(i.Compiler)},RuntimeCompilerFactory.decorators=[{type:i.Injectable}],RuntimeCompilerFactory.ctorParameters=[{type:Array,decorators:[{type:i.Inject,args:[i.COMPILER_OPTIONS]}]}],RuntimeCompilerFactory}(),pc=i.createPlatformFactory(i.platformCore,"coreDynamic",[{provide:i.COMPILER_OPTIONS,useValue:{},multi:!0},{provide:i.CompilerFactory,useClass:hc},{provide:i.PLATFORM_INITIALIZER,useValue:_initReflector,multi:!0}]),dc=/asset:([^\/]+)\/([^\/]+)\/(.+)/,fc=function(){function ImportGenerator(){}return ImportGenerator.parseAssetUrl=function(e){return mc.parse(e)},ImportGenerator}(),mc=function(){function AssetUrl(e,t,i){this.packageName=e,this.firstLevelDir=t,this.modulePath=i}return AssetUrl.parse=function(e,t){void 0===t&&(t=!0);var i=e.match(dc);if(null!==i)return new AssetUrl(i[1],i[2],i[3]);if(t)return null;throw new Error("Url "+e+" is not a valid asset: url")},AssetUrl}(),yc={SelectorMatcher:R,CssSelector:I,AssetUrl:mc,ImportGenerator:fc,CompileMetadataResolver:Gl,HtmlParser:qo,InterpolationConfig:Yi,DirectiveNormalizer:Ll,Lexer:Qi,Parser:rn,ParseLocation:an,ParseError:hn,ParseErrorLevel:Xi,ParseSourceFile:ln,ParseSourceSpan:un,TemplateParser:Gs,DomElementSchemaRegistry:lc,StyleCompiler:Zu,ViewCompiler:kl,NgModuleCompiler:Kl,TypeScriptEmitter:au};t.COMPILER_PROVIDERS=cc,t.CompileDiDependencyMetadata=ot,t.CompileDirectiveMetadata=dt,t.CompileFactoryMetadata=at,t.CompileIdentifierMetadata=rt,t.CompileMetadataWithIdentifier=qe,t.CompilePipeMetadata=ft,t.CompileProviderMetadata=st,t.CompileQueryMetadata=ct,t.CompileTemplateMetadata=pt,t.CompileTokenMetadata=lt,t.CompileTypeMetadata=ut,t.CompilerConfig=$s,t.DEFAULT_PACKAGE_URL_PROVIDER=Il,t.DirectiveResolver=Fl,t.NgModuleResolver=zl,t.OfflineCompiler=Dl,t.PipeResolver=Hl,t.RenderTypes=ea,t.ResourceLoader=Ml,t.RuntimeCompiler=Qu,t.SourceModule=Tl,t.TEMPLATE_TRANSFORMS=zs,t.UrlResolver=Rl,t.createOfflineCompileUrlResolver=createOfflineCompileUrlResolver,t.platformCoreDynamic=pc,t.DEFAULT_INTERPOLATION_CONFIG=Ki,t.InterpolationConfig=Yi,t.ElementSchemaRegistry=ns,t.I18NHtmlParser=Vr,t.MessageBundle=er,t.Xliff=wr,t.Xmb=Ar,t.Xtb=Rr,t.TextAst=n,t.BoundTextAst=r,t.AttrAst=o,t.BoundElementPropertyAst=s,t.BoundEventAst=a,t.ReferenceAst=l,t.VariableAst=u,t.ElementAst=c,t.EmbeddedTemplateAst=h,t.BoundDirectivePropertyAst=p,t.DirectiveAst=d,t.ProviderAst=f,t.NgContentAst=m,t.templateVisitAll=templateVisitAll,t.__compiler_private__=yc})}).call(t,function(){return this}())},13:function(e,t,i){(function(e){!function(e,n){n(t,i(76),i(41))}(this,function(t,i,n){"use strict";function scheduleMicroTask(e){Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function getTypeNameForDebugging(e){return e.name||typeof e}function isPresent(e){return void 0!==e&&null!==e}function isBlank(e){return void 0===e||null===e}function isString(e){return"string"==typeof e}function isFunction(e){return"function"==typeof e}function isArray(e){return Array.isArray(e)}function stringify(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.overriddenName)return e.overriddenName;if(e.name)return e.name;var t=e.toString(),i=t.indexOf("\n");return i===-1?t:t.substring(0,i)}function looseIdentical(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function getMapKey(e){return e}function isJsObject(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function print(e){console.log(e)}function warn(e){console.warn(e)}function getSymbolIterator(){if(isBlank(s))if(isPresent(r.Symbol)&&isPresent(Symbol.iterator))s=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),t=0;t<e.length;++t){var i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(s=i)}return s}function isPrimitive(e){return!isJsObject(e)}function extractAnnotation(e){return"function"==typeof e&&e.hasOwnProperty("annotation")&&(e=e.annotation),e}function applyParams(e,t){if(e===Object||e===String||e===Function||e===Number||e===Array)throw new Error("Can not use native "+stringify(e)+" as constructor");if("function"==typeof e)return e;if(Array.isArray(e)){var i=e,n=i.length-1,r=e[n];if("function"!=typeof r)throw new Error("Last position of Class method array must be Function in key "+t+" was '"+stringify(r)+"'");if(n!=r.length)throw new Error("Number of annotations ("+n+") does not match number of arguments ("+r.length+") in the function: "+stringify(r));for(var o=[],s=0,a=i.length-1;s<a;s++){var u=[];o.push(u);var c=i[s];if(Array.isArray(c))for(var h=0;h<c.length;h++)u.push(extractAnnotation(c[h]));else"function"==typeof c?u.push(extractAnnotation(c)):u.push(c)}return l.defineMetadata("parameters",o,r),r}throw new Error("Only Function or Array is supported in Class definition for key '"+t+"' is '"+stringify(e)+"'")}function Class(e){var t=applyParams(e.hasOwnProperty("constructor")?e.constructor:void 0,"constructor"),i=t.prototype;if(e.hasOwnProperty("extends")){if("function"!=typeof e.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+stringify(e.extends));t.prototype=i=Object.create(e.extends.prototype)}for(var n in e)"extends"!==n&&"prototype"!==n&&e.hasOwnProperty(n)&&(i[n]=applyParams(e[n],n));this&&this.annotations instanceof Array&&l.defineMetadata("annotations",this.annotations,t);var r=t.name;return r&&"constructor"!==r||(t.overriddenName="class"+a++),t}function makeDecorator(e,t,i,n){function DecoratorFactory(e){if(!l||!l.getMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof DecoratorFactory)return r.call(this,e),this;var t=new DecoratorFactory(e),i="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];i.push(t);var o=function(e){var i=l.getOwnMetadata("annotations",e)||[];return i.push(t),l.defineMetadata("annotations",i,e),e};return o.annotations=i,o.Class=Class,n&&n(o),o}void 0===n&&(n=null);var r=makeMetadataCtor([t]);return i&&(DecoratorFactory.prototype=Object.create(i.prototype)),DecoratorFactory.prototype.toString=function(){return"@"+e},DecoratorFactory.annotationCls=DecoratorFactory,DecoratorFactory}function makeMetadataCtor(e){function ctor(){for(var t=this,i=[],n=0;n<arguments.length;n++)i[n-0]=arguments[n];e.forEach(function(e,n){var r=i[n];if(Array.isArray(e))t[e[0]]=r&&void 0!==r?r:e[1];else for(var o in e)t[o]=r&&void 0!==r[o]?r[o]:e[o]})}return ctor}function makeParamDecorator(e,t,i){function ParamDecoratorFactory(){function ParamDecorator(e,t,n){for(var r=l.getMetadata("parameters",e)||[];r.length<=n;)r.push(null);return r[n]=r[n]||[],r[n].push(i),l.defineMetadata("parameters",r,e),e}for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(this instanceof ParamDecoratorFactory)return n.apply(this,e),this;var i=new((r=ParamDecoratorFactory).bind.apply(r,[void 0].concat(e)));return ParamDecorator.annotation=i,ParamDecorator;var r}var n=makeMetadataCtor(t);return i&&(ParamDecoratorFactory.prototype=Object.create(i.prototype)),ParamDecoratorFactory.prototype.toString=function(){return"@"+e},ParamDecoratorFactory.annotationCls=ParamDecoratorFactory,ParamDecoratorFactory}function makePropDecorator(e,t,i){function PropDecoratorFactory(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(this instanceof PropDecoratorFactory)return n.apply(this,e),this;var i=new((r=PropDecoratorFactory).bind.apply(r,[void 0].concat(e)));return function(e,t){var n=l.getOwnMetadata("propMetadata",e.constructor)||{};n[t]=n[t]||[],n[t].unshift(i),l.defineMetadata("propMetadata",n,e.constructor)};var r}var n=makeMetadataCtor(t);return i&&(PropDecoratorFactory.prototype=Object.create(i.prototype)),PropDecoratorFactory.prototype.toString=function(){return"@"+e},PropDecoratorFactory.annotationCls=PropDecoratorFactory,PropDecoratorFactory}function isDefaultChangeDetectionStrategy(e){return isBlank(e)||e===t.ChangeDetectionStrategy.Default}function forwardRef(e){return e.__forward_ref__=forwardRef,e.toString=function(){return stringify(this())},e}function resolveForwardRef(e){return isFunction(e)&&e.hasOwnProperty("__forward_ref__")&&e.__forward_ref__===forwardRef?e():e}function unimplemented(){throw new Error("unimplemented")}function _flattenArray(e,t){if(isPresent(e))for(var i=0;i<e.length;i++){var n=e[i];isArray(n)?_flattenArray(n,t):t.push(n)}return t}function isListLikeIterable(e){return!!isJsObject(e)&&(isArray(e)||!(e instanceof Map)&&getSymbolIterator()in e)}function areIterablesEqual(e,t,i){for(var n=e[getSymbolIterator()](),r=t[getSymbolIterator()]();;){var o=n.next(),s=r.next();if(o.done&&s.done)return!0;if(o.done||s.done)return!1;if(!i(o.value,s.value))return!1}}function iterateListLike(e,t){if(isArray(e))for(var i=0;i<e.length;i++)t(e[i]);else for(var n,r=e[getSymbolIterator()]();!(n=r.next()).done;)t(n.value)}function findFirstClosedCycle(e){for(var t=[],i=0;i<e.length;++i){if(ie.contains(t,e[i]))return t.push(e[i]),t;t.push(e[i])}return t}function constructResolvingPath(e){if(e.length>1){var t=findFirstClosedCycle(ie.reversed(e)),i=t.map(function(e){return stringify(e.token)});return" ("+i.join(" -> ")+")"}return""}function convertTsickleDecoratorIntoMetadata(e){return e?e.map(function(e){var t=e.type,i=t.annotationCls,n=e.args?e.args:[];return new(i.bind.apply(i,[void 0].concat(n)))}):[]}function _mergeMaps(e,t){Object.keys(t).forEach(function(i){e.set(i,t[i])})}function resolveReflectiveFactory(e){var t,i;if(isPresent(e.useClass)){var n=resolveForwardRef(e.useClass);t=be.factory(n),i=_dependenciesFor(n)}else isPresent(e.useExisting)?(t=function(e){return e},i=[we.fromKey(pe.get(e.useExisting))]):isPresent(e.useFactory)?(t=e.useFactory,i=constructDependencies(e.useFactory,e.deps)):(t=function(){return e.useValue},i=Ce);return new Ee(t,i)}function resolveReflectiveProvider(e){return new xe(pe.get(e.provide),[resolveReflectiveFactory(e)],e.multi)}function resolveReflectiveProviders(e){var t=_normalizeProviders(e,[]),i=t.map(resolveReflectiveProvider);return ee.values(mergeResolvedReflectiveProviders(i,new Map))}function mergeResolvedReflectiveProviders(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=t.get(n.key.id);if(isPresent(r)){if(n.multiProvider!==r.multiProvider)throw new he(r,n);if(n.multiProvider)for(var o=0;o<n.resolvedFactories.length;o++)r.resolvedFactories.push(n.resolvedFactories[o]);else t.set(n.key.id,n)}else{var s;s=n.multiProvider?new xe(n.key,ie.clone(n.resolvedFactories),n.multiProvider):n,t.set(n.key.id,s)}}return t}function _normalizeProviders(e,t){return e.forEach(function(e){if(e instanceof me)t.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)t.push(e);else{if(!(e instanceof Array))throw new le(e);_normalizeProviders(e,t)}}),t}function constructDependencies(e,t){if(t){var i=t.map(function(e){return[e]});return t.map(function(t){return _extractToken(e,t,i)})}return _dependenciesFor(e)}function _dependenciesFor(e){var t=be.parameters(e);if(!t)return[];if(t.some(isBlank))throw new ue(e,t);return t.map(function(i){return _extractToken(e,i,t)})}function _extractToken(e,t,i){var n=[],r=null,o=!1;if(!isArray(t))return t instanceof u?_createDependency(t.token,o,null,null,n):_createDependency(t,o,null,null,n);for(var s=null,a=null,l=0;l<t.length;++l){var h=t[l];h instanceof me?r=h:h instanceof u?r=h.token:h instanceof c?o=!0:h instanceof p?a=h:h instanceof f?a=h:h instanceof d&&(s=h)}if(r=resolveForwardRef(r),isPresent(r))return _createDependency(r,o,s,a,n);throw new ue(e,i)}function _createDependency(e,t,i,n,r){return new we(pe.get(e),t,i,n,r)}function _mapProviders(e,t){for(var i=new Array(e._proto.numberOfProviders),n=0;n<e._proto.numberOfProviders;++n)i[n]=t(e._proto.getProviderAtIndex(n));return i}function isPromise(e){return!!e&&"function"==typeof e.then}function _appIdRandomProviderFactory(){return""+_randomChar()+_randomChar()+_randomChar()}function _randomChar(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function _throwError(){throw new Error("Runtime compiler is not loaded")}function getPreviousIndex(e,t,i){var n=e.previousIndex;if(null===n)return n;var r=0;return i&&n<i.length&&(r=i[n]),n+t+r}function devModeEqual(e,t){return isListLikeIterable(e)&&isListLikeIterable(t)?areIterablesEqual(e,t,devModeEqual):!(isListLikeIterable(e)||isPrimitive(e)||isListLikeIterable(t)||isPrimitive(t))||looseIdentical(e,t)}function detectWTF(){var e=o.wtf;return!(!e||!(bt=e.trace))&&(wt=bt.events,!0)}function createScope(e,t){return void 0===t&&(t=null),wt.createScope(e,t)}function leave(e,t){return bt.leaveScope(e,t),t}function startTimeRange(e,t){return bt.beginTimeRange(e,t)}function endTimeRange(e){bt.endTimeRange(e)}function noopScope(e,t){return null}function flattenNestedViewRenderNodes(e){return _flattenNestedViewRenderNodes(e,[])}function _flattenNestedViewRenderNodes(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(n instanceof It){var r=n;if(t.push(r.nativeElement),isPresent(r.nestedViews))for(var o=0;o<r.nestedViews.length;o++)_flattenNestedViewRenderNodes(r.nestedViews[o].rootNodesOrAppElements,t)}else t.push(n)}return t}function ensureSlotCount(e,t){var i;if(e)if(e.length<t){var n=e.length;i=new Array(t);for(var r=0;r<t;r++)i[r]=r<n?e[r]:jt}else i=e;else i=jt;return i}function interpolate(e,t,i,n,r,o,s,a,l,u,c,h,p,d,f,m,y,v,g,_){switch(e){case 1:return t+_toStringWithNull(i)+n;case 2:return t+_toStringWithNull(i)+n+_toStringWithNull(r)+o;case 3:return t+_toStringWithNull(i)+n+_toStringWithNull(r)+o+_toStringWithNull(s)+a;case 4:return t+_toStringWithNull(i)+n+_toStringWithNull(r)+o+_toStringWithNull(s)+a+_toStringWithNull(l)+u;case 5:return t+_toStringWithNull(i)+n+_toStringWithNull(r)+o+_toStringWithNull(s)+a+_toStringWithNull(l)+u+_toStringWithNull(c)+h;case 6:return t+_toStringWithNull(i)+n+_toStringWithNull(r)+o+_toStringWithNull(s)+a+_toStringWithNull(l)+u+_toStringWithNull(c)+h+_toStringWithNull(p)+d;
case 7:return t+_toStringWithNull(i)+n+_toStringWithNull(r)+o+_toStringWithNull(s)+a+_toStringWithNull(l)+u+_toStringWithNull(c)+h+_toStringWithNull(p)+d+_toStringWithNull(f)+m;case 8:return t+_toStringWithNull(i)+n+_toStringWithNull(r)+o+_toStringWithNull(s)+a+_toStringWithNull(l)+u+_toStringWithNull(c)+h+_toStringWithNull(p)+d+_toStringWithNull(f)+m+_toStringWithNull(y)+v;case 9:return t+_toStringWithNull(i)+n+_toStringWithNull(r)+o+_toStringWithNull(s)+a+_toStringWithNull(l)+u+_toStringWithNull(c)+h+_toStringWithNull(p)+d+_toStringWithNull(f)+m+_toStringWithNull(y)+v+_toStringWithNull(g)+_;default:throw new Error("Does not support more than 9 expressions")}}function _toStringWithNull(e){return null!=e?e.toString():""}function checkBinding(e,t,i){if(e){if(!devModeEqual(t,i))throw new Nt(t,i);return!1}return!looseIdentical(t,i)}function castByValue(e,t){return e}function pureProxy1(e){var t,i=at;return function(n){return looseIdentical(i,n)||(i=n,t=e(n)),t}}function pureProxy2(e){var t,i=at,n=at;return function(r,o){return looseIdentical(i,r)&&looseIdentical(n,o)||(i=r,n=o,t=e(r,o)),t}}function pureProxy3(e){var t,i=at,n=at,r=at;return function(o,s,a){return looseIdentical(i,o)&&looseIdentical(n,s)&&looseIdentical(r,a)||(i=o,n=s,r=a,t=e(o,s,a)),t}}function pureProxy4(e){var t,i,n,r,o;return i=n=r=o=at,function(s,a,l,u){return looseIdentical(i,s)&&looseIdentical(n,a)&&looseIdentical(r,l)&&looseIdentical(o,u)||(i=s,n=a,r=l,o=u,t=e(s,a,l,u)),t}}function pureProxy5(e){var t,i,n,r,o,s;return i=n=r=o=s=at,function(a,l,u,c,h){return looseIdentical(i,a)&&looseIdentical(n,l)&&looseIdentical(r,u)&&looseIdentical(o,c)&&looseIdentical(s,h)||(i=a,n=l,r=u,o=c,s=h,t=e(a,l,u,c,h)),t}}function pureProxy6(e){var t,i,n,r,o,s,a;return i=n=r=o=s=a=at,function(l,u,c,h,p,d){return looseIdentical(i,l)&&looseIdentical(n,u)&&looseIdentical(r,c)&&looseIdentical(o,h)&&looseIdentical(s,p)&&looseIdentical(a,d)||(i=l,n=u,r=c,o=h,s=p,a=d,t=e(l,u,c,h,p,d)),t}}function pureProxy7(e){var t,i,n,r,o,s,a,l;return i=n=r=o=s=a=l=at,function(u,c,h,p,d,f,m){return looseIdentical(i,u)&&looseIdentical(n,c)&&looseIdentical(r,h)&&looseIdentical(o,p)&&looseIdentical(s,d)&&looseIdentical(a,f)&&looseIdentical(l,m)||(i=u,n=c,r=h,o=p,s=d,a=f,l=m,t=e(u,c,h,p,d,f,m)),t}}function pureProxy8(e){var t,i,n,r,o,s,a,l,u;return i=n=r=o=s=a=l=u=at,function(c,h,p,d,f,m,y,v){return looseIdentical(i,c)&&looseIdentical(n,h)&&looseIdentical(r,p)&&looseIdentical(o,d)&&looseIdentical(s,f)&&looseIdentical(a,m)&&looseIdentical(l,y)&&looseIdentical(u,v)||(i=c,n=h,r=p,o=d,s=f,a=m,l=y,u=v,t=e(c,h,p,d,f,m,y,v)),t}}function pureProxy9(e){var t,i,n,r,o,s,a,l,u,c;return i=n=r=o=s=a=l=u=c=at,function(h,p,d,f,m,y,v,g,_){return looseIdentical(i,h)&&looseIdentical(n,p)&&looseIdentical(r,d)&&looseIdentical(o,f)&&looseIdentical(s,m)&&looseIdentical(a,y)&&looseIdentical(l,v)&&looseIdentical(u,g)&&looseIdentical(c,_)||(i=h,n=p,r=d,o=f,s=m,a=y,l=v,u=g,c=_,t=e(h,p,d,f,m,y,v,g,_)),t}}function pureProxy10(e){var t,i,n,r,o,s,a,l,u,c,h;return i=n=r=o=s=a=l=u=c=h=at,function(p,d,f,m,y,v,g,_,b,w){return looseIdentical(i,p)&&looseIdentical(n,d)&&looseIdentical(r,f)&&looseIdentical(o,m)&&looseIdentical(s,y)&&looseIdentical(a,v)&&looseIdentical(l,g)&&looseIdentical(u,_)&&looseIdentical(c,b)&&looseIdentical(h,w)||(i=p,n=d,r=f,o=m,s=y,a=v,l=g,u=_,c=b,h=w,t=e(p,d,f,m,y,v,g,_,b,w)),t}}function setTestabilityGetter(e){oi=e}function enableProdMode(){if(li)throw new Error("Cannot enable prod mode after platform setup.");ai=!1}function isDevMode(){return li=!0,ai}function createPlatform(e){if(Ot&&!Ot.destroyed)throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ot=e.get(ui);var t=e.get(Be,null);return t&&t.forEach(function(e){return e()}),Ot}function createPlatformFactory(e,t,i){void 0===i&&(i=[]);var n=new m("Platform: "+t);return function(t){return void 0===t&&(t=[]),getPlatform()||(e?e(i.concat(t).concat({provide:n,useValue:!0})):createPlatform(Oe.resolveAndCreate(i.concat(t).concat({provide:n,useValue:!0})))),assertPlatform(n)}}function assertPlatform(e){var t=getPlatform();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function destroyPlatform(){Ot&&!Ot.destroyed&&Ot.destroy()}function getPlatform(){return Ot&&!Ot.destroyed?Ot:null}function _callAndReportToErrorHandler(e,t){try{var i=t();return isPromise(i)?i.catch(function(t){throw e.handleError(t),t}):i}catch(n){throw e.handleError(n),n}}function registerModuleFactory(e,t){var i=_i.get(e);if(i)throw new Error("Duplicate module registered for "+e+" - "+i.moduleType.name+" vs "+t.moduleType.name);_i.set(e,t)}function getModuleFactory(e){var t=_i.get(e);if(!t)throw new Error("No module with ID "+e+" loaded");return t}function checkNotEmpty(e,t,i){if(!e)throw new Error("Cannot find '"+i+"' in '"+t+"'");return e}function queueAnimation(e){Ai.push(e)}function triggerQueuedAnimations(){for(var e=0;e<Ai.length;e++){var t=Ai[e];t.play()}Ai=[]}function asNativeElements(e){return e.map(function(e){return e.nativeElement})}function _queryElementChildren(e,t,i){e.childNodes.forEach(function(e){e instanceof Vi&&(t(e)&&i.push(e),_queryElementChildren(e,t,i))})}function _queryNodeChildren(e,t,i){e instanceof Vi&&e.childNodes.forEach(function(e){t(e)&&i.push(e),e instanceof Vi&&_queryNodeChildren(e,t,i)})}function getDebugNode(e){return Fi.get(e)}function indexDebugNode(e){Fi.set(e.nativeNode,e)}function removeDebugNodeFromIndex(e){Fi.delete(e.nativeNode)}function _reflector(){return be}function _iterableDiffersFactory(){return ft}function _keyValueDiffersFactory(){return mt}function animate(e,t){void 0===t&&(t=null);var i=t;if(!isPresent(i)){var n={};i=new cn([n],1)}return new hn(e,i)}function group(e){return new fn(e)}function sequence(e){return new dn(e)}function style(e){var t,i=null;return isString(e)?t=[e]:(t=isArray(e)?e:[e],t.forEach(function(e){var t=e.offset;isPresent(t)&&(i=null==i?parseFloat(t):i)})),new cn(t,i)}function state(e,t){return new sn(e,t)}function keyframes(e){return new un(e)}function transition(e,t){var i=isArray(t)?new dn(t):t;return new an(e,i)}function trigger(e,t){return new rn(e,t)}function prepareFinalAnimationStyles(e,t,i){void 0===i&&(i=null);var n={};return Object.keys(t).forEach(function(e){var r=t[e];n[e]=r==nn?i:r.toString()}),Object.keys(e).forEach(function(e){isPresent(n[e])||(n[e]=i)}),n}function balanceAnimationKeyframes(e,t,i){var n=i.length-1,r=i[0],o=flattenStyles(r.styles.styles),s={},a=!1;Object.keys(e).forEach(function(t){var i=e[t];o[t]||(o[t]=i,s[t]=i,a=!0)});var l=te.merge({},o),u=i[n];ie.insert(u.styles.styles,0,t);var c=flattenStyles(u.styles.styles),h={},p=!1;return Object.keys(l).forEach(function(e){isPresent(c[e])||(h[e]=nn,p=!0)}),p&&u.styles.styles.push(h),Object.keys(c).forEach(function(e){isPresent(o[e])||(s[e]=nn,a=!0)}),a&&r.styles.styles.push(s),i}function clearStyles(e){var t={};return Object.keys(e).forEach(function(e){t[e]=null}),t}function collectAndResolveStyles(e,t){return t.map(function(t){var i={};return Object.keys(t).forEach(function(n){var r=t[n];r==Ui&&(r=e[n],isPresent(r)||(r=nn)),e[n]=r,i[n]=r}),i})}function renderStyles(e,t,i){Object.keys(i).forEach(function(n){t.setElementStyle(e,n,i[n])})}function flattenStyles(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(i){t[i]=e[i]})}),t}function _findLastRenderNode(e){var t;if(e instanceof It){var i=e;if(t=i.nativeElement,isPresent(i.nestedViews))for(var n=i.nestedViews.length-1;n>=0;n--){var r=i.nestedViews[n];r.rootNodesOrAppElements.length>0&&(t=_findLastRenderNode(r.rootNodesOrAppElements[r.rootNodesOrAppElements.length-1]))}}else t=e;return t}var r;r="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:e:window;var o=r;o.assert=function(e){};var s=(function(){function NumberWrapper(){}return NumberWrapper.toFixed=function(e,t){return e.toFixed(t)},NumberWrapper.equal=function(e,t){return e===t},NumberWrapper.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},NumberWrapper.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var i=parseInt(e,t);if(!isNaN(i))return i}throw new Error("Invalid integer literal when parsing "+e+" in base "+t)},Object.defineProperty(NumberWrapper,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),NumberWrapper.isNumeric=function(e){return!isNaN(e-parseFloat(e))},NumberWrapper.isNaN=function(e){return isNaN(e)},NumberWrapper.isInteger=function(e){return Number.isInteger(e)},NumberWrapper}(),null),a=0,l=o.Reflect,u=makeParamDecorator("Inject",[["token",void 0]]),c=makeParamDecorator("Optional",[]),h=makeParamDecorator("Injectable",[]),p=makeParamDecorator("Self",[]),d=makeParamDecorator("SkipSelf",[]),f=makeParamDecorator("Host",[]),m=function(){function OpaqueToken(e){this._desc=e}return OpaqueToken.prototype.toString=function(){return"Token "+this._desc},OpaqueToken.decorators=[{type:h}],OpaqueToken.ctorParameters=[null],OpaqueToken}(),y=new m("AnalyzeForEntryComponents"),v=makeParamDecorator("Attribute",[["attributeName",void 0]]),g=function(){function Query(){}return Query}(),_=makePropDecorator("ContentChildren",[["selector",void 0],{first:!1,isViewQuery:!1,descendants:!1,read:void 0}],g),b=makePropDecorator("ContentChild",[["selector",void 0],{first:!0,isViewQuery:!1,descendants:!0,read:void 0}],g),w=makePropDecorator("ViewChildren",[["selector",void 0],{first:!1,isViewQuery:!0,descendants:!0,read:void 0}],g),C=makePropDecorator("ViewChild",[["selector",void 0],{first:!0,isViewQuery:!0,descendants:!0,read:void 0}],g);t.ChangeDetectionStrategy,function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(t.ChangeDetectionStrategy||(t.ChangeDetectionStrategy={}));var x;!function(e){e[e.CheckOnce=0]="CheckOnce",e[e.Checked=1]="Checked",e[e.CheckAlways=2]="CheckAlways",e[e.Detached=3]="Detached",e[e.Errored=4]="Errored",e[e.Destroyed=5]="Destroyed"}(x||(x={}));var E,S=makeDecorator("Directive",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,providers:void 0,exportAs:void 0,queries:void 0}),P=makeDecorator("Component",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,exportAs:void 0,moduleId:void 0,providers:void 0,viewProviders:void 0,changeDetection:t.ChangeDetectionStrategy.Default,queries:void 0,templateUrl:void 0,template:void 0,styleUrls:void 0,styles:void 0,animations:void 0,encapsulation:void 0,interpolation:void 0,entryComponents:void 0},S),k=makeDecorator("Pipe",{name:void 0,pure:!0}),T=makePropDecorator("Input",[["bindingPropertyName",void 0]]),A=makePropDecorator("Output",[["bindingPropertyName",void 0]]),D=makePropDecorator("HostBinding",[["hostPropertyName",void 0]]),M=makePropDecorator("HostListener",[["eventName",void 0],["args",[]]]);!function(e){e[e.OnInit=0]="OnInit",e[e.OnDestroy=1]="OnDestroy",e[e.DoCheck=2]="DoCheck",e[e.OnChanges=3]="OnChanges",e[e.AfterContentInit=4]="AfterContentInit",e[e.AfterContentChecked=5]="AfterContentChecked",e[e.AfterViewInit=6]="AfterViewInit",e[e.AfterViewChecked=7]="AfterViewChecked"}(E||(E={}));var O=[E.OnInit,E.OnDestroy,E.DoCheck,E.OnChanges,E.AfterContentInit,E.AfterContentChecked,E.AfterViewInit,E.AfterViewChecked],I=function(){function OnChanges(){}return OnChanges}(),R=function(){function OnInit(){}return OnInit}(),N=function(){function DoCheck(){}return DoCheck}(),L=function(){function OnDestroy(){}return OnDestroy}(),V=function(){function AfterContentInit(){}return AfterContentInit}(),F=function(){function AfterContentChecked(){}return AfterContentChecked}(),j=function(){function AfterViewInit(){}return AfterViewInit}(),B=function(){function AfterViewChecked(){}return AfterViewChecked}(),z={name:"custom-elements"},H={name:"no-errors-schema"},W=makeDecorator("NgModule",{providers:void 0,declarations:void 0,imports:void 0,exports:void 0,entryComponents:void 0,bootstrap:void 0,schemas:void 0,id:void 0});t.ViewEncapsulation,function(e){e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None"}(t.ViewEncapsulation||(t.ViewEncapsulation={}));var G=function(){function ViewMetadata(e){var t=void 0===e?{}:e,i=t.templateUrl,n=t.template,r=t.encapsulation,o=t.styles,s=t.styleUrls,a=t.animations,l=t.interpolation;this.templateUrl=i,this.template=n,this.styleUrls=s,this.styles=o,this.encapsulation=r,this.animations=a,this.interpolation=l}return ViewMetadata}(),U=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},q=function(e){function BaseError(t){var i=e.call(this,t);this._nativeError=i}return U(BaseError,e),Object.defineProperty(BaseError.prototype,"message",{get:function(){return this._nativeError.message},set:function(e){this._nativeError.message=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseError.prototype,"name",{get:function(){return this._nativeError.name},enumerable:!0,configurable:!0}),Object.defineProperty(BaseError.prototype,"stack",{get:function(){return this._nativeError.stack},set:function(e){this._nativeError.stack=e},enumerable:!0,configurable:!0}),BaseError.prototype.toString=function(){return this._nativeError.toString()},BaseError}(Error),Y=function(e){function WrappedError(t,i){e.call(this,t+" caused by: "+(i instanceof Error?i.message:i)),this.originalError=i}return U(WrappedError,e),Object.defineProperty(WrappedError.prototype,"stack",{get:function(){return(this.originalError instanceof Error?this.originalError:this._nativeError).stack},enumerable:!0,configurable:!0}),WrappedError}(q),K=new Object,X=K,Z=function(){function _NullInjector(){}return _NullInjector.prototype.get=function(e,t){if(void 0===t&&(t=K),t===K)throw new Error("No provider for "+stringify(e)+"!");return t},_NullInjector}(),Q=function(){function Injector(){}return Injector.prototype.get=function(e,t){return unimplemented()},Injector.THROW_IF_NOT_FOUND=K,Injector.NULL=new Z,Injector}(),J=function(){try{if(1===new Map([[1,2]]).size)return function(e){return new Map(e)}}catch(e){}return function(e){for(var t=new Map,i=0;i<e.length;i++){var n=e[i];t.set(n[0],n[1])}return t}}(),$=(function(){return(new Map).keys().next?function(e){for(var t,i=e.keys();!(t=i.next()).done;)e.set(t.value,null)}:function(e){e.forEach(function(t,i){e.set(i,null)})}}(),function(){try{if((new Map).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var i=new Array(e.size),n=0;return e.forEach(function(e,r){i[n]=t?e:r,n++}),i}}()),ee=function(){function MapWrapper(){}return MapWrapper.createFromStringMap=function(e){var t=new Map;for(var i in e)t.set(i,e[i]);return t},MapWrapper.toStringMap=function(e){var t={};return e.forEach(function(e,i){return t[i]=e}),t},MapWrapper.createFromPairs=function(e){return J(e)},MapWrapper.iterable=function(e){return e},MapWrapper.keys=function(e){return $(e,!1)},MapWrapper.values=function(e){return $(e,!0)},MapWrapper}(),te=function(){function StringMapWrapper(){}return StringMapWrapper.merge=function(e,t){for(var i={},n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];i[o]=e[o]}for(var s=0,a=Object.keys(t);s<a.length;s++){var o=a[s];i[o]=t[o]}return i},StringMapWrapper.equals=function(e,t){var i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(var r=0;r<i.length;r++){var o=i[r];if(e[o]!==t[o])return!1}return!0},StringMapWrapper}(),ie=function(){function ListWrapper(){}return ListWrapper.createFixedSize=function(e){return new Array(e)},ListWrapper.createGrowableSize=function(e){return new Array(e)},ListWrapper.clone=function(e){return e.slice(0)},ListWrapper.forEachWithIndex=function(e,t){for(var i=0;i<e.length;i++)t(e[i],i)},ListWrapper.first=function(e){return e?e[0]:null},ListWrapper.last=function(e){return e&&0!=e.length?e[e.length-1]:null},ListWrapper.indexOf=function(e,t,i){return void 0===i&&(i=0),e.indexOf(t,i)},ListWrapper.contains=function(e,t){return e.indexOf(t)!==-1},ListWrapper.reversed=function(e){var t=ListWrapper.clone(e);return t.reverse()},ListWrapper.concat=function(e,t){return e.concat(t)},ListWrapper.insert=function(e,t,i){e.splice(t,0,i)},ListWrapper.removeAt=function(e,t){var i=e[t];return e.splice(t,1),i},ListWrapper.removeAll=function(e,t){for(var i=0;i<t.length;++i){var n=e.indexOf(t[i]);e.splice(n,1)}},ListWrapper.remove=function(e,t){var i=e.indexOf(t);return i>-1&&(e.splice(i,1),!0)},ListWrapper.clear=function(e){e.length=0},ListWrapper.isEmpty=function(e){return 0==e.length},ListWrapper.fill=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=null),e.fill(t,i,null===n?e.length:n)},ListWrapper.equals=function(e,t){if(e.length!=t.length)return!1;for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0},ListWrapper.slice=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=null),e.slice(t,null===i?void 0:i)},ListWrapper.splice=function(e,t,i){return e.splice(t,i)},ListWrapper.sort=function(e,t){isPresent(t)?e.sort(t):e.sort()},ListWrapper.toString=function(e){return e.toString()},ListWrapper.toJSON=function(e){return JSON.stringify(e)},ListWrapper.maximum=function(e,t){if(0==e.length)return null;for(var i=null,n=-(1/0),r=0;r<e.length;r++){var o=e[r];if(!isBlank(o)){var s=t(o);s>n&&(i=o,n=s)}}return i},ListWrapper.flatten=function(e){var t=[];return _flattenArray(e,t),t},ListWrapper.addAll=function(e,t){for(var i=0;i<t.length;i++)e.push(t[i])},ListWrapper}(),ne=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},re=function(e){function AbstractProviderError(t,i,n){e.call(this,"DI Error"),this.keys=[i],this.injectors=[t],this.constructResolvingMessage=n,this.message=this.constructResolvingMessage(this.keys)}return ne(AbstractProviderError,e),AbstractProviderError.prototype.addKey=function(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)},AbstractProviderError}(q),oe=function(e){function NoProviderError(t,i){e.call(this,t,i,function(e){var t=stringify(ie.first(e).token);return"No provider for "+t+"!"+constructResolvingPath(e)})}return ne(NoProviderError,e),NoProviderError}(re),se=function(e){function CyclicDependencyError(t,i){e.call(this,t,i,function(e){return"Cannot instantiate cyclic dependency!"+constructResolvingPath(e)})}return ne(CyclicDependencyError,e),CyclicDependencyError}(re),ae=function(e){function InstantiationError(t,i,n,r){e.call(this,"DI Error",i),this.keys=[r],this.injectors=[t]}return ne(InstantiationError,e),InstantiationError.prototype.addKey=function(e,t){this.injectors.push(e),this.keys.push(t)},Object.defineProperty(InstantiationError.prototype,"message",{get:function(){var e=stringify(ie.first(this.keys).token);return this.originalError.message+": Error during instantiation of "+e+"!"+constructResolvingPath(this.keys)+"."},enumerable:!0,configurable:!0}),Object.defineProperty(InstantiationError.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:!0,configurable:!0}),InstantiationError}(Y),le=function(e){function InvalidProviderError(t){e.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+t)}return ne(InvalidProviderError,e),InvalidProviderError}(q),ue=function(e){function NoAnnotationError(t,i){e.call(this,NoAnnotationError._genMessage(t,i))}return ne(NoAnnotationError,e),NoAnnotationError._genMessage=function(e,t){for(var i=[],n=0,r=t.length;n<r;n++){var o=t[n];o&&0!=o.length?i.push(o.map(stringify).join(" ")):i.push("?")}return"Cannot resolve all parameters for '"+stringify(e)+"'("+i.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+stringify(e)+"' is decorated with Injectable."},NoAnnotationError}(q),ce=function(e){function OutOfBoundsError(t){e.call(this,"Index "+t+" is out-of-bounds.")}return ne(OutOfBoundsError,e),OutOfBoundsError}(q),he=function(e){function MixingMultiProvidersWithRegularProvidersError(t,i){e.call(this,"Cannot mix multi providers and regular providers, got: "+t.toString()+" "+i.toString())}return ne(MixingMultiProvidersWithRegularProvidersError,e),MixingMultiProvidersWithRegularProvidersError}(q),pe=function(){function ReflectiveKey(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!")}return Object.defineProperty(ReflectiveKey.prototype,"displayName",{get:function(){return stringify(this.token)},enumerable:!0,configurable:!0}),ReflectiveKey.get=function(e){return fe.get(resolveForwardRef(e))},Object.defineProperty(ReflectiveKey,"numberOfKeys",{get:function(){return fe.numberOfKeys},enumerable:!0,configurable:!0}),ReflectiveKey}(),de=function(){function KeyRegistry(){this._allKeys=new Map}return KeyRegistry.prototype.get=function(e){if(e instanceof pe)return e;if(this._allKeys.has(e))return this._allKeys.get(e);var t=new pe(e,pe.numberOfKeys);return this._allKeys.set(e,t),t},Object.defineProperty(KeyRegistry.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),KeyRegistry}(),fe=new de,me=Function,ye=function(){function ReflectionCapabilities(e){this._reflect=e||o.Reflect}return ReflectionCapabilities.prototype.isReflectionEnabled=function(){return!0},ReflectionCapabilities.prototype.factory=function(e){return function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];return new(e.bind.apply(e,[void 0].concat(t)))}},ReflectionCapabilities.prototype._zipTypesAndAnnotations=function(e,t){var i;i="undefined"==typeof e?new Array(t.length):new Array(e.length);for(var n=0;n<i.length;n++)"undefined"==typeof e?i[n]=[]:e[n]!=Object?i[n]=[e[n]]:i[n]=[],t&&isPresent(t[n])&&(i[n]=i[n].concat(t[n]));return i},ReflectionCapabilities.prototype.parameters=function(e){if(e.parameters)return e.parameters;if(e.ctorParameters){var t=e.ctorParameters,i=t.map(function(e){return e&&e.type}),n=t.map(function(e){return e&&convertTsickleDecoratorIntoMetadata(e.decorators)});return this._zipTypesAndAnnotations(i,n)}if(isPresent(this._reflect)&&isPresent(this._reflect.getMetadata)){var n=this._reflect.getMetadata("parameters",e),i=this._reflect.getMetadata("design:paramtypes",e);if(i||n)return this._zipTypesAndAnnotations(i,n)}return new Array(e.length).fill(void 0)},ReflectionCapabilities.prototype.annotations=function(e){if(e.annotations){var t=e.annotations;return isFunction(t)&&t.annotations&&(t=t.annotations),t}if(e.decorators)return convertTsickleDecoratorIntoMetadata(e.decorators);if(this._reflect&&this._reflect.getMetadata){var t=this._reflect.getMetadata("annotations",e);if(t)return t}return[]},ReflectionCapabilities.prototype.propMetadata=function(e){if(e.propMetadata){var t=e.propMetadata;return isFunction(t)&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators){var i=e.propDecorators,n={};return Object.keys(i).forEach(function(e){n[e]=convertTsickleDecoratorIntoMetadata(i[e])}),n}if(this._reflect&&this._reflect.getMetadata){var t=this._reflect.getMetadata("propMetadata",e);if(t)return t}return{}},ReflectionCapabilities.prototype.interfaces=function(e){return[]},ReflectionCapabilities.prototype.hasLifecycleHook=function(e,t,i){if(!(e instanceof me))return!1;var n=e.prototype;return!!n[i]},ReflectionCapabilities.prototype.getter=function(e){return new Function("o","return o."+e+";")},ReflectionCapabilities.prototype.setter=function(e){return new Function("o","v","return o."+e+" = v;")},ReflectionCapabilities.prototype.method=function(e){var t="if (!o."+e+") throw new Error('\""+e+"\" is undefined');\n        return o."+e+".apply(o, args);";return new Function("o","args",t)},ReflectionCapabilities.prototype.importUri=function(e){return"object"==typeof e&&e.filePath?e.filePath:"./"+stringify(e)},ReflectionCapabilities.prototype.resolveIdentifier=function(e,t,i){return i},ReflectionCapabilities.prototype.resolveEnum=function(e,t){return e[t]},ReflectionCapabilities}(),ve=function(){function ReflectorReader(){}return ReflectorReader}(),ge=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},_e=function(e){function Reflector(t){e.call(this),this.reflectionCapabilities=t,this._injectableInfo=new Map,this._getters=new Map,this._setters=new Map,this._methods=new Map,this._usedKeys=null}return ge(Reflector,e),Reflector.prototype.updateCapabilities=function(e){this.reflectionCapabilities=e},Reflector.prototype.isReflectionEnabled=function(){return this.reflectionCapabilities.isReflectionEnabled()},Reflector.prototype.trackUsage=function(){this._usedKeys=new Set},Reflector.prototype.listUnusedKeys=function(){var e=this;if(!this._usedKeys)throw new Error("Usage tracking is disabled");var t=ee.keys(this._injectableInfo);return t.filter(function(t){return!e._usedKeys.has(t)})},Reflector.prototype.registerFunction=function(e,t){this._injectableInfo.set(e,t)},Reflector.prototype.registerType=function(e,t){this._injectableInfo.set(e,t)},Reflector.prototype.registerGetters=function(e){_mergeMaps(this._getters,e)},Reflector.prototype.registerSetters=function(e){_mergeMaps(this._setters,e)},Reflector.prototype.registerMethods=function(e){_mergeMaps(this._methods,e)},Reflector.prototype.factory=function(e){return this._containsReflectionInfo(e)?this._getReflectionInfo(e).factory||null:this.reflectionCapabilities.factory(e)},Reflector.prototype.parameters=function(e){return this._injectableInfo.has(e)?this._getReflectionInfo(e).parameters||[]:this.reflectionCapabilities.parameters(e)},Reflector.prototype.annotations=function(e){return this._injectableInfo.has(e)?this._getReflectionInfo(e).annotations||[]:this.reflectionCapabilities.annotations(e)},Reflector.prototype.propMetadata=function(e){return this._injectableInfo.has(e)?this._getReflectionInfo(e).propMetadata||{}:this.reflectionCapabilities.propMetadata(e)},Reflector.prototype.interfaces=function(e){return this._injectableInfo.has(e)?this._getReflectionInfo(e).interfaces||[]:this.reflectionCapabilities.interfaces(e)},Reflector.prototype.hasLifecycleHook=function(e,t,i){return this.interfaces(e).indexOf(t)!==-1||this.reflectionCapabilities.hasLifecycleHook(e,t,i)},Reflector.prototype.getter=function(e){return this._getters.has(e)?this._getters.get(e):this.reflectionCapabilities.getter(e)},Reflector.prototype.setter=function(e){return this._setters.has(e)?this._setters.get(e):this.reflectionCapabilities.setter(e)},Reflector.prototype.method=function(e){return this._methods.has(e)?this._methods.get(e):this.reflectionCapabilities.method(e)},Reflector.prototype._getReflectionInfo=function(e){return this._usedKeys&&this._usedKeys.add(e),this._injectableInfo.get(e)},Reflector.prototype._containsReflectionInfo=function(e){return this._injectableInfo.has(e)},Reflector.prototype.importUri=function(e){return this.reflectionCapabilities.importUri(e)},Reflector.prototype.resolveIdentifier=function(e,t,i){return this.reflectionCapabilities.resolveIdentifier(e,t,i)},Reflector.prototype.resolveEnum=function(e,t){return this.reflectionCapabilities.resolveEnum(e,t)},Reflector}(ve),be=new _e(new ye),we=function(){function ReflectiveDependency(e,t,i,n,r){this.key=e,this.optional=t,this.lowerBoundVisibility=i,this.upperBoundVisibility=n,this.properties=r}return ReflectiveDependency.fromKey=function(e){return new ReflectiveDependency(e,(!1),null,null,[])},ReflectiveDependency}(),Ce=[],xe=function(){function ResolvedReflectiveProvider_(e,t,i){this.key=e,this.resolvedFactories=t,this.multiProvider=i}return Object.defineProperty(ResolvedReflectiveProvider_.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),ResolvedReflectiveProvider_}(),Ee=function(){function ResolvedReflectiveFactory(e,t){this.factory=e,this.dependencies=t}return ResolvedReflectiveFactory}(),Se=10,Pe=new Object,ke=function(){function ReflectiveProtoInjectorInlineStrategy(e,t){this.provider0=null,this.provider1=null,this.provider2=null,this.provider3=null,this.provider4=null,this.provider5=null,this.provider6=null,this.provider7=null,this.provider8=null,this.provider9=null,this.keyId0=null,this.keyId1=null,this.keyId2=null,this.keyId3=null,this.keyId4=null,this.keyId5=null,this.keyId6=null,this.keyId7=null,this.keyId8=null,this.keyId9=null;var i=t.length;i>0&&(this.provider0=t[0],this.keyId0=t[0].key.id),i>1&&(this.provider1=t[1],this.keyId1=t[1].key.id),i>2&&(this.provider2=t[2],this.keyId2=t[2].key.id),i>3&&(this.provider3=t[3],this.keyId3=t[3].key.id),i>4&&(this.provider4=t[4],this.keyId4=t[4].key.id),i>5&&(this.provider5=t[5],this.keyId5=t[5].key.id),i>6&&(this.provider6=t[6],this.keyId6=t[6].key.id),i>7&&(this.provider7=t[7],this.keyId7=t[7].key.id),i>8&&(this.provider8=t[8],this.keyId8=t[8].key.id),i>9&&(this.provider9=t[9],this.keyId9=t[9].key.id)}return ReflectiveProtoInjectorInlineStrategy.prototype.getProviderAtIndex=function(e){if(0==e)return this.provider0;if(1==e)return this.provider1;if(2==e)return this.provider2;if(3==e)return this.provider3;if(4==e)return this.provider4;if(5==e)return this.provider5;if(6==e)return this.provider6;if(7==e)return this.provider7;if(8==e)return this.provider8;if(9==e)return this.provider9;throw new ce(e)},ReflectiveProtoInjectorInlineStrategy.prototype.createInjectorStrategy=function(e){return new De(e,this)},ReflectiveProtoInjectorInlineStrategy}(),Te=function(){function ReflectiveProtoInjectorDynamicStrategy(e,t){this.providers=t;var i=t.length;this.keyIds=new Array(i);for(var n=0;n<i;n++)this.keyIds[n]=t[n].key.id}return ReflectiveProtoInjectorDynamicStrategy.prototype.getProviderAtIndex=function(e){if(e<0||e>=this.providers.length)throw new ce(e);return this.providers[e]},ReflectiveProtoInjectorDynamicStrategy.prototype.createInjectorStrategy=function(e){return new Me(this,e)},ReflectiveProtoInjectorDynamicStrategy}(),Ae=function(){function ReflectiveProtoInjector(e){this.numberOfProviders=e.length,this._strategy=e.length>Se?new Te(this,e):new ke(this,e)}return ReflectiveProtoInjector.fromResolvedProviders=function(e){return new ReflectiveProtoInjector(e)},ReflectiveProtoInjector.prototype.getProviderAtIndex=function(e){return this._strategy.getProviderAtIndex(e)},ReflectiveProtoInjector}(),De=function(){function ReflectiveInjectorInlineStrategy(e,t){this.injector=e,this.protoStrategy=t,this.obj0=Pe,this.obj1=Pe,this.obj2=Pe,this.obj3=Pe,this.obj4=Pe,this.obj5=Pe,this.obj6=Pe,this.obj7=Pe,this.obj8=Pe,this.obj9=Pe}return ReflectiveInjectorInlineStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},ReflectiveInjectorInlineStrategy.prototype.instantiateProvider=function(e){return this.injector._new(e)},ReflectiveInjectorInlineStrategy.prototype.getObjByKeyId=function(e){var t=this.protoStrategy,i=this.injector;return t.keyId0===e?(this.obj0===Pe&&(this.obj0=i._new(t.provider0)),this.obj0):t.keyId1===e?(this.obj1===Pe&&(this.obj1=i._new(t.provider1)),this.obj1):t.keyId2===e?(this.obj2===Pe&&(this.obj2=i._new(t.provider2)),this.obj2):t.keyId3===e?(this.obj3===Pe&&(this.obj3=i._new(t.provider3)),this.obj3):t.keyId4===e?(this.obj4===Pe&&(this.obj4=i._new(t.provider4)),this.obj4):t.keyId5===e?(this.obj5===Pe&&(this.obj5=i._new(t.provider5)),this.obj5):t.keyId6===e?(this.obj6===Pe&&(this.obj6=i._new(t.provider6)),this.obj6):t.keyId7===e?(this.obj7===Pe&&(this.obj7=i._new(t.provider7)),this.obj7):t.keyId8===e?(this.obj8===Pe&&(this.obj8=i._new(t.provider8)),this.obj8):t.keyId9===e?(this.obj9===Pe&&(this.obj9=i._new(t.provider9)),this.obj9):Pe},ReflectiveInjectorInlineStrategy.prototype.getObjAtIndex=function(e){if(0==e)return this.obj0;if(1==e)return this.obj1;
if(2==e)return this.obj2;if(3==e)return this.obj3;if(4==e)return this.obj4;if(5==e)return this.obj5;if(6==e)return this.obj6;if(7==e)return this.obj7;if(8==e)return this.obj8;if(9==e)return this.obj9;throw new ce(e)},ReflectiveInjectorInlineStrategy.prototype.getMaxNumberOfObjects=function(){return Se},ReflectiveInjectorInlineStrategy}(),Me=function(){function ReflectiveInjectorDynamicStrategy(e,t){this.protoStrategy=e,this.injector=t,this.objs=new Array(e.providers.length),ie.fill(this.objs,Pe)}return ReflectiveInjectorDynamicStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},ReflectiveInjectorDynamicStrategy.prototype.instantiateProvider=function(e){return this.injector._new(e)},ReflectiveInjectorDynamicStrategy.prototype.getObjByKeyId=function(e){for(var t=this.protoStrategy,i=0;i<t.keyIds.length;i++)if(t.keyIds[i]===e)return this.objs[i]===Pe&&(this.objs[i]=this.injector._new(t.providers[i])),this.objs[i];return Pe},ReflectiveInjectorDynamicStrategy.prototype.getObjAtIndex=function(e){if(e<0||e>=this.objs.length)throw new ce(e);return this.objs[e]},ReflectiveInjectorDynamicStrategy.prototype.getMaxNumberOfObjects=function(){return this.objs.length},ReflectiveInjectorDynamicStrategy}(),Oe=function(){function ReflectiveInjector(){}return ReflectiveInjector.resolve=function(e){return resolveReflectiveProviders(e)},ReflectiveInjector.resolveAndCreate=function(e,t){void 0===t&&(t=null);var i=ReflectiveInjector.resolve(e);return ReflectiveInjector.fromResolvedProviders(i,t)},ReflectiveInjector.fromResolvedProviders=function(e,t){return void 0===t&&(t=null),new Ie(Ae.fromResolvedProviders(e),t)},Object.defineProperty(ReflectiveInjector.prototype,"parent",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),ReflectiveInjector.prototype.resolveAndCreateChild=function(e){return unimplemented()},ReflectiveInjector.prototype.createChildFromResolved=function(e){return unimplemented()},ReflectiveInjector.prototype.resolveAndInstantiate=function(e){return unimplemented()},ReflectiveInjector.prototype.instantiateResolved=function(e){return unimplemented()},ReflectiveInjector}(),Ie=function(){function ReflectiveInjector_(e,t){void 0===t&&(t=null),this._constructionCounter=0,this._proto=e,this._parent=t,this._strategy=e._strategy.createInjectorStrategy(this)}return ReflectiveInjector_.prototype.get=function(e,t){return void 0===t&&(t=X),this._getByKey(pe.get(e),null,null,t)},ReflectiveInjector_.prototype.getAt=function(e){return this._strategy.getObjAtIndex(e)},Object.defineProperty(ReflectiveInjector_.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(ReflectiveInjector_.prototype,"internalStrategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),ReflectiveInjector_.prototype.resolveAndCreateChild=function(e){var t=Oe.resolve(e);return this.createChildFromResolved(t)},ReflectiveInjector_.prototype.createChildFromResolved=function(e){var t=new Ae(e),i=new ReflectiveInjector_(t);return i._parent=this,i},ReflectiveInjector_.prototype.resolveAndInstantiate=function(e){return this.instantiateResolved(Oe.resolve([e])[0])},ReflectiveInjector_.prototype.instantiateResolved=function(e){return this._instantiateProvider(e)},ReflectiveInjector_.prototype._new=function(e){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects())throw new se(this,e.key);return this._instantiateProvider(e)},ReflectiveInjector_.prototype._instantiateProvider=function(e){if(e.multiProvider){for(var t=new Array(e.resolvedFactories.length),i=0;i<e.resolvedFactories.length;++i)t[i]=this._instantiate(e,e.resolvedFactories[i]);return t}return this._instantiate(e,e.resolvedFactories[0])},ReflectiveInjector_.prototype._instantiate=function(e,t){var i,n,r,o,s,a,l,u,c,h,p,d,f,m,y,v,g,_,b,w,C=t.factory,x=t.dependencies,E=x.length;try{i=E>0?this._getByReflectiveDependency(e,x[0]):null,n=E>1?this._getByReflectiveDependency(e,x[1]):null,r=E>2?this._getByReflectiveDependency(e,x[2]):null,o=E>3?this._getByReflectiveDependency(e,x[3]):null,s=E>4?this._getByReflectiveDependency(e,x[4]):null,a=E>5?this._getByReflectiveDependency(e,x[5]):null,l=E>6?this._getByReflectiveDependency(e,x[6]):null,u=E>7?this._getByReflectiveDependency(e,x[7]):null,c=E>8?this._getByReflectiveDependency(e,x[8]):null,h=E>9?this._getByReflectiveDependency(e,x[9]):null,p=E>10?this._getByReflectiveDependency(e,x[10]):null,d=E>11?this._getByReflectiveDependency(e,x[11]):null,f=E>12?this._getByReflectiveDependency(e,x[12]):null,m=E>13?this._getByReflectiveDependency(e,x[13]):null,y=E>14?this._getByReflectiveDependency(e,x[14]):null,v=E>15?this._getByReflectiveDependency(e,x[15]):null,g=E>16?this._getByReflectiveDependency(e,x[16]):null,_=E>17?this._getByReflectiveDependency(e,x[17]):null,b=E>18?this._getByReflectiveDependency(e,x[18]):null,w=E>19?this._getByReflectiveDependency(e,x[19]):null}catch(S){throw(S instanceof re||S instanceof ae)&&S.addKey(this,e.key),S}var P;try{switch(E){case 0:P=C();break;case 1:P=C(i);break;case 2:P=C(i,n);break;case 3:P=C(i,n,r);break;case 4:P=C(i,n,r,o);break;case 5:P=C(i,n,r,o,s);break;case 6:P=C(i,n,r,o,s,a);break;case 7:P=C(i,n,r,o,s,a,l);break;case 8:P=C(i,n,r,o,s,a,l,u);break;case 9:P=C(i,n,r,o,s,a,l,u,c);break;case 10:P=C(i,n,r,o,s,a,l,u,c,h);break;case 11:P=C(i,n,r,o,s,a,l,u,c,h,p);break;case 12:P=C(i,n,r,o,s,a,l,u,c,h,p,d);break;case 13:P=C(i,n,r,o,s,a,l,u,c,h,p,d,f);break;case 14:P=C(i,n,r,o,s,a,l,u,c,h,p,d,f,m);break;case 15:P=C(i,n,r,o,s,a,l,u,c,h,p,d,f,m,y);break;case 16:P=C(i,n,r,o,s,a,l,u,c,h,p,d,f,m,y,v);break;case 17:P=C(i,n,r,o,s,a,l,u,c,h,p,d,f,m,y,v,g);break;case 18:P=C(i,n,r,o,s,a,l,u,c,h,p,d,f,m,y,v,g,_);break;case 19:P=C(i,n,r,o,s,a,l,u,c,h,p,d,f,m,y,v,g,_,b);break;case 20:P=C(i,n,r,o,s,a,l,u,c,h,p,d,f,m,y,v,g,_,b,w);break;default:throw new Error("Cannot instantiate '"+e.key.displayName+"' because it has more than 20 dependencies")}}catch(S){throw new ae(this,S,S.stack,e.key)}return P},ReflectiveInjector_.prototype._getByReflectiveDependency=function(e,t){return this._getByKey(t.key,t.lowerBoundVisibility,t.upperBoundVisibility,t.optional?null:X)},ReflectiveInjector_.prototype._getByKey=function(e,t,i,n){return e===Re?this:i instanceof p?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)},ReflectiveInjector_.prototype._throwOrNull=function(e,t){if(t!==X)return t;throw new oe(this,e)},ReflectiveInjector_.prototype._getByKeySelf=function(e,t){var i=this._strategy.getObjByKeyId(e.id);return i!==Pe?i:this._throwOrNull(e,t)},ReflectiveInjector_.prototype._getByKeyDefault=function(e,t,i){var n;for(n=i instanceof d?this._parent:this;n instanceof ReflectiveInjector_;){var r=n,o=r._strategy.getObjByKeyId(e.id);if(o!==Pe)return o;n=r._parent}return null!==n?n.get(e.token,t):this._throwOrNull(e,t)},Object.defineProperty(ReflectiveInjector_.prototype,"displayName",{get:function(){var e=_mapProviders(this,function(e){return' "'+e.key.displayName+'" '}).join(", ");return"ReflectiveInjector(providers: ["+e+"])"},enumerable:!0,configurable:!0}),ReflectiveInjector_.prototype.toString=function(){return this.displayName},ReflectiveInjector_}(),Re=pe.get(Q),Ne=function(){function ErrorHandler(e){void 0===e&&(e=!0),this._console=console,this.rethrowError=e}return ErrorHandler.prototype.handleError=function(e){var t=this._findOriginalError(e),i=this._findOriginalStack(e),n=this._findContext(e);if(this._console.error("EXCEPTION: "+this._extractMessage(e)),t&&this._console.error("ORIGINAL EXCEPTION: "+this._extractMessage(t)),i&&(this._console.error("ORIGINAL STACKTRACE:"),this._console.error(i)),n&&(this._console.error("ERROR CONTEXT:"),this._console.error(n)),this.rethrowError)throw e},ErrorHandler.prototype._extractMessage=function(e){return e instanceof Error?e.message:e.toString()},ErrorHandler.prototype._findContext=function(e){return e?e.context?e.context:this._findContext(e.originalError):null},ErrorHandler.prototype._findOriginalError=function(e){for(var t=e.originalError;t&&t.originalError;)t=t.originalError;return t},ErrorHandler.prototype._findOriginalStack=function(e){if(!(e instanceof Error))return null;for(var t=e,i=t.stack;t instanceof Error&&t.originalError;)t=t.originalError,t instanceof Error&&t.stack&&(i=t.stack);return i},ErrorHandler}(),Le=new m("Application Initializer"),Ve=function(){function ApplicationInitStatus(e){var t=this;this._done=!1;var i=[];if(e)for(var n=0;n<e.length;n++){var r=e[n]();isPromise(r)&&i.push(r)}this._donePromise=Promise.all(i).then(function(){t._done=!0}),0===i.length&&(this._done=!0)}return Object.defineProperty(ApplicationInitStatus.prototype,"done",{get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationInitStatus.prototype,"donePromise",{get:function(){return this._donePromise},enumerable:!0,configurable:!0}),ApplicationInitStatus.decorators=[{type:h}],ApplicationInitStatus.ctorParameters=[{type:Array,decorators:[{type:u,args:[Le]},{type:c}]}],ApplicationInitStatus}(),Fe=new m("AppId"),je={provide:Fe,useFactory:_appIdRandomProviderFactory,deps:[]},Be=new m("Platform Initializer"),ze=new m("appBootstrapListener"),He=new m("Application Packages Root URL"),We=function(){function Console(){}return Console.prototype.log=function(e){print(e)},Console.prototype.warn=function(e){warn(e)},Console.decorators=[{type:h}],Console.ctorParameters=[],Console}(),Ge=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},Ue=function(e){function ComponentStillLoadingError(t){e.call(this,"Can't compile synchronously as "+stringify(t)+" is still being loaded!"),this.compType=t}return Ge(ComponentStillLoadingError,e),ComponentStillLoadingError}(q),qe=function(){function ModuleWithComponentFactories(e,t){this.ngModuleFactory=e,this.componentFactories=t}return ModuleWithComponentFactories}(),Ye=function(){function Compiler(){}return Compiler.prototype.compileModuleSync=function(e){throw _throwError()},Compiler.prototype.compileModuleAsync=function(e){throw _throwError()},Compiler.prototype.compileModuleAndAllComponentsSync=function(e){throw _throwError()},Compiler.prototype.compileModuleAndAllComponentsAsync=function(e){throw _throwError()},Compiler.prototype.clearCache=function(){},Compiler.prototype.clearCacheFor=function(e){},Compiler}(),Ke=new m("compilerOptions"),Xe=function(){function CompilerFactory(){}return CompilerFactory}(),Ze=function(){function DefaultIterableDifferFactory(){}return DefaultIterableDifferFactory.prototype.supports=function(e){return isListLikeIterable(e)},DefaultIterableDifferFactory.prototype.create=function(e,t){return new Je(t)},DefaultIterableDifferFactory}(),Qe=function(e,t){return t},Je=function(){function DefaultIterableDiffer(e){this._trackByFn=e,this._length=null,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=this._trackByFn||Qe}return Object.defineProperty(DefaultIterableDiffer.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(DefaultIterableDiffer.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),DefaultIterableDiffer.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},DefaultIterableDiffer.prototype.forEachOperation=function(e){for(var t=this._itHead,i=this._removalsHead,n=0,r=null;t||i;){var o=!i||t&&t.currentIndex<getPreviousIndex(i,n,r)?t:i,s=getPreviousIndex(o,n,r),a=o.currentIndex;if(o===i)n--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)n++;else{r||(r=[]);var l=s-n,u=a-n;if(l!=u){for(var c=0;c<l;c++){var h=c<r.length?r[c]:r[c]=0,p=h+c;u<=p&&p<l&&(r[c]=h+1)}var d=o.previousIndex;r[d]=u-l}}s!==a&&e(o,s,a)}},DefaultIterableDiffer.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},DefaultIterableDiffer.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},DefaultIterableDiffer.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},DefaultIterableDiffer.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},DefaultIterableDiffer.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},DefaultIterableDiffer.prototype.diff=function(e){if(isBlank(e)&&(e=[]),!isListLikeIterable(e))throw new Error("Error trying to diff '"+e+"'");return this.check(e)?this:null},DefaultIterableDiffer.prototype.onDestroy=function(){},DefaultIterableDiffer.prototype.check=function(e){var t=this;this._reset();var i,n,r,o=this._itHead,s=!1;if(isArray(e)){var a=e;for(this._length=e.length,i=0;i<this._length;i++)n=a[i],r=this._trackByFn(i,n),null!==o&&looseIdentical(o.trackById,r)?(s&&(o=this._verifyReinsertion(o,n,r,i)),looseIdentical(o.item,n)||this._addIdentityChange(o,n)):(o=this._mismatch(o,n,r,i),s=!0),o=o._next}else i=0,iterateListLike(e,function(e){r=t._trackByFn(i,e),null!==o&&looseIdentical(o.trackById,r)?(s&&(o=t._verifyReinsertion(o,e,r,i)),looseIdentical(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,r,i),s=!0),o=o._next,i++}),this._length=i;return this._truncate(o),this._collection=e,this.isDirty},Object.defineProperty(DefaultIterableDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),DefaultIterableDiffer.prototype._reset=function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},DefaultIterableDiffer.prototype._mismatch=function(e,t,i,n){var r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),e=null===this._linkedRecords?null:this._linkedRecords.get(i,n),null!==e?(looseIdentical(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,n)):(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i),null!==e?(looseIdentical(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,n)):e=this._addAfter(new $e(t,i),r,n)),e},DefaultIterableDiffer.prototype._verifyReinsertion=function(e,t,i,n){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i);return null!==r?e=this._reinsertAfter(r,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e},DefaultIterableDiffer.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},DefaultIterableDiffer.prototype._reinsertAfter=function(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var n=e._prevRemoved,r=e._nextRemoved;return null===n?this._removalsHead=r:n._nextRemoved=r,null===r?this._removalsTail=n:r._prevRemoved=n,this._insertAfter(e,t,i),this._addToMoves(e,i),e},DefaultIterableDiffer.prototype._moveAfter=function(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e},DefaultIterableDiffer.prototype._addAfter=function(e,t,i){return this._insertAfter(e,t,i),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e},DefaultIterableDiffer.prototype._insertAfter=function(e,t,i){var n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new tt),this._linkedRecords.put(e),e.currentIndex=i,e},DefaultIterableDiffer.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},DefaultIterableDiffer.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e},DefaultIterableDiffer.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e,e)},DefaultIterableDiffer.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tt),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},DefaultIterableDiffer.prototype._addIdentityChange=function(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e},DefaultIterableDiffer.prototype.toString=function(){var e=[];this.forEachItem(function(t){return e.push(t)});var t=[];this.forEachPreviousItem(function(e){return t.push(e)});var i=[];this.forEachAddedItem(function(e){return i.push(e)});var n=[];this.forEachMovedItem(function(e){return n.push(e)});var r=[];this.forEachRemovedItem(function(e){return r.push(e)});var o=[];return this.forEachIdentityChange(function(e){return o.push(e)}),"collection: "+e.join(", ")+"\nprevious: "+t.join(", ")+"\nadditions: "+i.join(", ")+"\nmoves: "+n.join(", ")+"\nremovals: "+r.join(", ")+"\nidentityChanges: "+o.join(", ")+"\n"},DefaultIterableDiffer}(),$e=function(){function CollectionChangeRecord(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return CollectionChangeRecord.prototype.toString=function(){return this.previousIndex===this.currentIndex?stringify(this.item):stringify(this.item)+"["+stringify(this.previousIndex)+"->"+stringify(this.currentIndex)+"]"},CollectionChangeRecord}(),et=function(){function _DuplicateItemRecordList(){this._head=null,this._tail=null}return _DuplicateItemRecordList.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},_DuplicateItemRecordList.prototype.get=function(e,t){var i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<i.currentIndex)&&looseIdentical(i.trackById,e))return i;return null},_DuplicateItemRecordList.prototype.remove=function(e){var t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head},_DuplicateItemRecordList}(),tt=function(){function _DuplicateMap(){this.map=new Map}return _DuplicateMap.prototype.put=function(e){var t=getMapKey(e.trackById),i=this.map.get(t);isPresent(i)||(i=new et,this.map.set(t,i)),i.add(e)},_DuplicateMap.prototype.get=function(e,t){void 0===t&&(t=null);var i=getMapKey(e),n=this.map.get(i);return n?n.get(e,t):null},_DuplicateMap.prototype.remove=function(e){var t=getMapKey(e.trackById),i=this.map.get(t);return i.remove(e)&&this.map.delete(t),e},Object.defineProperty(_DuplicateMap.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),_DuplicateMap.prototype.clear=function(){this.map.clear()},_DuplicateMap.prototype.toString=function(){return"_DuplicateMap("+stringify(this.map)+")"},_DuplicateMap}(),it=function(){function DefaultKeyValueDifferFactory(){}return DefaultKeyValueDifferFactory.prototype.supports=function(e){return e instanceof Map||isJsObject(e)},DefaultKeyValueDifferFactory.prototype.create=function(e){return new nt},DefaultKeyValueDifferFactory}(),nt=function(){function DefaultKeyValueDiffer(){this._records=new Map,this._mapHead=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(DefaultKeyValueDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),DefaultKeyValueDiffer.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},DefaultKeyValueDiffer.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},DefaultKeyValueDiffer.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},DefaultKeyValueDiffer.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},DefaultKeyValueDiffer.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},DefaultKeyValueDiffer.prototype.diff=function(e){if(e){if(!(e instanceof Map||isJsObject(e)))throw new Error("Error trying to diff '"+e+"'")}else e=new Map;return this.check(e)?this:null},DefaultKeyValueDiffer.prototype.onDestroy=function(){},DefaultKeyValueDiffer.prototype.check=function(e){var t=this;this._reset();var i=this._records,n=this._mapHead,r=null,o=null,s=!1;return this._forEach(e,function(e,a){var l;n&&a===n.key?(l=n,t._maybeAddToChanges(l,e)):(s=!0,null!==n&&(t._removeFromSeq(r,n),t._addToRemovals(n)),i.has(a)?(l=i.get(a),t._maybeAddToChanges(l,e)):(l=new rt(a),i.set(a,l),l.currentValue=e,t._addToAdditions(l))),s&&(t._isInRemovals(l)&&t._removeFromRemovals(l),null==o?t._mapHead=l:o._next=l),r=n,o=l,n=n&&n._next}),this._truncate(r,n),this.isDirty},DefaultKeyValueDiffer.prototype._reset=function(){if(this.isDirty){var e=void 0;for(e=this._previousMapHead=this._mapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},DefaultKeyValueDiffer.prototype._truncate=function(e,t){for(;null!==t;){null===e?this._mapHead=null:e._next=null;var i=t._next;this._addToRemovals(t),e=t,t=i}for(var n=this._removalsHead;null!==n;n=n._nextRemoved)n.previousValue=n.currentValue,n.currentValue=null,this._records.delete(n.key)},DefaultKeyValueDiffer.prototype._maybeAddToChanges=function(e,t){looseIdentical(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},DefaultKeyValueDiffer.prototype._isInRemovals=function(e){return e===this._removalsHead||null!==e._nextRemoved||null!==e._prevRemoved},DefaultKeyValueDiffer.prototype._addToRemovals=function(e){null===this._removalsHead?this._removalsHead=this._removalsTail=e:(this._removalsTail._nextRemoved=e,e._prevRemoved=this._removalsTail,this._removalsTail=e)},DefaultKeyValueDiffer.prototype._removeFromSeq=function(e,t){var i=t._next;null===e?this._mapHead=i:e._next=i,t._next=null},DefaultKeyValueDiffer.prototype._removeFromRemovals=function(e){var t=e._prevRemoved,i=e._nextRemoved;null===t?this._removalsHead=i:t._nextRemoved=i,null===i?this._removalsTail=t:i._prevRemoved=t,e._prevRemoved=e._nextRemoved=null},DefaultKeyValueDiffer.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},DefaultKeyValueDiffer.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},DefaultKeyValueDiffer.prototype.toString=function(){var e,t=[],i=[],n=[],r=[],o=[];for(e=this._mapHead;null!==e;e=e._next)t.push(stringify(e));for(e=this._previousMapHead;null!==e;e=e._nextPrevious)i.push(stringify(e));for(e=this._changesHead;null!==e;e=e._nextChanged)n.push(stringify(e));for(e=this._additionsHead;null!==e;e=e._nextAdded)r.push(stringify(e));for(e=this._removalsHead;null!==e;e=e._nextRemoved)o.push(stringify(e));return"map: "+t.join(", ")+"\nprevious: "+i.join(", ")+"\nadditions: "+r.join(", ")+"\nchanges: "+n.join(", ")+"\nremovals: "+o.join(", ")+"\n"},DefaultKeyValueDiffer.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(i){return t(e[i],i)})},DefaultKeyValueDiffer}(),rt=function(){function KeyValueChangeRecord(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._nextAdded=null,this._nextRemoved=null,this._prevRemoved=null,this._nextChanged=null}return KeyValueChangeRecord.prototype.toString=function(){return looseIdentical(this.previousValue,this.currentValue)?stringify(this.key):stringify(this.key)+"["+stringify(this.previousValue)+"->"+stringify(this.currentValue)+"]"},KeyValueChangeRecord}(),ot=function(){function IterableDiffers(e){this.factories=e}return IterableDiffers.create=function(e,t){if(isPresent(t)){var i=ie.clone(t.factories);return e=e.concat(i),new IterableDiffers(e)}return new IterableDiffers(e)},IterableDiffers.extend=function(e){return{provide:IterableDiffers,useFactory:function(t){if(!t)throw new Error("Cannot extend IterableDiffers without a parent injector");return IterableDiffers.create(e,t)},deps:[[IterableDiffers,new d,new c]]}},IterableDiffers.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(isPresent(t))return t;throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+getTypeNameForDebugging(e)+"'")},IterableDiffers}(),st=function(){function KeyValueDiffers(e){this.factories=e}return KeyValueDiffers.create=function(e,t){if(isPresent(t)){var i=ie.clone(t.factories);return e=e.concat(i),new KeyValueDiffers(e)}return new KeyValueDiffers(e)},KeyValueDiffers.extend=function(e){return{provide:KeyValueDiffers,useFactory:function(t){if(!t)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return KeyValueDiffers.create(e,t)},deps:[[KeyValueDiffers,new d,new c]]}},KeyValueDiffers.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(isPresent(t))return t;throw new Error("Cannot find a differ supporting object '"+e+"'")},KeyValueDiffers}(),at={toString:function(){return"CD_INIT_VALUE"}},lt=function(){function WrappedValue(e){this.wrapped=e}return WrappedValue.wrap=function(e){return new WrappedValue(e)},WrappedValue}(),ut=function(){function ValueUnwrapper(){this.hasWrappedValue=!1}return ValueUnwrapper.prototype.unwrap=function(e){return e instanceof lt?(this.hasWrappedValue=!0,e.wrapped):e},ValueUnwrapper.prototype.reset=function(){this.hasWrappedValue=!1},ValueUnwrapper}(),ct=function(){function SimpleChange(e,t){this.previousValue=e,this.currentValue=t}return SimpleChange.prototype.isFirstChange=function(){return this.previousValue===at},SimpleChange}(),ht=function(){function ChangeDetectorRef(){}return ChangeDetectorRef}(),pt=[new it],dt=[new Ze],ft=new ot(dt),mt=new st(pt),yt=function(){function RenderComponentType(e,t,i,n,r,o){this.id=e,this.templateUrl=t,this.slotCount=i,this.encapsulation=n,this.styles=r,this.animations=o}return RenderComponentType}(),vt=function(){function RenderDebugInfo(){}return Object.defineProperty(RenderDebugInfo.prototype,"injector",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderDebugInfo.prototype,"component",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderDebugInfo.prototype,"providerTokens",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderDebugInfo.prototype,"references",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderDebugInfo.prototype,"context",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderDebugInfo.prototype,"source",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),RenderDebugInfo}(),gt=function(){function Renderer(){}return Renderer}(),_t=function(){function RootRenderer(){}return RootRenderer}();t.SecurityContext,function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(t.SecurityContext||(t.SecurityContext={}));var bt,wt,Ct,xt=function(){function Sanitizer(){}return Sanitizer}(),Et=function(){function ElementRef(e){this.nativeElement=e}return ElementRef}(),St=detectWTF(),Pt=St?createScope:function(e,t){return noopScope},kt=St?leave:function(e,t){return t},Tt=St?startTimeRange:function(e,t){return null},At=St?endTimeRange:function(e){return null},Dt=function(){function ViewContainerRef(){}return Object.defineProperty(ViewContainerRef.prototype,"element",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef.prototype,"injector",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef.prototype,"parentInjector",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef.prototype,"length",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),ViewContainerRef}(),Mt=function(){function ViewContainerRef_(e){this._element=e,this._createComponentInContainerScope=Pt("ViewContainerRef#createComponent()"),this._insertScope=Pt("ViewContainerRef#insert()"),this._removeScope=Pt("ViewContainerRef#remove()"),this._detachScope=Pt("ViewContainerRef#detach()")}return ViewContainerRef_.prototype.get=function(e){return this._element.nestedViews[e].ref},Object.defineProperty(ViewContainerRef_.prototype,"length",{get:function(){var e=this._element.nestedViews;return isPresent(e)?e.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"element",{get:function(){return this._element.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"injector",{get:function(){return this._element.injector},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"parentInjector",{get:function(){return this._element.parentInjector},enumerable:!0,configurable:!0}),ViewContainerRef_.prototype.createEmbeddedView=function(e,t,i){void 0===t&&(t=null),void 0===i&&(i=-1);var n=e.createEmbeddedView(t);return this.insert(n,i),n},ViewContainerRef_.prototype.createComponent=function(e,t,i,n){void 0===t&&(t=-1),void 0===i&&(i=null),void 0===n&&(n=null);var r=this._createComponentInContainerScope(),o=i||this._element.parentInjector,s=e.create(o,n);return this.insert(s.hostView,t),kt(r,s)},ViewContainerRef_.prototype.insert=function(e,t){void 0===t&&(t=-1);var i=this._insertScope();t==-1&&(t=this.length);var n=e;return this._element.attachView(n.internalView,t),kt(i,n)},ViewContainerRef_.prototype.move=function(e,t){var i=this._insertScope();if(t!=-1){var n=e;return this._element.moveView(n.internalView,t),kt(i,n)}},ViewContainerRef_.prototype.indexOf=function(e){
return ie.indexOf(this._element.nestedViews,e.internalView)},ViewContainerRef_.prototype.remove=function(e){void 0===e&&(e=-1);var t=this._removeScope();e==-1&&(e=this.length-1);var i=this._element.detachView(e);i.destroy(),kt(t)},ViewContainerRef_.prototype.detach=function(e){void 0===e&&(e=-1);var t=this._detachScope();e==-1&&(e=this.length-1);var i=this._element.detachView(e);return kt(t,i.ref)},ViewContainerRef_.prototype.clear=function(){for(var e=this.length-1;e>=0;e--)this.remove(e)},ViewContainerRef_}();!function(e){e[e.HOST=0]="HOST",e[e.COMPONENT=1]="COMPONENT",e[e.EMBEDDED=2]="EMBEDDED"}(Ct||(Ct={}));var Ot,It=function(){function AppElement(e,t,i,n){this.index=e,this.parentIndex=t,this.parentView=i,this.nativeElement=n,this.nestedViews=null,this.componentView=null}return Object.defineProperty(AppElement.prototype,"elementRef",{get:function(){return new Et(this.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(AppElement.prototype,"vcRef",{get:function(){return new Mt(this)},enumerable:!0,configurable:!0}),AppElement.prototype.initComponent=function(e,t,i){this.component=e,this.componentConstructorViewQueries=t,this.componentView=i},Object.defineProperty(AppElement.prototype,"parentInjector",{get:function(){return this.parentView.injector(this.parentIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(AppElement.prototype,"injector",{get:function(){return this.parentView.injector(this.index)},enumerable:!0,configurable:!0}),AppElement.prototype.mapNestedViews=function(e,t){var i=[];return isPresent(this.nestedViews)&&this.nestedViews.forEach(function(n){n.clazz===e&&i.push(t(n))}),i},AppElement.prototype.moveView=function(e,t){var i=this.nestedViews.indexOf(e);if(e.type===Ct.COMPONENT)throw new Error("Component views can't be moved!");var n=this.nestedViews;null==n&&(n=[],this.nestedViews=n),ie.removeAt(n,i),ie.insert(n,t,e);var r;if(t>0){var o=n[t-1];r=o.lastRootNode}else r=this.nativeElement;isPresent(r)&&e.renderer.attachViewAfter(r,e.flatRootNodes),e.markContentChildAsMoved(this)},AppElement.prototype.attachView=function(e,t){if(e.type===Ct.COMPONENT)throw new Error("Component views can't be moved!");var i=this.nestedViews;null==i&&(i=[],this.nestedViews=i),ie.insert(i,t,e);var n;if(t>0){var r=i[t-1];n=r.lastRootNode}else n=this.nativeElement;isPresent(n)&&e.renderer.attachViewAfter(n,e.flatRootNodes),e.addToContentChildren(this)},AppElement.prototype.detachView=function(e){var t=ie.removeAt(this.nestedViews,e);if(t.type===Ct.COMPONENT)throw new Error("Component views can't be moved!");return t.detach(),t.removeFromContentChildren(this),t},AppElement}(),Rt=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},Nt=function(e){function ExpressionChangedAfterItHasBeenCheckedError(t,i){var n="Expression has changed after it was checked. Previous value: '"+t+"'. Current value: '"+i+"'.";t===at&&(n+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),e.call(this,n)}return Rt(ExpressionChangedAfterItHasBeenCheckedError,e),ExpressionChangedAfterItHasBeenCheckedError}(q),Lt=function(e){function ViewWrappedError(t,i){e.call(this,"Error in "+i.source,t),this.context=i}return Rt(ViewWrappedError,e),ViewWrappedError}(Y),Vt=function(e){function ViewDestroyedError(t){e.call(this,"Attempt to use a destroyed view: "+t)}return Rt(ViewDestroyedError,e),ViewDestroyedError}(q),Ft=function(){function ViewUtils(e,t,i){this._renderer=e,this._appId=t,this._nextCompTypeId=0,this.sanitizer=i}return ViewUtils.prototype.createRenderComponentType=function(e,t,i,n,r){return new yt(this._appId+"-"+this._nextCompTypeId++,e,t,i,n,r)},ViewUtils.prototype.renderComponent=function(e){return this._renderer.renderComponent(e)},ViewUtils.decorators=[{type:h}],ViewUtils.ctorParameters=[{type:_t},{type:void 0,decorators:[{type:u,args:[Fe]}]},{type:xt}],ViewUtils}(),jt=[],Bt=9,zt=[],Ht={},Wt=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},Gt=function(){function ComponentRef(){}return Object.defineProperty(ComponentRef.prototype,"location",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"injector",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"instance",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"hostView",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"changeDetectorRef",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"componentType",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),ComponentRef}(),Ut=function(e){function ComponentRef_(t,i){e.call(this),this._hostElement=t,this._componentType=i}return Wt(ComponentRef_,e),Object.defineProperty(ComponentRef_.prototype,"location",{get:function(){return this._hostElement.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"injector",{get:function(){return this._hostElement.injector},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"instance",{get:function(){return this._hostElement.component},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"hostView",{get:function(){return this._hostElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"changeDetectorRef",{get:function(){return this._hostElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),ComponentRef_.prototype.destroy=function(){this._hostElement.parentView.destroy()},ComponentRef_.prototype.onDestroy=function(e){this.hostView.onDestroy(e)},ComponentRef_}(Gt),qt=new Object,Yt=function(){function ComponentFactory(e,t,i){this.selector=e,this._viewFactory=t,this._componentType=i}return Object.defineProperty(ComponentFactory.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),ComponentFactory.prototype.create=function(e,t,i){void 0===t&&(t=null),void 0===i&&(i=null);var n=e.get(Ft);t||(t=[]);var r=this._viewFactory(n,e,null),o=r.create(qt,t,i);return new Ut(o,this._componentType)},ComponentFactory}(),Kt=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},Xt=function(e){function NoComponentFactoryError(t){e.call(this,"No component factory found for "+stringify(t)),this.component=t}return Kt(NoComponentFactoryError,e),NoComponentFactoryError}(q),Zt=function(){function _NullComponentFactoryResolver(){}return _NullComponentFactoryResolver.prototype.resolveComponentFactory=function(e){throw new Xt(e)},_NullComponentFactoryResolver}(),Qt=function(){function ComponentFactoryResolver(){}return ComponentFactoryResolver.NULL=new Zt,ComponentFactoryResolver}(),Jt=function(){function CodegenComponentFactoryResolver(e,t){this._parent=t,this._factories=new Map;for(var i=0;i<e.length;i++){var n=e[i];this._factories.set(n.componentType,n)}}return CodegenComponentFactoryResolver.prototype.resolveComponentFactory=function(e){var t=this._factories.get(e);return t||(t=this._parent.resolveComponentFactory(e)),t},CodegenComponentFactoryResolver}(),$t=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},ei=function(e){function EventEmitter(t){void 0===t&&(t=!1),e.call(this),this.__isAsync=t}return $t(EventEmitter,e),EventEmitter.prototype.emit=function(t){e.prototype.next.call(this,t)},EventEmitter.prototype.subscribe=function(t,i,n){var r,o=function(e){return null},s=function(){return null};return t&&"object"==typeof t?(r=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(r=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},i&&(o=this.__isAsync?function(e){setTimeout(function(){return i(e)})}:function(e){i(e)}),n&&(s=this.__isAsync?function(){setTimeout(function(){return n()})}:function(){n()})),e.prototype.subscribe.call(this,r,o,s)},EventEmitter}(i.Subject),ti=function(){function NgZone(e){var t=e.enableLongStackTrace,i=void 0!==t&&t;if(this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new ei((!1)),this._onMicrotaskEmpty=new ei((!1)),this._onStable=new ei((!1)),this._onErrorEvents=new ei((!1)),"undefined"==typeof Zone)throw new Error("Angular requires Zone.js prolyfill.");Zone.assertZonePatched(),this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.forkInnerZoneWithAngularBehavior()}return NgZone.isInAngularZone=function(){return Zone.current.get("isAngularZone")===!0},NgZone.assertInAngularZone=function(){if(!NgZone.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},NgZone.assertNotInAngularZone=function(){if(NgZone.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},NgZone.prototype.run=function(e){return this.inner.run(e)},NgZone.prototype.runGuarded=function(e){return this.inner.runGuarded(e)},NgZone.prototype.runOutsideAngular=function(e){return this.outer.run(e)},Object.defineProperty(NgZone.prototype,"onUnstable",{get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onStable",{get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),NgZone.prototype.checkStable=function(){var e=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return e._onStable.emit(null)})}finally{this._isStable=!0}}},NgZone.prototype.forkInnerZoneWithAngularBehavior=function(){var e=this;this.inner=this.inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,i,n,r,o,s){try{return e.onEnter(),t.invokeTask(n,r,o,s)}finally{e.onLeave()}},onInvoke:function(t,i,n,r,o,s,a){try{return e.onEnter(),t.invoke(n,r,o,s,a)}finally{e.onLeave()}},onHasTask:function(t,i,n,r){t.hasTask(n,r),i===n&&("microTask"==r.change?e.setHasMicrotask(r.microTask):"macroTask"==r.change&&e.setHasMacrotask(r.macroTask))},onHandleError:function(t,i,n,r){return t.handleError(n,r),e.triggerError(r),!1}})},NgZone.prototype.onEnter=function(){this._nesting++,this._isStable&&(this._isStable=!1,this._onUnstable.emit(null))},NgZone.prototype.onLeave=function(){this._nesting--,this.checkStable()},NgZone.prototype.setHasMicrotask=function(e){this._hasPendingMicrotasks=e,this.checkStable()},NgZone.prototype.setHasMacrotask=function(e){this._hasPendingMacrotasks=e},NgZone.prototype.triggerError=function(e){this._onErrorEvents.emit(e)},NgZone}(),ii=function(){function Testability(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return Testability.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){ti.assertNotInAngularZone(),scheduleMicroTask(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})},Testability.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},Testability.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},Testability.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},Testability.prototype._runCallbacksIfReady=function(){var e=this;this.isStable()?scheduleMicroTask(function(){for(;0!==e._callbacks.length;)e._callbacks.pop()(e._didWork);e._didWork=!1}):this._didWork=!0},Testability.prototype.whenStable=function(e){this._callbacks.push(e),this._runCallbacksIfReady()},Testability.prototype.getPendingRequestCount=function(){return this._pendingCount},Testability.prototype.findBindings=function(e,t,i){return[]},Testability.prototype.findProviders=function(e,t,i){return[]},Testability.decorators=[{type:h}],Testability.ctorParameters=[{type:ti}],Testability}(),ni=function(){function TestabilityRegistry(){this._applications=new Map,oi.addToWindow(this)}return TestabilityRegistry.prototype.registerApplication=function(e,t){this._applications.set(e,t)},TestabilityRegistry.prototype.getTestability=function(e){return this._applications.get(e)},TestabilityRegistry.prototype.getAllTestabilities=function(){return ee.values(this._applications)},TestabilityRegistry.prototype.getAllRootElements=function(){return ee.keys(this._applications)},TestabilityRegistry.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),oi.findTestabilityInTree(this,e,t)},TestabilityRegistry.decorators=[{type:h}],TestabilityRegistry.ctorParameters=[],TestabilityRegistry}(),ri=function(){function _NoopGetTestability(){}return _NoopGetTestability.prototype.addToWindow=function(e){},_NoopGetTestability.prototype.findTestabilityInTree=function(e,t,i){return null},_NoopGetTestability}(),oi=new ri,si=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},ai=!0,li=!1,ui=function(){function PlatformRef(){}return PlatformRef.prototype.bootstrapModuleFactory=function(e){throw unimplemented()},PlatformRef.prototype.bootstrapModule=function(e,t){throw void 0===t&&(t=[]),unimplemented()},Object.defineProperty(PlatformRef.prototype,"injector",{get:function(){throw unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformRef.prototype,"destroyed",{get:function(){throw unimplemented()},enumerable:!0,configurable:!0}),PlatformRef}(),ci=function(e){function PlatformRef_(t){e.call(this),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return si(PlatformRef_,e),PlatformRef_.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(PlatformRef_.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformRef_.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),PlatformRef_.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0},PlatformRef_.prototype.bootstrapModuleFactory=function(e){return this._bootstrapModuleFactoryWithZone(e,null)},PlatformRef_.prototype._bootstrapModuleFactoryWithZone=function(e,t){var i=this;return t||(t=new ti({enableLongStackTrace:isDevMode()})),t.run(function(){var n=Oe.resolveAndCreate([{provide:ti,useValue:t}],i.injector),r=e.create(n),o=r.injector.get(Ne,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(function(){return ie.remove(i._modules,r)}),t.onError.subscribe({next:function(e){o.handleError(e)}}),_callAndReportToErrorHandler(o,function(){var e=r.injector.get(Ve);return e.donePromise.then(function(){return i._moduleDoBootstrap(r),r})})})},PlatformRef_.prototype.bootstrapModule=function(e,t){return void 0===t&&(t=[]),this._bootstrapModuleWithZone(e,t,null)},PlatformRef_.prototype._bootstrapModuleWithZone=function(e,t,i,n){var r=this;void 0===t&&(t=[]);var o=this.injector.get(Xe),s=o.createCompiler(Array.isArray(t)?t:[t]);return n?s.compileModuleAndAllComponentsAsync(e).then(function(e){var t=e.ngModuleFactory,o=e.componentFactories;return n(o),r._bootstrapModuleFactoryWithZone(t,i)}):s.compileModuleAsync(e).then(function(e){return r._bootstrapModuleFactoryWithZone(e,i)})},PlatformRef_.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(hi);if(e.bootstrapFactories.length>0)e.bootstrapFactories.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module "+stringify(e.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');e.instance.ngDoBootstrap(t)}},PlatformRef_.decorators=[{type:h}],PlatformRef_.ctorParameters=[{type:Q}],PlatformRef_}(ui),hi=function(){function ApplicationRef(){}return Object.defineProperty(ApplicationRef.prototype,"componentTypes",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef.prototype,"components",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),ApplicationRef}(),pi=function(e){function ApplicationRef_(t,i,n,r,o,s,a,l){var u=this;e.call(this),this._zone=t,this._console=i,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=s,this._testabilityRegistry=a,this._testability=l,this._bootstrapListeners=[],this._rootComponents=[],this._rootComponentTypes=[],this._changeDetectorRefs=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._enforceNoNewChanges=isDevMode(),this._zone.onMicrotaskEmpty.subscribe({next:function(){u._zone.run(function(){u.tick()})}})}return si(ApplicationRef_,e),ApplicationRef_.prototype.registerChangeDetector=function(e){this._changeDetectorRefs.push(e)},ApplicationRef_.prototype.unregisterChangeDetector=function(e){ie.remove(this._changeDetectorRefs,e)},ApplicationRef_.prototype.bootstrap=function(e){var t=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var i;i=e instanceof Yt?e:this._componentFactoryResolver.resolveComponentFactory(e),this._rootComponentTypes.push(i.componentType);var n=i.create(this._injector,[],i.selector);n.onDestroy(function(){t._unloadComponent(n)});var r=n.injector.get(ii,null);return r&&n.injector.get(ni).registerApplication(n.location.nativeElement,r),this._loadComponent(n),isDevMode()&&this._console.log("Angular 2 is running in the development mode. Call enableProdMode() to enable the production mode."),n},ApplicationRef_.prototype._loadComponent=function(e){this._changeDetectorRefs.push(e.changeDetectorRef),this.tick(),this._rootComponents.push(e);var t=this._injector.get(ze,[]).concat(this._bootstrapListeners);t.forEach(function(t){return t(e)})},ApplicationRef_.prototype._unloadComponent=function(e){this._rootComponents.indexOf(e)!=-1&&(this.unregisterChangeDetector(e.changeDetectorRef),ie.remove(this._rootComponents,e))},ApplicationRef_.prototype.tick=function(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var e=ApplicationRef_._tickScope();try{this._runningTick=!0,this._changeDetectorRefs.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._changeDetectorRefs.forEach(function(e){return e.checkNoChanges()})}finally{this._runningTick=!1,kt(e)}},ApplicationRef_.prototype.ngOnDestroy=function(){this._rootComponents.slice().forEach(function(e){return e.destroy()})},Object.defineProperty(ApplicationRef_.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef_.prototype,"components",{get:function(){return this._rootComponents},enumerable:!0,configurable:!0}),ApplicationRef_._tickScope=Pt("ApplicationRef#tick()"),ApplicationRef_.decorators=[{type:h}],ApplicationRef_.ctorParameters=[{type:ti},{type:We},{type:Q},{type:Ne},{type:Qt},{type:Ve},{type:ni,decorators:[{type:c}]},{type:ii,decorators:[{type:c}]}],ApplicationRef_}(hi),di=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},fi=function(){function NgModuleRef(){}return Object.defineProperty(NgModuleRef.prototype,"injector",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(NgModuleRef.prototype,"componentFactoryResolver",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(NgModuleRef.prototype,"instance",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),NgModuleRef}(),mi=function(){function NgModuleFactory(e,t){this._injectorClass=e,this._moduleType=t}return Object.defineProperty(NgModuleFactory.prototype,"moduleType",{get:function(){return this._moduleType},enumerable:!0,configurable:!0}),NgModuleFactory.prototype.create=function(e){e||(e=Q.NULL);var t=new this._injectorClass(e);return t.create(),t},NgModuleFactory}(),yi=new Object,vi=function(e){function NgModuleInjector(t,i,n){e.call(this,i,t.get(Qt,Qt.NULL)),this.parent=t,this.bootstrapFactories=n,this._destroyListeners=[],this._destroyed=!1}return di(NgModuleInjector,e),NgModuleInjector.prototype.create=function(){this.instance=this.createInternal()},NgModuleInjector.prototype.get=function(e,t){if(void 0===t&&(t=X),e===Q||e===Qt)return this;var i=this.getInternal(e,yi);return i===yi?this.parent.get(e,t):i},Object.defineProperty(NgModuleInjector.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(NgModuleInjector.prototype,"componentFactoryResolver",{get:function(){return this},enumerable:!0,configurable:!0}),NgModuleInjector.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+stringify(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,this.destroyInternal(),this._destroyListeners.forEach(function(e){return e()})},NgModuleInjector.prototype.onDestroy=function(e){this._destroyListeners.push(e)},NgModuleInjector}(Jt),gi=function(){function NgModuleFactoryLoader(){}return NgModuleFactoryLoader}(),_i=new Map,bi=function(){function QueryList(){this._dirty=!0,this._results=[],this._emitter=new ei}return Object.defineProperty(QueryList.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),QueryList.prototype.map=function(e){return this._results.map(e)},QueryList.prototype.filter=function(e){return this._results.filter(e)},QueryList.prototype.reduce=function(e,t){return this._results.reduce(e,t)},QueryList.prototype.forEach=function(e){this._results.forEach(e)},QueryList.prototype.some=function(e){return this._results.some(e)},QueryList.prototype.toArray=function(){return this._results.slice()},QueryList.prototype[getSymbolIterator()]=function(){return this._results[getSymbolIterator()]()},QueryList.prototype.toString=function(){return this._results.toString()},QueryList.prototype.reset=function(e){this._results=ie.flatten(e),this._dirty=!1},QueryList.prototype.notifyOnChanges=function(){this._emitter.emit(this)},QueryList.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(QueryList.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),QueryList}(),wi="#",Ci="NgFactory",xi=function(){function SystemJsNgModuleLoaderConfig(){}return SystemJsNgModuleLoaderConfig}(),Ei={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Si=function(){function SystemJsNgModuleLoader(e,t){this._compiler=e,this._config=t||Ei}return SystemJsNgModuleLoader.prototype.load=function(e){var t=this._compiler instanceof Ye;return t?this.loadFactory(e):this.loadAndCompile(e)},SystemJsNgModuleLoader.prototype.loadAndCompile=function(e){var t=this,i=e.split(wi),n=i[0],r=i[1];return void 0===r&&(r="default"),System.import(n).then(function(e){return e[r]}).then(function(e){return checkNotEmpty(e,n,r)}).then(function(e){return t._compiler.compileModuleAsync(e)})},SystemJsNgModuleLoader.prototype.loadFactory=function(e){var t=e.split(wi),i=t[0],n=t[1],r=Ci;return void 0===n&&(n="default",r=""),System.import(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(e){return e[n+r]}).then(function(e){return checkNotEmpty(e,i,n)})},SystemJsNgModuleLoader.decorators=[{type:h}],SystemJsNgModuleLoader.ctorParameters=[{type:Ye},{type:xi,decorators:[{type:c}]}],SystemJsNgModuleLoader}(),Pi=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},ki=function(){function TemplateRef(){}return Object.defineProperty(TemplateRef.prototype,"elementRef",{get:function(){return null},enumerable:!0,configurable:!0}),TemplateRef}(),Ti=function(e){function TemplateRef_(t,i){e.call(this),this._appElement=t,this._viewFactory=i}return Pi(TemplateRef_,e),TemplateRef_.prototype.createEmbeddedView=function(e){var t=this._viewFactory(this._appElement.parentView.viewUtils,this._appElement.parentInjector,this._appElement);return t.create(e||{},null,null),t.ref},Object.defineProperty(TemplateRef_.prototype,"elementRef",{get:function(){return this._appElement.elementRef},enumerable:!0,configurable:!0}),TemplateRef_}(ki),Ai=[],Di=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},Mi=function(){function ViewRef(){}return Object.defineProperty(ViewRef.prototype,"destroyed",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),ViewRef}(),Oi=function(e){function EmbeddedViewRef(){e.apply(this,arguments)}return Di(EmbeddedViewRef,e),Object.defineProperty(EmbeddedViewRef.prototype,"context",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(EmbeddedViewRef.prototype,"rootNodes",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),EmbeddedViewRef}(Mi),Ii=function(){function ViewRef_(e){this._view=e,this._view=e,this._originalMode=this._view.cdMode}return Object.defineProperty(ViewRef_.prototype,"internalView",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"destroyed",{get:function(){return this._view.destroyed},enumerable:!0,configurable:!0}),ViewRef_.prototype.markForCheck=function(){this._view.markPathToRootAsCheckOnce()},ViewRef_.prototype.detach=function(){this._view.cdMode=x.Detached},ViewRef_.prototype.detectChanges=function(){this._view.detectChanges(!1),triggerQueuedAnimations()},ViewRef_.prototype.checkNoChanges=function(){this._view.detectChanges(!0)},ViewRef_.prototype.reattach=function(){this._view.cdMode=this._originalMode,this.markForCheck()},ViewRef_.prototype.onDestroy=function(e){this._view.disposables.push(e)},ViewRef_.prototype.destroy=function(){this._view.destroy()},ViewRef_}(),Ri=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},Ni=function(){function EventListener(e,t){this.name=e,this.callback=t}return EventListener}(),Li=function(){function DebugNode(e,t,i){this._debugInfo=i,this.nativeNode=e,isPresent(t)&&t instanceof Vi?t.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(DebugNode.prototype,"injector",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.injector:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode.prototype,"componentInstance",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.component:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode.prototype,"context",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.context:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode.prototype,"references",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.references:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode.prototype,"providerTokens",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode.prototype,"source",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.source:null},enumerable:!0,configurable:!0}),DebugNode}(),Vi=function(e){function DebugElement(t,i,n){e.call(this,t,i,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}return Ri(DebugElement,e),DebugElement.prototype.addChild=function(e){isPresent(e)&&(this.childNodes.push(e),e.parent=this)},DebugElement.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);t!==-1&&(e.parent=null,this.childNodes.splice(t,1))},DebugElement.prototype.insertChildrenAfter=function(e,t){var i=this.childNodes.indexOf(e);if(i!==-1){var n=this.childNodes.slice(0,i+1),r=this.childNodes.slice(i+1);this.childNodes=ie.concat(ie.concat(n,t),r);for(var o=0;o<t.length;++o){var s=t[o];isPresent(s.parent)&&s.parent.removeChild(s),s.parent=this}}},DebugElement.prototype.query=function(e){var t=this.queryAll(e);return t.length>0?t[0]:null},DebugElement.prototype.queryAll=function(e){var t=[];return _queryElementChildren(this,e,t),t},DebugElement.prototype.queryAllNodes=function(e){var t=[];return _queryNodeChildren(this,e,t),t},Object.defineProperty(DebugElement.prototype,"children",{get:function(){var e=[];return this.childNodes.forEach(function(t){t instanceof DebugElement&&e.push(t)}),e},enumerable:!0,configurable:!0}),DebugElement.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(i){
i.name==e&&i.callback(t)})},DebugElement}(Li),Fi=new Map,ji=[ci,{provide:ui,useExisting:ci},{provide:_e,useFactory:_reflector,deps:[]},{provide:ve,useExisting:_e},ni,We],Bi=createPlatformFactory(null,"core",ji),zi=new m("LocaleId"),Hi=new m("Translations"),Wi=new m("TranslationsFormat"),Gi=function(){function ApplicationModule(){}return ApplicationModule.decorators=[{type:W,args:[{providers:[pi,{provide:hi,useExisting:pi},Ve,Ye,je,Ft,{provide:ot,useFactory:_iterableDiffersFactory},{provide:st,useFactory:_keyValueDiffersFactory},{provide:zi,useValue:"en-US"}]}]}],ApplicationModule.ctorParameters=[],ApplicationModule}(),Ui="true",qi="*",Yi="*",Ki="void",Xi=o.Math,Zi=function(){function AnimationGroupPlayer(e){var t=this;this._players=e,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this.parentPlayer=null;var i=0,n=this._players.length;0==n?scheduleMicroTask(function(){return t._onFinish()}):this._players.forEach(function(e){e.parentPlayer=t,e.onDone(function(){++i>=n&&t._onFinish()})})}return AnimationGroupPlayer.prototype._onFinish=function(){this._finished||(this._finished=!0,isPresent(this.parentPlayer)||this.destroy(),this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},AnimationGroupPlayer.prototype.init=function(){this._players.forEach(function(e){return e.init()})},AnimationGroupPlayer.prototype.onStart=function(e){this._onStartFns.push(e)},AnimationGroupPlayer.prototype.onDone=function(e){this._onDoneFns.push(e)},AnimationGroupPlayer.prototype.hasStarted=function(){return this._started},AnimationGroupPlayer.prototype.play=function(){isPresent(this.parentPlayer)||this.init(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0),this._players.forEach(function(e){return e.play()})},AnimationGroupPlayer.prototype.pause=function(){this._players.forEach(function(e){return e.pause()})},AnimationGroupPlayer.prototype.restart=function(){this._players.forEach(function(e){return e.restart()})},AnimationGroupPlayer.prototype.finish=function(){this._onFinish(),this._players.forEach(function(e){return e.finish()})},AnimationGroupPlayer.prototype.destroy=function(){this._onFinish(),this._players.forEach(function(e){return e.destroy()})},AnimationGroupPlayer.prototype.reset=function(){this._players.forEach(function(e){return e.reset()})},AnimationGroupPlayer.prototype.setPosition=function(e){this._players.forEach(function(t){t.setPosition(e)})},AnimationGroupPlayer.prototype.getPosition=function(){var e=0;return this._players.forEach(function(t){var i=t.getPosition();e=Xi.min(i,e)}),e},AnimationGroupPlayer}(),Qi=function(){function AnimationKeyframe(e,t){this.offset=e,this.styles=t}return AnimationKeyframe}(),Ji=function(){function AnimationPlayer(){}return Object.defineProperty(AnimationPlayer.prototype,"parentPlayer",{get:function(){throw new Error("NOT IMPLEMENTED: Base Class")},set:function(e){throw new Error("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),AnimationPlayer}(),$i=function(){function NoOpAnimationPlayer(){var e=this;this._onDoneFns=[],this._onStartFns=[],this._started=!1,this.parentPlayer=null,scheduleMicroTask(function(){return e._onFinish()})}return NoOpAnimationPlayer.prototype._onFinish=function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]},NoOpAnimationPlayer.prototype.onStart=function(e){this._onStartFns.push(e)},NoOpAnimationPlayer.prototype.onDone=function(e){this._onDoneFns.push(e)},NoOpAnimationPlayer.prototype.hasStarted=function(){return this._started},NoOpAnimationPlayer.prototype.init=function(){},NoOpAnimationPlayer.prototype.play=function(){this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]),this._started=!0},NoOpAnimationPlayer.prototype.pause=function(){},NoOpAnimationPlayer.prototype.restart=function(){},NoOpAnimationPlayer.prototype.finish=function(){this._onFinish()},NoOpAnimationPlayer.prototype.destroy=function(){},NoOpAnimationPlayer.prototype.reset=function(){},NoOpAnimationPlayer.prototype.setPosition=function(e){},NoOpAnimationPlayer.prototype.getPosition=function(){return 0},NoOpAnimationPlayer}(),en=function(){function AnimationSequencePlayer(e){var t=this;this._players=e,this._currentIndex=0,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this.parentPlayer=null,this._players.forEach(function(e){e.parentPlayer=t}),this._onNext(!1)}return AnimationSequencePlayer.prototype._onNext=function(e){var t=this;if(!this._finished)if(0==this._players.length)this._activePlayer=new $i,scheduleMicroTask(function(){return t._onFinish()});else if(this._currentIndex>=this._players.length)this._activePlayer=new $i,this._onFinish();else{var i=this._players[this._currentIndex++];i.onDone(function(){return t._onNext(!0)}),this._activePlayer=i,e&&i.play()}},AnimationSequencePlayer.prototype._onFinish=function(){this._finished||(this._finished=!0,isPresent(this.parentPlayer)||this.destroy(),this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},AnimationSequencePlayer.prototype.init=function(){this._players.forEach(function(e){return e.init()})},AnimationSequencePlayer.prototype.onStart=function(e){this._onStartFns.push(e)},AnimationSequencePlayer.prototype.onDone=function(e){this._onDoneFns.push(e)},AnimationSequencePlayer.prototype.hasStarted=function(){return this._started},AnimationSequencePlayer.prototype.play=function(){isPresent(this.parentPlayer)||this.init(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0),this._activePlayer.play()},AnimationSequencePlayer.prototype.pause=function(){this._activePlayer.pause()},AnimationSequencePlayer.prototype.restart=function(){this._players.length>0&&(this.reset(),this._players[0].restart())},AnimationSequencePlayer.prototype.reset=function(){this._players.forEach(function(e){return e.reset()})},AnimationSequencePlayer.prototype.finish=function(){this._onFinish(),this._players.forEach(function(e){return e.finish()})},AnimationSequencePlayer.prototype.destroy=function(){this._onFinish(),this._players.forEach(function(e){return e.destroy()})},AnimationSequencePlayer.prototype.setPosition=function(e){this._players[0].setPosition(e)},AnimationSequencePlayer.prototype.getPosition=function(){return this._players[0].getPosition()},AnimationSequencePlayer}(),tn=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},nn="*",rn=function(){function AnimationEntryMetadata(e,t){this.name=e,this.definitions=t}return AnimationEntryMetadata}(),on=function(){function AnimationStateMetadata(){}return AnimationStateMetadata}(),sn=function(e){function AnimationStateDeclarationMetadata(t,i){e.call(this),this.stateNameExpr=t,this.styles=i}return tn(AnimationStateDeclarationMetadata,e),AnimationStateDeclarationMetadata}(on),an=function(e){function AnimationStateTransitionMetadata(t,i){e.call(this),this.stateChangeExpr=t,this.steps=i}return tn(AnimationStateTransitionMetadata,e),AnimationStateTransitionMetadata}(on),ln=function(){function AnimationMetadata(){}return AnimationMetadata}(),un=function(e){function AnimationKeyframesSequenceMetadata(t){e.call(this),this.steps=t}return tn(AnimationKeyframesSequenceMetadata,e),AnimationKeyframesSequenceMetadata}(ln),cn=function(e){function AnimationStyleMetadata(t,i){void 0===i&&(i=null),e.call(this),this.styles=t,this.offset=i}return tn(AnimationStyleMetadata,e),AnimationStyleMetadata}(ln),hn=function(e){function AnimationAnimateMetadata(t,i){e.call(this),this.timings=t,this.styles=i}return tn(AnimationAnimateMetadata,e),AnimationAnimateMetadata}(ln),pn=function(e){function AnimationWithStepsMetadata(){e.call(this)}return tn(AnimationWithStepsMetadata,e),Object.defineProperty(AnimationWithStepsMetadata.prototype,"steps",{get:function(){throw new Error("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),AnimationWithStepsMetadata}(ln),dn=function(e){function AnimationSequenceMetadata(t){e.call(this),this._steps=t}return tn(AnimationSequenceMetadata,e),Object.defineProperty(AnimationSequenceMetadata.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),AnimationSequenceMetadata}(pn),fn=function(e){function AnimationGroupMetadata(t){e.call(this),this._steps=t}return tn(AnimationGroupMetadata,e),Object.defineProperty(AnimationGroupMetadata.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),AnimationGroupMetadata}(pn),mn=function(){function AnimationStyles(e){this.styles=e}return AnimationStyles}(),yn=function(){function DebugDomRootRenderer(e){this._delegate=e}return DebugDomRootRenderer.prototype.renderComponent=function(e){return new vn(this._delegate.renderComponent(e))},DebugDomRootRenderer}(),vn=function(){function DebugDomRenderer(e){this._delegate=e}return DebugDomRenderer.prototype.selectRootElement=function(e,t){var i=this._delegate.selectRootElement(e,t),n=new Vi(i,null,t);return indexDebugNode(n),i},DebugDomRenderer.prototype.createElement=function(e,t,i){var n=this._delegate.createElement(e,t,i),r=new Vi(n,getDebugNode(e),i);return r.name=t,indexDebugNode(r),n},DebugDomRenderer.prototype.createViewRoot=function(e){return this._delegate.createViewRoot(e)},DebugDomRenderer.prototype.createTemplateAnchor=function(e,t){var i=this._delegate.createTemplateAnchor(e,t),n=new Li(i,getDebugNode(e),t);return indexDebugNode(n),i},DebugDomRenderer.prototype.createText=function(e,t,i){var n=this._delegate.createText(e,t,i),r=new Li(n,getDebugNode(e),i);return indexDebugNode(r),n},DebugDomRenderer.prototype.projectNodes=function(e,t){var i=getDebugNode(e);if(isPresent(i)&&i instanceof Vi){var n=i;t.forEach(function(e){n.addChild(getDebugNode(e))})}this._delegate.projectNodes(e,t)},DebugDomRenderer.prototype.attachViewAfter=function(e,t){var i=getDebugNode(e);if(isPresent(i)){var n=i.parent;if(t.length>0&&isPresent(n)){var r=[];t.forEach(function(e){return r.push(getDebugNode(e))}),n.insertChildrenAfter(i,r)}}this._delegate.attachViewAfter(e,t)},DebugDomRenderer.prototype.detachView=function(e){e.forEach(function(e){var t=getDebugNode(e);isPresent(t)&&isPresent(t.parent)&&t.parent.removeChild(t)}),this._delegate.detachView(e)},DebugDomRenderer.prototype.destroyView=function(e,t){t.forEach(function(e){removeDebugNodeFromIndex(getDebugNode(e))}),this._delegate.destroyView(e,t)},DebugDomRenderer.prototype.listen=function(e,t,i){var n=getDebugNode(e);return isPresent(n)&&n.listeners.push(new Ni(t,i)),this._delegate.listen(e,t,i)},DebugDomRenderer.prototype.listenGlobal=function(e,t,i){return this._delegate.listenGlobal(e,t,i)},DebugDomRenderer.prototype.setElementProperty=function(e,t,i){var n=getDebugNode(e);isPresent(n)&&n instanceof Vi&&(n.properties[t]=i),this._delegate.setElementProperty(e,t,i)},DebugDomRenderer.prototype.setElementAttribute=function(e,t,i){var n=getDebugNode(e);isPresent(n)&&n instanceof Vi&&(n.attributes[t]=i),this._delegate.setElementAttribute(e,t,i)},DebugDomRenderer.prototype.setBindingDebugInfo=function(e,t,i){this._delegate.setBindingDebugInfo(e,t,i)},DebugDomRenderer.prototype.setElementClass=function(e,t,i){var n=getDebugNode(e);isPresent(n)&&n instanceof Vi&&(n.classes[t]=i),this._delegate.setElementClass(e,t,i)},DebugDomRenderer.prototype.setElementStyle=function(e,t,i){var n=getDebugNode(e);isPresent(n)&&n instanceof Vi&&(n.styles[t]=i),this._delegate.setElementStyle(e,t,i)},DebugDomRenderer.prototype.invokeElementMethod=function(e,t,i){this._delegate.invokeElementMethod(e,t,i)},DebugDomRenderer.prototype.setText=function(e,t){this._delegate.setText(e,t)},DebugDomRenderer.prototype.animate=function(e,t,i,n,r,o){return this._delegate.animate(e,t,i,n,r,o)},DebugDomRenderer}(),gn=function(){function StaticNodeDebugInfo(e,t,i){this.providerTokens=e,this.componentToken=t,this.refTokens=i}return StaticNodeDebugInfo}(),_n=function(){function DebugContext(e,t,i,n){this._view=e,this._nodeIndex=t,this._tplRow=i,this._tplCol=n}return Object.defineProperty(DebugContext.prototype,"_staticNodeInfo",{get:function(){return isPresent(this._nodeIndex)?this._view.staticNodeDebugInfos[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"component",{get:function(){var e=this._staticNodeInfo;return isPresent(e)&&isPresent(e.componentToken)?this.injector.get(e.componentToken):null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"componentRenderElement",{get:function(){for(var e=this._view;isPresent(e.declarationAppElement)&&e.type!==Ct.COMPONENT;)e=e.declarationAppElement.parentView;return isPresent(e.declarationAppElement)?e.declarationAppElement.nativeElement:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"injector",{get:function(){return this._view.injector(this._nodeIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"renderNode",{get:function(){return isPresent(this._nodeIndex)&&this._view.allNodes?this._view.allNodes[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"providerTokens",{get:function(){var e=this._staticNodeInfo;return isPresent(e)?e.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"source",{get:function(){return this._view.componentType.templateUrl+":"+this._tplRow+":"+this._tplCol},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"references",{get:function(){var e=this,t={},i=this._staticNodeInfo;if(isPresent(i)){var n=i.refTokens;Object.keys(n).forEach(function(i){var r,o=n[i];r=isBlank(o)?e._view.allNodes?e._view.allNodes[e._nodeIndex]:null:e._view.injectorGet(o,e._nodeIndex,null),t[i]=r})}return t},enumerable:!0,configurable:!0}),DebugContext}(),bn=function(){function AnimationTransitionEvent(e){var t=e.fromState,i=e.toState,n=e.totalTime;this.fromState=t,this.toState=i,this.totalTime=n}return AnimationTransitionEvent}(),wn=function(){function ViewAnimationMap(){this._map=new Map,this._allPlayers=[]}return Object.defineProperty(ViewAnimationMap.prototype,"length",{get:function(){return this.getAllPlayers().length},enumerable:!0,configurable:!0}),ViewAnimationMap.prototype.find=function(e,t){var i=this._map.get(e);if(isPresent(i))return i[t]},ViewAnimationMap.prototype.findAllPlayersByElement=function(e){var t=this._map.get(e);return t?Object.keys(t).map(function(e){return t[e]}):[]},ViewAnimationMap.prototype.set=function(e,t,i){var n=this._map.get(e);isPresent(n)||(n={});var r=n[t];isPresent(r)&&this.remove(e,t),n[t]=i,this._allPlayers.push(i),this._map.set(e,n)},ViewAnimationMap.prototype.getAllPlayers=function(){return this._allPlayers},ViewAnimationMap.prototype.remove=function(e,t){var i=this._map.get(e);if(i){var n=i[t];delete i[t];var r=this._allPlayers.indexOf(n);this._allPlayers.splice(r,1),0===Object.keys(i).length&&this._map.delete(e)}},ViewAnimationMap}(),Cn=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},xn=new Object,En=function(e){function ElementInjector(t,i){e.call(this),this._view=t,this._nodeIndex=i}return Cn(ElementInjector,e),ElementInjector.prototype.get=function(e,t){void 0===t&&(t=X);var i=xn;return i===xn&&(i=this._view.injectorGet(e,this._nodeIndex,xn)),i===xn&&(i=this._view.parentInjector.get(e,t)),i},ElementInjector}(Q),Sn=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},Pn=Pt("AppView#check(ascii id)"),kn=function(){function AppView(e,t,i,n,r,o,s){this.clazz=e,this.componentType=t,this.type=i,this.viewUtils=n,this.parentInjector=r,this.declarationAppElement=o,this.cdMode=s,this.contentChildren=[],this.viewChildren=[],this.viewContainerElement=null,this.numberOfChecks=0,this.animationPlayers=new wn,this._animationListeners=new Map,this.ref=new Ii(this),i===Ct.COMPONENT||i===Ct.HOST?this.renderer=n.renderComponent(t):this.renderer=o.parentView.renderer}return Object.defineProperty(AppView.prototype,"destroyed",{get:function(){return this.cdMode===x.Destroyed},enumerable:!0,configurable:!0}),AppView.prototype.cancelActiveAnimation=function(e,t,i){if(void 0===i&&(i=!1),i)this.animationPlayers.findAllPlayersByElement(e).forEach(function(e){return e.destroy()});else{var n=this.animationPlayers.find(e,t);isPresent(n)&&n.destroy()}},AppView.prototype.queueAnimation=function(e,t,i,n,r,o){var s=this;queueAnimation(i);var a=new bn({fromState:r,toState:o,totalTime:n});this.animationPlayers.set(e,t,i),i.onDone(function(){s.triggerAnimationOutput(e,t,"done",a),s.animationPlayers.remove(e,t)}),i.onStart(function(){s.triggerAnimationOutput(e,t,"start",a)})},AppView.prototype.triggerAnimationOutput=function(e,t,i,n){var r=this._animationListeners.get(e);if(isPresent(r)&&r.length)for(var o=0;o<r.length;o++){var s=r[o];if(s.eventName===t&&s.eventPhase===i){s.handler(n);break}}},AppView.prototype.registerAnimationOutput=function(e,t,i,n){var r=this._animationListeners.get(e);isPresent(r)||this._animationListeners.set(e,r=[]),r.push(new An(t,i,n))},AppView.prototype.create=function(e,t,i){this.context=e;var n;switch(this.type){case Ct.COMPONENT:n=ensureSlotCount(t,this.componentType.slotCount);break;case Ct.EMBEDDED:n=this.declarationAppElement.parentView.projectableNodes;break;case Ct.HOST:n=t}return this._hasExternalHostElement=isPresent(i),this.projectableNodes=n,this.createInternal(i)},AppView.prototype.createInternal=function(e){return null},AppView.prototype.init=function(e,t,i,n){this.rootNodesOrAppElements=e,this.allNodes=t,this.disposables=i,this.subscriptions=n,this.type===Ct.COMPONENT&&(this.declarationAppElement.parentView.viewChildren.push(this),this.dirtyParentQueriesInternal())},AppView.prototype.selectOrCreateHostElement=function(e,t,i){var n;return n=isPresent(t)?this.renderer.selectRootElement(t,i):this.renderer.createElement(null,e,i)},AppView.prototype.injectorGet=function(e,t,i){return this.injectorGetInternal(e,t,i)},AppView.prototype.injectorGetInternal=function(e,t,i){return i},AppView.prototype.injector=function(e){return isPresent(e)?new En(this,e):this.parentInjector},AppView.prototype.destroy=function(){this._hasExternalHostElement?this.renderer.detachView(this.flatRootNodes):isPresent(this.viewContainerElement)&&this.viewContainerElement.detachView(this.viewContainerElement.nestedViews.indexOf(this)),this._destroyRecurse()},AppView.prototype._destroyRecurse=function(){if(this.cdMode!==x.Destroyed){for(var e=this.contentChildren,t=0;t<e.length;t++)e[t]._destroyRecurse();e=this.viewChildren;for(var t=0;t<e.length;t++)e[t]._destroyRecurse();this.destroyLocal(),this.cdMode=x.Destroyed}},AppView.prototype.destroyLocal=function(){for(var e=this,t=this.type===Ct.COMPONENT?this.declarationAppElement.nativeElement:null,i=0;i<this.disposables.length;i++)this.disposables[i]();for(var i=0;i<this.subscriptions.length;i++)this.subscriptions[i].unsubscribe();if(this.destroyInternal(),this.dirtyParentQueriesInternal(),0==this.animationPlayers.length)this.renderer.destroyView(t,this.allNodes);else{var n=new Zi(this.animationPlayers.getAllPlayers());n.onDone(function(){e.renderer.destroyView(t,e.allNodes)})}},AppView.prototype.destroyInternal=function(){},AppView.prototype.detachInternal=function(){},AppView.prototype.detach=function(){var e=this;if(this.detachInternal(),0==this.animationPlayers.length)this.renderer.detachView(this.flatRootNodes);else{var t=new Zi(this.animationPlayers.getAllPlayers());t.onDone(function(){e.renderer.detachView(e.flatRootNodes)})}},Object.defineProperty(AppView.prototype,"changeDetectorRef",{get:function(){return this.ref},enumerable:!0,configurable:!0}),Object.defineProperty(AppView.prototype,"parent",{get:function(){return isPresent(this.declarationAppElement)?this.declarationAppElement.parentView:null},enumerable:!0,configurable:!0}),Object.defineProperty(AppView.prototype,"flatRootNodes",{get:function(){return flattenNestedViewRenderNodes(this.rootNodesOrAppElements)},enumerable:!0,configurable:!0}),Object.defineProperty(AppView.prototype,"lastRootNode",{get:function(){var e=this.rootNodesOrAppElements.length>0?this.rootNodesOrAppElements[this.rootNodesOrAppElements.length-1]:null;return _findLastRenderNode(e)},enumerable:!0,configurable:!0}),AppView.prototype.dirtyParentQueriesInternal=function(){},AppView.prototype.detectChanges=function(e){var t=Pn(this.clazz);this.cdMode!==x.Checked&&this.cdMode!==x.Errored&&(this.cdMode===x.Destroyed&&this.throwDestroyedError("detectChanges"),this.detectChangesInternal(e),this.cdMode===x.CheckOnce&&(this.cdMode=x.Checked),this.numberOfChecks++,kt(t))},AppView.prototype.detectChangesInternal=function(e){this.detectContentChildrenChanges(e),this.detectViewChildrenChanges(e)},AppView.prototype.detectContentChildrenChanges=function(e){for(var t=0;t<this.contentChildren.length;++t){var i=this.contentChildren[t];i.cdMode!==x.Detached&&i.detectChanges(e)}},AppView.prototype.detectViewChildrenChanges=function(e){for(var t=0;t<this.viewChildren.length;++t){var i=this.viewChildren[t];i.cdMode!==x.Detached&&i.detectChanges(e)}},AppView.prototype.markContentChildAsMoved=function(e){this.dirtyParentQueriesInternal()},AppView.prototype.addToContentChildren=function(e){e.parentView.contentChildren.push(this),this.viewContainerElement=e,this.dirtyParentQueriesInternal()},AppView.prototype.removeFromContentChildren=function(e){ie.remove(e.parentView.contentChildren,this),this.dirtyParentQueriesInternal(),this.viewContainerElement=null},AppView.prototype.markAsCheckOnce=function(){this.cdMode=x.CheckOnce},AppView.prototype.markPathToRootAsCheckOnce=function(){for(var e=this;isPresent(e)&&e.cdMode!==x.Detached;){e.cdMode===x.Checked&&(e.cdMode=x.CheckOnce);var t=e.type===Ct.COMPONENT?e.declarationAppElement:e.viewContainerElement;e=isPresent(t)?t.parentView:null}},AppView.prototype.eventHandler=function(e){return e},AppView.prototype.throwDestroyedError=function(e){throw new Vt(e)},AppView}(),Tn=function(e){function DebugAppView(t,i,n,r,o,s,a,l){e.call(this,t,i,n,r,o,s,a),this.staticNodeDebugInfos=l,this._currentDebugContext=null}return Sn(DebugAppView,e),DebugAppView.prototype.create=function(t,i,n){this._resetDebug();try{return e.prototype.create.call(this,t,i,n)}catch(r){throw this._rethrowWithContext(r),r}},DebugAppView.prototype.injectorGet=function(t,i,n){this._resetDebug();try{return e.prototype.injectorGet.call(this,t,i,n)}catch(r){throw this._rethrowWithContext(r),r}},DebugAppView.prototype.detach=function(){this._resetDebug();try{e.prototype.detach.call(this)}catch(t){throw this._rethrowWithContext(t),t}},DebugAppView.prototype.destroyLocal=function(){this._resetDebug();try{e.prototype.destroyLocal.call(this)}catch(t){throw this._rethrowWithContext(t),t}},DebugAppView.prototype.detectChanges=function(t){this._resetDebug();try{e.prototype.detectChanges.call(this,t)}catch(i){throw this._rethrowWithContext(i),i}},DebugAppView.prototype._resetDebug=function(){this._currentDebugContext=null},DebugAppView.prototype.debug=function(e,t,i){return this._currentDebugContext=new _n(this,e,t,i)},DebugAppView.prototype._rethrowWithContext=function(e){if(!(e instanceof Lt)&&(e instanceof Nt||(this.cdMode=x.Errored),isPresent(this._currentDebugContext)))throw new Lt(e,this._currentDebugContext)},DebugAppView.prototype.eventHandler=function(t){var i=this,n=e.prototype.eventHandler.call(this,t);return function(e){i._resetDebug();try{return n(e)}catch(t){throw i._rethrowWithContext(t),t}}},DebugAppView}(kn),An=function(){function _AnimationOutputHandler(e,t,i){this.eventName=e,this.eventPhase=t,this.handler=i}return _AnimationOutputHandler}(),Dn={isDefaultChangeDetectionStrategy:isDefaultChangeDetectionStrategy,ChangeDetectorStatus:x,constructDependencies:constructDependencies,LifecycleHooks:E,LIFECYCLE_HOOKS_VALUES:O,ReflectorReader:ve,CodegenComponentFactoryResolver:Jt,AppElement:It,AppView:kn,DebugAppView:Tn,NgModuleInjector:vi,registerModuleFactory:registerModuleFactory,ViewType:Ct,MAX_INTERPOLATION_VALUES:Bt,checkBinding:checkBinding,flattenNestedViewRenderNodes:flattenNestedViewRenderNodes,interpolate:interpolate,ViewUtils:Ft,ViewMetadata:G,DebugContext:_n,StaticNodeDebugInfo:gn,devModeEqual:devModeEqual,UNINITIALIZED:at,ValueUnwrapper:ut,RenderDebugInfo:vt,TemplateRef_:Ti,ReflectionCapabilities:ye,makeDecorator:makeDecorator,DebugDomRootRenderer:yn,EMPTY_ARRAY:zt,EMPTY_MAP:Ht,pureProxy1:pureProxy1,pureProxy2:pureProxy2,pureProxy3:pureProxy3,pureProxy4:pureProxy4,pureProxy5:pureProxy5,pureProxy6:pureProxy6,pureProxy7:pureProxy7,pureProxy8:pureProxy8,pureProxy9:pureProxy9,pureProxy10:pureProxy10,castByValue:castByValue,Console:We,reflector:be,Reflector:_e,NoOpAnimationPlayer:$i,AnimationPlayer:Ji,AnimationSequencePlayer:en,AnimationGroupPlayer:Zi,AnimationKeyframe:Qi,prepareFinalAnimationStyles:prepareFinalAnimationStyles,balanceAnimationKeyframes:balanceAnimationKeyframes,flattenStyles:flattenStyles,clearStyles:clearStyles,renderStyles:renderStyles,collectAndResolveStyles:collectAndResolveStyles,AnimationStyles:mn,ANY_STATE:qi,DEFAULT_STATE:Yi,EMPTY_STATE:Ki,FILL_STYLE_FLAG:Ui,ComponentStillLoadingError:Ue,isPromise:isPromise};t.createPlatform=createPlatform,t.assertPlatform=assertPlatform,t.destroyPlatform=destroyPlatform,t.getPlatform=getPlatform,t.PlatformRef=ui,t.ApplicationRef=hi,t.enableProdMode=enableProdMode,t.isDevMode=isDevMode,t.createPlatformFactory=createPlatformFactory,t.APP_ID=Fe,t.PACKAGE_ROOT_URL=He,t.PLATFORM_INITIALIZER=Be,t.APP_BOOTSTRAP_LISTENER=ze,t.APP_INITIALIZER=Le,t.ApplicationInitStatus=Ve,t.DebugElement=Vi,t.DebugNode=Li,t.asNativeElements=asNativeElements,t.getDebugNode=getDebugNode,t.Testability=ii,t.TestabilityRegistry=ni,t.setTestabilityGetter=setTestabilityGetter,t.TRANSLATIONS=Hi,t.TRANSLATIONS_FORMAT=Wi,t.LOCALE_ID=zi,t.ApplicationModule=Gi,t.wtfCreateScope=Pt,t.wtfLeave=kt,t.wtfStartTimeRange=Tt,t.wtfEndTimeRange=At,t.Type=me,t.EventEmitter=ei,t.ErrorHandler=Ne,t.AnimationTransitionEvent=bn,t.AnimationPlayer=Ji,t.Sanitizer=xt,t.ANALYZE_FOR_ENTRY_COMPONENTS=y,t.Attribute=v,t.ContentChild=b,t.ContentChildren=_,t.Query=g,t.ViewChild=C,t.ViewChildren=w,t.Component=P,t.Directive=S,t.HostBinding=D,t.HostListener=M,t.Input=T,t.Output=A,t.Pipe=k,t.AfterContentChecked=F,t.AfterContentInit=V,t.AfterViewChecked=B,t.AfterViewInit=j,t.DoCheck=N,t.OnChanges=I,t.OnDestroy=L,t.OnInit=R,t.CUSTOM_ELEMENTS_SCHEMA=z,t.NO_ERRORS_SCHEMA=H,t.NgModule=W,t.Class=Class,t.forwardRef=forwardRef,t.resolveForwardRef=resolveForwardRef,t.Injector=Q,t.ReflectiveInjector=Oe,t.ResolvedReflectiveFactory=Ee,t.ReflectiveKey=pe,t.OpaqueToken=m,t.Inject=u,t.Optional=c,t.Injectable=h,t.Self=p,t.SkipSelf=d,t.Host=f,t.NgZone=ti,t.RenderComponentType=yt,t.Renderer=gt,t.RootRenderer=_t,t.COMPILER_OPTIONS=Ke,t.Compiler=Ye,t.CompilerFactory=Xe,t.ModuleWithComponentFactories=qe,t.ComponentFactory=Yt,t.ComponentRef=Gt,t.ComponentFactoryResolver=Qt,t.ElementRef=Et,t.NgModuleFactory=mi,t.NgModuleRef=fi,t.NgModuleFactoryLoader=gi,t.getModuleFactory=getModuleFactory,t.QueryList=bi,t.SystemJsNgModuleLoader=Si,t.SystemJsNgModuleLoaderConfig=xi,t.TemplateRef=ki,t.ViewContainerRef=Dt,t.EmbeddedViewRef=Oi,t.ViewRef=Mi,t.ChangeDetectorRef=ht,t.CollectionChangeRecord=$e,t.DefaultIterableDiffer=Je,t.IterableDiffers=ot,t.KeyValueChangeRecord=rt,t.KeyValueDiffers=st,t.SimpleChange=ct,t.WrappedValue=lt,t.platformCore=Bi,t.__core_private__=Dn,t.AUTO_STYLE=nn,t.AnimationEntryMetadata=rn,t.AnimationStateMetadata=on,t.AnimationStateDeclarationMetadata=sn,t.AnimationStateTransitionMetadata=an,t.AnimationMetadata=ln,t.AnimationKeyframesSequenceMetadata=un,t.AnimationStyleMetadata=cn,t.AnimationAnimateMetadata=hn,t.AnimationWithStepsMetadata=pn,t.AnimationSequenceMetadata=dn,t.AnimationGroupMetadata=fn,t.animate=animate,t.group=group,t.sequence=sequence,t.style=style,t.state=state,t.keyframes=keyframes,t.transition=transition,t.trigger=trigger})}).call(t,function(){return this}())},74:function(e,t,i){!function(e,n){n(t,i(13),i(126),i(76),i(41),i(125))}(this,function(e,t,i,n,r,o){"use strict";function isPresent(e){return void 0!==e&&null!==e}function isBlank(e){return void 0===e||null===e}function isString(e){return"string"==typeof e}function isStringMap(e){return"object"==typeof e&&null!==e}function isArray(e){return Array.isArray(e)}function looseIdentical(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function normalizeBool(e){return!isBlank(e)&&e}function isJsObject(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function isPrimitive(e){return!isJsObject(e)}function hasConstructor(e,t){return e.constructor===t}function _flattenArray(e,t){if(isPresent(e))for(var i=0;i<e.length;i++){var n=e[i];isArray(n)?_flattenArray(n,t):t.push(n)}return t}function isEmptyInputValue(e){return null==e||"string"==typeof e&&0===e.length}function _convertToPromise(e){return f(e)?e:i.toPromise.call(e)}function _executeValidators(e,t){return t.map(function(t){return t(e)})}function _executeAsyncValidators(e,t){return t.map(function(t){return t(e)})}function _mergeErrors(e){var t=e.reduce(function(e,t){return isPresent(t)?p.merge(e,t):e},{});return 0===Object.keys(t).length?null:t}function normalizeValidator(e){return void 0!==e.validate?function(t){return e.validate(t)}:e}function normalizeAsyncValidator(e){return void 0!==e.validate?function(t){return e.validate(t)}:e}function unimplemented(){throw new Error("unimplemented")}function _buildValueString(e,t){return isBlank(e)?""+t:(isPrimitive(t)||(t="Object"),(e+": "+t).slice(0,50))}function _extractId(e){return e.split(":")[0]}function _buildValueString$1(e,t){return isBlank(e)?""+t:(isString(t)&&(t="'"+t+"'"),isPrimitive(t)||(t="Object"),(e+": "+t).slice(0,50))}function _extractId$1(e){return e.split(":")[0]}function controlPath(e,t){var i=d.clone(t.path);return i.push(e),i}function setUpControl(e,t){e||_throwError(t,"Cannot find control with"),t.valueAccessor||_throwError(t,"No value accessor for form control with"),e.validator=v.compose([e.validator,t.validator]),e.asyncValidator=v.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),t.valueAccessor.registerOnChange(function(i){t.viewToModelUpdate(i),e.markAsDirty(),e.setValue(i,{emitModelToViewChange:!1})}),t.valueAccessor.registerOnTouched(function(){return e.markAsTouched()}),e.registerOnChange(function(e,i){t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)}),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(function(e){t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})}),t._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})})}function cleanUpControl(e,t){t.valueAccessor.registerOnChange(function(){return _noControlError(t)}),t.valueAccessor.registerOnTouched(function(){return _noControlError(t)}),t._rawValidators.forEach(function(e){return e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(function(e){return e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}function setUpFormContainer(e,t){isBlank(e)&&_throwError(t,"Cannot find control with"),e.validator=v.compose([e.validator,t.validator]),e.asyncValidator=v.composeAsync([e.asyncValidator,t.asyncValidator])}function _noControlError(e){return _throwError(e,"There is no FormControl instance attached to form control element with");
}function _throwError(e,t){var i;throw i=e.path.length>1?"path: '"+e.path.join(" -> ")+"'":e.path[0]?"name: '"+e.path+"'":"unspecified name attribute",new Error(t+" "+i)}function composeValidators(e){return isPresent(e)?v.compose(e.map(normalizeValidator)):null}function composeAsyncValidators(e){return isPresent(e)?v.composeAsync(e.map(normalizeAsyncValidator)):null}function isPropertyUpdated(e,t){if(!e.hasOwnProperty("model"))return!1;var i=e.model;return!!i.isFirstChange()||!looseIdentical(t,i.currentValue)}function isBuiltInAccessor(e){return hasConstructor(e,b)||hasConstructor(e,E)||hasConstructor(e,M)||hasConstructor(e,R)||hasConstructor(e,A)}function selectValueAccessor(e,t){if(!t)return null;var i,n,r;return t.forEach(function(t){hasConstructor(t,C)?i=t:isBuiltInAccessor(t)?(isPresent(n)&&_throwError(e,"More than one built-in value accessor matches form control with"),n=t):(isPresent(r)&&_throwError(e,"More than one custom value accessor matches form control with"),r=t)}),isPresent(r)?r:isPresent(n)?n:isPresent(i)?i:(_throwError(e,"No valid value accessor for form control with"),null)}function _find(e,t,i){return isBlank(t)?null:(t instanceof Array||(t=t.split(i)),t instanceof Array&&d.isEmpty(t)?null:t.reduce(function(e,t){return e instanceof J?e.controls[t]||null:e instanceof $?e.at(t)||null:null},e))}function toObservable(e){return f(e)?o.fromPromise(e):e}function coerceToValidator(e){return Array.isArray(e)?composeValidators(e):e}function coerceToAsyncValidator(e){return Array.isArray(e)?composeAsyncValidators(e):e}function _hasInvalidParent(e){return!(e instanceof Ce||e instanceof _e||e instanceof Ee)}var s=(function(){function NumberWrapper(){}return NumberWrapper.toFixed=function(e,t){return e.toFixed(t)},NumberWrapper.equal=function(e,t){return e===t},NumberWrapper.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},NumberWrapper.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var i=parseInt(e,t);if(!isNaN(i))return i}throw new Error("Invalid integer literal when parsing "+e+" in base "+t)},Object.defineProperty(NumberWrapper,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),NumberWrapper.isNumeric=function(e){return!isNaN(e-parseFloat(e))},NumberWrapper.isNaN=function(e){return isNaN(e)},NumberWrapper.isInteger=function(e){return Number.isInteger(e)},NumberWrapper}(),function(){function AbstractControlDirective(){}return Object.defineProperty(AbstractControlDirective.prototype,"control",{get:function(){throw new Error("unimplemented")},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"value",{get:function(){return isPresent(this.control)?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"valid",{get:function(){return isPresent(this.control)?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"invalid",{get:function(){return isPresent(this.control)?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"pending",{get:function(){return isPresent(this.control)?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"errors",{get:function(){return isPresent(this.control)?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"pristine",{get:function(){return isPresent(this.control)?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"dirty",{get:function(){return isPresent(this.control)?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"touched",{get:function(){return isPresent(this.control)?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"untouched",{get:function(){return isPresent(this.control)?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"disabled",{get:function(){return isPresent(this.control)?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"enabled",{get:function(){return isPresent(this.control)?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"statusChanges",{get:function(){return isPresent(this.control)?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"valueChanges",{get:function(){return isPresent(this.control)?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),AbstractControlDirective.prototype.reset=function(e){void 0===e&&(e=void 0),isPresent(this.control)&&this.control.reset(e)},AbstractControlDirective}()),a=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},l=function(e){function ControlContainer(){e.apply(this,arguments)}return a(ControlContainer,e),Object.defineProperty(ControlContainer.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(ControlContainer.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),ControlContainer}(s),u=function(){try{if(1===new Map([[1,2]]).size)return function(e){return new Map(e)}}catch(e){}return function(e){for(var t=new Map,i=0;i<e.length;i++){var n=e[i];t.set(n[0],n[1])}return t}}(),c=(function(){return(new Map).keys().next?function(e){for(var t,i=e.keys();!(t=i.next()).done;)e.set(t.value,null)}:function(e){e.forEach(function(t,i){e.set(i,null)})}}(),function(){try{if((new Map).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var i=new Array(e.size),n=0;return e.forEach(function(e,r){i[n]=t?e:r,n++}),i}}()),h=function(){function MapWrapper(){}return MapWrapper.createFromStringMap=function(e){var t=new Map;for(var i in e)t.set(i,e[i]);return t},MapWrapper.toStringMap=function(e){var t={};return e.forEach(function(e,i){return t[i]=e}),t},MapWrapper.createFromPairs=function(e){return u(e)},MapWrapper.iterable=function(e){return e},MapWrapper.keys=function(e){return c(e,!1)},MapWrapper.values=function(e){return c(e,!0)},MapWrapper}(),p=function(){function StringMapWrapper(){}return StringMapWrapper.merge=function(e,t){for(var i={},n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];i[o]=e[o]}for(var s=0,a=Object.keys(t);s<a.length;s++){var o=a[s];i[o]=t[o]}return i},StringMapWrapper.equals=function(e,t){var i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(var r=0;r<i.length;r++){var o=i[r];if(e[o]!==t[o])return!1}return!0},StringMapWrapper}(),d=function(){function ListWrapper(){}return ListWrapper.createFixedSize=function(e){return new Array(e)},ListWrapper.createGrowableSize=function(e){return new Array(e)},ListWrapper.clone=function(e){return e.slice(0)},ListWrapper.forEachWithIndex=function(e,t){for(var i=0;i<e.length;i++)t(e[i],i)},ListWrapper.first=function(e){return e?e[0]:null},ListWrapper.last=function(e){return e&&0!=e.length?e[e.length-1]:null},ListWrapper.indexOf=function(e,t,i){return void 0===i&&(i=0),e.indexOf(t,i)},ListWrapper.contains=function(e,t){return e.indexOf(t)!==-1},ListWrapper.reversed=function(e){var t=ListWrapper.clone(e);return t.reverse()},ListWrapper.concat=function(e,t){return e.concat(t)},ListWrapper.insert=function(e,t,i){e.splice(t,0,i)},ListWrapper.removeAt=function(e,t){var i=e[t];return e.splice(t,1),i},ListWrapper.removeAll=function(e,t){for(var i=0;i<t.length;++i){var n=e.indexOf(t[i]);e.splice(n,1)}},ListWrapper.remove=function(e,t){var i=e.indexOf(t);return i>-1&&(e.splice(i,1),!0)},ListWrapper.clear=function(e){e.length=0},ListWrapper.isEmpty=function(e){return 0==e.length},ListWrapper.fill=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=null),e.fill(t,i,null===n?e.length:n)},ListWrapper.equals=function(e,t){if(e.length!=t.length)return!1;for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0},ListWrapper.slice=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=null),e.slice(t,null===i?void 0:i)},ListWrapper.splice=function(e,t,i){return e.splice(t,i)},ListWrapper.sort=function(e,t){isPresent(t)?e.sort(t):e.sort()},ListWrapper.toString=function(e){return e.toString()},ListWrapper.toJSON=function(e){return JSON.stringify(e)},ListWrapper.maximum=function(e,t){if(0==e.length)return null;for(var i=null,n=-(1/0),r=0;r<e.length;r++){var o=e[r];if(!isBlank(o)){var s=t(o);s>n&&(i=o,n=s)}}return i},ListWrapper.flatten=function(e){var t=[];return _flattenArray(e,t),t},ListWrapper.addAll=function(e,t){for(var i=0;i<t.length;i++)e.push(t[i])},ListWrapper}(),f=t.__core_private__.isPromise,m=new t.OpaqueToken("NgValidators"),y=new t.OpaqueToken("NgAsyncValidators"),v=function(){function Validators(){}return Validators.required=function(e){return isEmptyInputValue(e.value)?{required:!0}:null},Validators.minLength=function(e){return function(t){if(isEmptyInputValue(t.value))return null;var i="string"==typeof t.value?t.value.length:0;return i<e?{minlength:{requiredLength:e,actualLength:i}}:null}},Validators.maxLength=function(e){return function(t){var i="string"==typeof t.value?t.value.length:0;return i>e?{maxlength:{requiredLength:e,actualLength:i}}:null}},Validators.pattern=function(e){return function(t){if(isEmptyInputValue(t.value))return null;var i=new RegExp("^"+e+"$"),n=t.value;return i.test(n)?null:{pattern:{requiredPattern:"^"+e+"$",actualValue:n}}}},Validators.nullValidator=function(e){return null},Validators.compose=function(e){if(!e)return null;var t=e.filter(isPresent);return 0==t.length?null:function(e){return _mergeErrors(_executeValidators(e,t))}},Validators.composeAsync=function(e){if(!e)return null;var t=e.filter(isPresent);return 0==t.length?null:function(e){var i=_executeAsyncValidators(e,t).map(_convertToPromise);return Promise.all(i).then(_mergeErrors)}},Validators}(),g=new t.OpaqueToken("NgValueAccessor"),_={provide:g,useExisting:t.forwardRef(function(){return b}),multi:!0},b=function(){function CheckboxControlValueAccessor(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return CheckboxControlValueAccessor.prototype.writeValue=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",e)},CheckboxControlValueAccessor.prototype.registerOnChange=function(e){this.onChange=e},CheckboxControlValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},CheckboxControlValueAccessor.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},CheckboxControlValueAccessor.decorators=[{type:t.Directive,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[_]}]}],CheckboxControlValueAccessor.ctorParameters=[{type:t.Renderer},{type:t.ElementRef}],CheckboxControlValueAccessor}(),w={provide:g,useExisting:t.forwardRef(function(){return C}),multi:!0},C=function(){function DefaultValueAccessor(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return DefaultValueAccessor.prototype.writeValue=function(e){var t=isBlank(e)?"":e;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},DefaultValueAccessor.prototype.registerOnChange=function(e){this.onChange=e},DefaultValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},DefaultValueAccessor.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},DefaultValueAccessor.decorators=[{type:t.Directive,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[w]}]}],DefaultValueAccessor.ctorParameters=[{type:t.Renderer},{type:t.ElementRef}],DefaultValueAccessor}(),x={provide:g,useExisting:t.forwardRef(function(){return E}),multi:!0},E=function(){function NumberValueAccessor(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return NumberValueAccessor.prototype.writeValue=function(e){var t=isBlank(e)?"":e;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},NumberValueAccessor.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},NumberValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},NumberValueAccessor.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},NumberValueAccessor.decorators=[{type:t.Directive,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[x]}]}],NumberValueAccessor.ctorParameters=[{type:t.Renderer},{type:t.ElementRef}],NumberValueAccessor}(),S=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},P=function(e){function NgControl(){e.apply(this,arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}return S(NgControl,e),Object.defineProperty(NgControl.prototype,"validator",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(NgControl.prototype,"asyncValidator",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),NgControl}(s),k={provide:g,useExisting:t.forwardRef(function(){return A}),multi:!0},T=function(){function RadioControlRegistry(){this._accessors=[]}return RadioControlRegistry.prototype.add=function(e,t){this._accessors.push([e,t])},RadioControlRegistry.prototype.remove=function(e){for(var t=-1,i=0;i<this._accessors.length;++i)this._accessors[i][1]===e&&(t=i);d.removeAt(this._accessors,t)},RadioControlRegistry.prototype.select=function(e){var t=this;this._accessors.forEach(function(i){t._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})},RadioControlRegistry.prototype._isSameGroup=function(e,t){return!!e[0].control&&(e[0]._parent===t._control._parent&&e[1].name===t.name)},RadioControlRegistry.decorators=[{type:t.Injectable}],RadioControlRegistry.ctorParameters=[],RadioControlRegistry}(),A=function(){function RadioControlValueAccessor(e,t,i,n){this._renderer=e,this._elementRef=t,this._registry=i,this._injector=n,this.onChange=function(){},this.onTouched=function(){}}return RadioControlValueAccessor.prototype.ngOnInit=function(){this._control=this._injector.get(P),this._checkName(),this._registry.add(this._control,this)},RadioControlValueAccessor.prototype.ngOnDestroy=function(){this._registry.remove(this)},RadioControlValueAccessor.prototype.writeValue=function(e){this._state=e===this.value,this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",this._state)},RadioControlValueAccessor.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}},RadioControlValueAccessor.prototype.fireUncheck=function(e){this.writeValue(e)},RadioControlValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},RadioControlValueAccessor.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},RadioControlValueAccessor.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},RadioControlValueAccessor.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},RadioControlValueAccessor.decorators=[{type:t.Directive,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[k]}]}],RadioControlValueAccessor.ctorParameters=[{type:t.Renderer},{type:t.ElementRef},{type:T},{type:t.Injector}],RadioControlValueAccessor.propDecorators={name:[{type:t.Input}],formControlName:[{type:t.Input}],value:[{type:t.Input}]},RadioControlValueAccessor}(),D={provide:g,useExisting:t.forwardRef(function(){return M}),multi:!0},M=function(){function SelectControlValueAccessor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){}}return SelectControlValueAccessor.prototype.writeValue=function(e){this.value=e;var t=_buildValueString(this._getOptionId(e),e);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},SelectControlValueAccessor.prototype.registerOnChange=function(e){var t=this;this.onChange=function(i){t.value=i,e(t._getOptionValue(i))}},SelectControlValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},SelectControlValueAccessor.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},SelectControlValueAccessor.prototype._registerOption=function(){return(this._idCounter++).toString()},SelectControlValueAccessor.prototype._getOptionId=function(e){for(var t=0,i=h.keys(this._optionMap);t<i.length;t++){var n=i[t];if(looseIdentical(this._optionMap.get(n),e))return n}return null},SelectControlValueAccessor.prototype._getOptionValue=function(e){var t=this._optionMap.get(_extractId(e));return isPresent(t)?t:e},SelectControlValueAccessor.decorators=[{type:t.Directive,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[D]}]}],SelectControlValueAccessor.ctorParameters=[{type:t.Renderer},{type:t.ElementRef}],SelectControlValueAccessor}(),O=function(){function NgSelectOption(e,t,i){this._element=e,this._renderer=t,this._select=i,isPresent(this._select)&&(this.id=this._select._registerOption())}return Object.defineProperty(NgSelectOption.prototype,"ngValue",{set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(_buildValueString(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(NgSelectOption.prototype,"value",{set:function(e){this._setElementValue(e),isPresent(this._select)&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),NgSelectOption.prototype._setElementValue=function(e){this._renderer.setElementProperty(this._element.nativeElement,"value",e)},NgSelectOption.prototype.ngOnDestroy=function(){isPresent(this._select)&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},NgSelectOption.decorators=[{type:t.Directive,args:[{selector:"option"}]}],NgSelectOption.ctorParameters=[{type:t.ElementRef},{type:t.Renderer},{type:M,decorators:[{type:t.Optional},{type:t.Host}]}],NgSelectOption.propDecorators={ngValue:[{type:t.Input,args:["ngValue"]}],value:[{type:t.Input,args:["value"]}]},NgSelectOption}(),I={provide:g,useExisting:t.forwardRef(function(){return R}),multi:!0},R=function(){function SelectMultipleControlValueAccessor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){}}return SelectMultipleControlValueAccessor.prototype.writeValue=function(e){var t=this;if(this.value=e,null!=e){var i=e,n=i.map(function(e){return t._getOptionId(e)});this._optionMap.forEach(function(e,t){e._setSelected(n.indexOf(t.toString())>-1)})}},SelectMultipleControlValueAccessor.prototype.registerOnChange=function(e){var t=this;this.onChange=function(i){var n=[];if(i.hasOwnProperty("selectedOptions"))for(var r=i.selectedOptions,o=0;o<r.length;o++){var s=r.item(o),a=t._getOptionValue(s.value);n.push(a)}else for(var r=i.options,o=0;o<r.length;o++){var s=r.item(o);if(s.selected){var a=t._getOptionValue(s.value);n.push(a)}}e(n)}},SelectMultipleControlValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},SelectMultipleControlValueAccessor.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},SelectMultipleControlValueAccessor.prototype._registerOption=function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t},SelectMultipleControlValueAccessor.prototype._getOptionId=function(e){for(var t=0,i=h.keys(this._optionMap);t<i.length;t++){var n=i[t];if(looseIdentical(this._optionMap.get(n)._value,e))return n}return null},SelectMultipleControlValueAccessor.prototype._getOptionValue=function(e){var t=this._optionMap.get(_extractId$1(e));return isPresent(t)?t._value:e},SelectMultipleControlValueAccessor.decorators=[{type:t.Directive,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[I]}]}],SelectMultipleControlValueAccessor.ctorParameters=[{type:t.Renderer},{type:t.ElementRef}],SelectMultipleControlValueAccessor}(),N=function(){function NgSelectMultipleOption(e,t,i){this._element=e,this._renderer=t,this._select=i,isPresent(this._select)&&(this.id=this._select._registerOption(this))}return Object.defineProperty(NgSelectMultipleOption.prototype,"ngValue",{set:function(e){null!=this._select&&(this._value=e,this._setElementValue(_buildValueString$1(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(NgSelectMultipleOption.prototype,"value",{set:function(e){isPresent(this._select)?(this._value=e,this._setElementValue(_buildValueString$1(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)},enumerable:!0,configurable:!0}),NgSelectMultipleOption.prototype._setElementValue=function(e){this._renderer.setElementProperty(this._element.nativeElement,"value",e)},NgSelectMultipleOption.prototype._setSelected=function(e){this._renderer.setElementProperty(this._element.nativeElement,"selected",e)},NgSelectMultipleOption.prototype.ngOnDestroy=function(){isPresent(this._select)&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},NgSelectMultipleOption.decorators=[{type:t.Directive,args:[{selector:"option"}]}],NgSelectMultipleOption.ctorParameters=[{type:t.ElementRef},{type:t.Renderer},{type:R,decorators:[{type:t.Optional},{type:t.Host}]}],NgSelectMultipleOption.propDecorators={ngValue:[{type:t.Input,args:["ngValue"]}],value:[{type:t.Input,args:["value"]}]},NgSelectMultipleOption}(),L=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},V=function(e){function AbstractFormGroupDirective(){e.apply(this,arguments)}return L(AbstractFormGroupDirective,e),AbstractFormGroupDirective.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},AbstractFormGroupDirective.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(AbstractFormGroupDirective.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractFormGroupDirective.prototype,"path",{get:function(){return controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractFormGroupDirective.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractFormGroupDirective.prototype,"validator",{get:function(){return composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractFormGroupDirective.prototype,"asyncValidator",{get:function(){return composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),AbstractFormGroupDirective.prototype._checkParentType=function(){},AbstractFormGroupDirective}(l),F=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},j=function(){function AbstractControlStatus(e){this._cd=e}return Object.defineProperty(AbstractControlStatus.prototype,"ngClassUntouched",{get:function(){return!!isPresent(this._cd.control)&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlStatus.prototype,"ngClassTouched",{get:function(){return!!isPresent(this._cd.control)&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlStatus.prototype,"ngClassPristine",{get:function(){return!!isPresent(this._cd.control)&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlStatus.prototype,"ngClassDirty",{get:function(){return!!isPresent(this._cd.control)&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlStatus.prototype,"ngClassValid",{get:function(){return!!isPresent(this._cd.control)&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlStatus.prototype,"ngClassInvalid",{get:function(){return!!isPresent(this._cd.control)&&this._cd.control.invalid},enumerable:!0,configurable:!0}),AbstractControlStatus}(),B={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"},z=function(e){function NgControlStatus(t){e.call(this,t)}return F(NgControlStatus,e),NgControlStatus.decorators=[{type:t.Directive,args:[{selector:"[formControlName],[ngModel],[formControl]",host:B}]}],NgControlStatus.ctorParameters=[{type:P,decorators:[{type:t.Self}]}],NgControlStatus}(j),H=function(e){function NgControlStatusGroup(t){e.call(this,t)}return F(NgControlStatusGroup,e),NgControlStatusGroup.decorators=[{type:t.Directive,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:B}]}],NgControlStatusGroup.ctorParameters=[{type:l,decorators:[{type:t.Self}]}],NgControlStatusGroup}(j),W=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},G=function(e){function EventEmitter(t){void 0===t&&(t=!1),e.call(this),this.__isAsync=t}return W(EventEmitter,e),EventEmitter.prototype.emit=function(t){e.prototype.next.call(this,t)},EventEmitter.prototype.subscribe=function(t,i,n){var r,o=function(e){return null},s=function(){return null};return t&&"object"==typeof t?(r=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(r=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},i&&(o=this.__isAsync?function(e){setTimeout(function(){return i(e)})}:function(e){i(e)}),n&&(s=this.__isAsync?function(){setTimeout(function(){return n()})}:function(){n()})),e.prototype.subscribe.call(this,r,o,s)},EventEmitter}(n.Subject),U=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},q="VALID",Y="INVALID",K="PENDING",X="DISABLED",Z=function(){function AbstractControl(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=function(){},this._pristine=!0,this._touched=!1,this._onDisabledChange=[]}return Object.defineProperty(AbstractControl.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"valid",{get:function(){return this._status===q},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"invalid",{get:function(){return this._status===Y},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"pending",{get:function(){return this._status==K},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"disabled",{get:function(){return this._status===X},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"enabled",{get:function(){return this._status!==X},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),AbstractControl.prototype.setValidators=function(e){this.validator=coerceToValidator(e)},AbstractControl.prototype.setAsyncValidators=function(e){this.asyncValidator=coerceToAsyncValidator(e)},AbstractControl.prototype.clearValidators=function(){this.validator=null},AbstractControl.prototype.clearAsyncValidators=function(){this.asyncValidator=null},AbstractControl.prototype.markAsTouched=function(e){var t=(void 0===e?{}:e).onlySelf;t=normalizeBool(t),this._touched=!0,isPresent(this._parent)&&!t&&this._parent.markAsTouched({onlySelf:t})},AbstractControl.prototype.markAsUntouched=function(e){var t=(void 0===e?{}:e).onlySelf;this._touched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),isPresent(this._parent)&&!t&&this._parent._updateTouched({onlySelf:t})},AbstractControl.prototype.markAsDirty=function(e){var t=(void 0===e?{}:e).onlySelf;t=normalizeBool(t),this._pristine=!1,isPresent(this._parent)&&!t&&this._parent.markAsDirty({onlySelf:t})},AbstractControl.prototype.markAsPristine=function(e){var t=(void 0===e?{}:e).onlySelf;this._pristine=!0,
this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),isPresent(this._parent)&&!t&&this._parent._updatePristine({onlySelf:t})},AbstractControl.prototype.markAsPending=function(e){var t=(void 0===e?{}:e).onlySelf;t=normalizeBool(t),this._status=K,isPresent(this._parent)&&!t&&this._parent.markAsPending({onlySelf:t})},AbstractControl.prototype.disable=function(e){var t=void 0===e?{}:e,i=t.onlySelf,n=t.emitEvent;n=!isPresent(n)||n,this._status=X,this._errors=null,this._forEachChild(function(e){e.disable({onlySelf:!0})}),this._updateValue(),n&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._updateAncestors(i),this._onDisabledChange.forEach(function(e){return e(!0)})},AbstractControl.prototype.enable=function(e){var t=void 0===e?{}:e,i=t.onlySelf,n=t.emitEvent;this._status=q,this._forEachChild(function(e){e.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n}),this._updateAncestors(i),this._onDisabledChange.forEach(function(e){return e(!1)})},AbstractControl.prototype._updateAncestors=function(e){isPresent(this._parent)&&!e&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},AbstractControl.prototype.setParent=function(e){this._parent=e},AbstractControl.prototype.updateValueAndValidity=function(e){var t=void 0===e?{}:e,i=t.onlySelf,n=t.emitEvent;i=normalizeBool(i),n=!isPresent(n)||n,this._setInitialStatus(),this._updateValue(),this.enabled&&(this._errors=this._runValidator(),this._status=this._calculateStatus(),this._status!==q&&this._status!==K||this._runAsyncValidator(n)),n&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),isPresent(this._parent)&&!i&&this._parent.updateValueAndValidity({onlySelf:i,emitEvent:n})},AbstractControl.prototype._updateTreeValidity=function(e){var t=(void 0===e?{emitEvent:!0}:e).emitEvent;this._forEachChild(function(e){return e._updateTreeValidity({emitEvent:t})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t})},AbstractControl.prototype._setInitialStatus=function(){this._status=this._allControlsDisabled()?X:q},AbstractControl.prototype._runValidator=function(){return isPresent(this.validator)?this.validator(this):null},AbstractControl.prototype._runAsyncValidator=function(e){var t=this;if(isPresent(this.asyncValidator)){this._status=K,this._cancelExistingSubscription();var i=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe({next:function(i){return t.setErrors(i,{emitEvent:e})}})}},AbstractControl.prototype._cancelExistingSubscription=function(){isPresent(this._asyncValidationSubscription)&&this._asyncValidationSubscription.unsubscribe()},AbstractControl.prototype.setErrors=function(e,t){var i=(void 0===t?{}:t).emitEvent;i=!isPresent(i)||i,this._errors=e,this._updateControlsErrors(i)},AbstractControl.prototype.get=function(e){return _find(this,e,".")},AbstractControl.prototype.getError=function(e,t){void 0===t&&(t=null);var i=isPresent(t)&&!d.isEmpty(t)?this.get(t):this;return isPresent(i)&&isPresent(i._errors)?i._errors[e]:null},AbstractControl.prototype.hasError=function(e,t){return void 0===t&&(t=null),isPresent(this.getError(e,t))},Object.defineProperty(AbstractControl.prototype,"root",{get:function(){for(var e=this;isPresent(e._parent);)e=e._parent;return e},enumerable:!0,configurable:!0}),AbstractControl.prototype._updateControlsErrors=function(e){this._status=this._calculateStatus(),e&&this._statusChanges.emit(this._status),isPresent(this._parent)&&this._parent._updateControlsErrors(e)},AbstractControl.prototype._initObservables=function(){this._valueChanges=new G,this._statusChanges=new G},AbstractControl.prototype._calculateStatus=function(){return this._allControlsDisabled()?X:isPresent(this._errors)?Y:this._anyControlsHaveStatus(K)?K:this._anyControlsHaveStatus(Y)?Y:q},AbstractControl.prototype._anyControlsHaveStatus=function(e){return this._anyControls(function(t){return t.status==e})},AbstractControl.prototype._anyControlsDirty=function(){return this._anyControls(function(e){return e.dirty})},AbstractControl.prototype._anyControlsTouched=function(){return this._anyControls(function(e){return e.touched})},AbstractControl.prototype._updatePristine=function(e){var t=(void 0===e?{}:e).onlySelf;this._pristine=!this._anyControlsDirty(),isPresent(this._parent)&&!t&&this._parent._updatePristine({onlySelf:t})},AbstractControl.prototype._updateTouched=function(e){var t=(void 0===e?{}:e).onlySelf;this._touched=this._anyControlsTouched(),isPresent(this._parent)&&!t&&this._parent._updateTouched({onlySelf:t})},AbstractControl.prototype._isBoxedValue=function(e){return isStringMap(e)&&2===Object.keys(e).length&&"value"in e&&"disabled"in e},AbstractControl.prototype._registerOnCollectionChange=function(e){this._onCollectionChange=e},AbstractControl}(),Q=function(e){function FormControl(t,i,n){void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=null),e.call(this,coerceToValidator(i),coerceToAsyncValidator(n)),this._onChange=[],this._applyFormState(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return U(FormControl,e),FormControl.prototype.setValue=function(e,t){var i=this,n=void 0===t?{}:t,r=n.onlySelf,o=n.emitEvent,s=n.emitModelToViewChange,a=n.emitViewToModelChange;s=!isPresent(s)||s,a=!isPresent(a)||a,this._value=e,this._onChange.length&&s&&this._onChange.forEach(function(e){return e(i._value,a)}),this.updateValueAndValidity({onlySelf:r,emitEvent:o})},FormControl.prototype.patchValue=function(e,t){void 0===t&&(t={}),this.setValue(e,t)},FormControl.prototype.reset=function(e,t){void 0===e&&(e=null);var i=(void 0===t?{}:t).onlySelf;this._applyFormState(e),this.markAsPristine({onlySelf:i}),this.markAsUntouched({onlySelf:i}),this.setValue(this._value,{onlySelf:i})},FormControl.prototype._updateValue=function(){},FormControl.prototype._anyControls=function(e){return!1},FormControl.prototype._allControlsDisabled=function(){return this.disabled},FormControl.prototype.registerOnChange=function(e){this._onChange.push(e)},FormControl.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},FormControl.prototype.registerOnDisabledChange=function(e){this._onDisabledChange.push(e)},FormControl.prototype._forEachChild=function(e){},FormControl.prototype._applyFormState=function(e){this._isBoxedValue(e)?(this._value=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this._value=e},FormControl}(Z),J=function(e){function FormGroup(t,i,n){void 0===i&&(i=null),void 0===n&&(n=null),e.call(this,i,n),this.controls=t,this._initObservables(),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return U(FormGroup,e),FormGroup.prototype.registerControl=function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)},FormGroup.prototype.addControl=function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},FormGroup.prototype.removeControl=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()},FormGroup.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},FormGroup.prototype.contains=function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled},FormGroup.prototype.setValue=function(e,t){var i=this,n=(void 0===t?{}:t).onlySelf;this._checkAllValuesPresent(e),Object.keys(e).forEach(function(t){i._throwIfControlMissing(t),i.controls[t].setValue(e[t],{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:n})},FormGroup.prototype.patchValue=function(e,t){var i=this,n=(void 0===t?{}:t).onlySelf;Object.keys(e).forEach(function(t){i.controls[t]&&i.controls[t].patchValue(e[t],{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:n})},FormGroup.prototype.reset=function(e,t){void 0===e&&(e={});var i=(void 0===t?{}:t).onlySelf;this._forEachChild(function(t,i){t.reset(e[i],{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:i}),this._updatePristine({onlySelf:i}),this._updateTouched({onlySelf:i})},FormGroup.prototype.getRawValue=function(){return this._reduceChildren({},function(e,t,i){return e[i]=t.value,e})},FormGroup.prototype._throwIfControlMissing=function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: "+e+".")},FormGroup.prototype._forEachChild=function(e){var t=this;Object.keys(this.controls).forEach(function(i){return e(t.controls[i],i)})},FormGroup.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})},FormGroup.prototype._updateValue=function(){this._value=this._reduceValue()},FormGroup.prototype._anyControls=function(e){var t=this,i=!1;return this._forEachChild(function(n,r){i=i||t.contains(r)&&e(n)}),i},FormGroup.prototype._reduceValue=function(){var e=this;return this._reduceChildren({},function(t,i,n){return(i.enabled||e.disabled)&&(t[n]=i.value),t})},FormGroup.prototype._reduceChildren=function(e,t){var i=e;return this._forEachChild(function(e,n){i=t(i,e,n)}),i},FormGroup.prototype._allControlsDisabled=function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var i=t[e];if(this.controls[i].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled},FormGroup.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,i){if(void 0===e[i])throw new Error("Must supply a value for form control with name: '"+i+"'.")})},FormGroup}(Z),$=function(e){function FormArray(t,i,n){void 0===i&&(i=null),void 0===n&&(n=null),e.call(this,i,n),this.controls=t,this._initObservables(),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return U(FormArray,e),FormArray.prototype.at=function(e){return this.controls[e]},FormArray.prototype.push=function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},FormArray.prototype.insert=function(e,t){d.insert(this.controls,e,t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},FormArray.prototype.removeAt=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),d.removeAt(this.controls,e),this.updateValueAndValidity(),this._onCollectionChange()},FormArray.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),d.removeAt(this.controls,e),t&&(d.insert(this.controls,e,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(FormArray.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),FormArray.prototype.setValue=function(e,t){var i=this,n=(void 0===t?{}:t).onlySelf;this._checkAllValuesPresent(e),e.forEach(function(e,t){i._throwIfControlMissing(t),i.at(t).setValue(e,{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:n})},FormArray.prototype.patchValue=function(e,t){var i=this,n=(void 0===t?{}:t).onlySelf;e.forEach(function(e,t){i.at(t)&&i.at(t).patchValue(e,{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:n})},FormArray.prototype.reset=function(e,t){void 0===e&&(e=[]);var i=(void 0===t?{}:t).onlySelf;this._forEachChild(function(t,i){t.reset(e[i],{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:i}),this._updatePristine({onlySelf:i}),this._updateTouched({onlySelf:i})},FormArray.prototype.getRawValue=function(){return this.controls.map(function(e){return e.value})},FormArray.prototype._throwIfControlMissing=function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)},FormArray.prototype._forEachChild=function(e){this.controls.forEach(function(t,i){e(t,i)})},FormArray.prototype._updateValue=function(){var e=this;this._value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})},FormArray.prototype._anyControls=function(e){return this.controls.some(function(t){return t.enabled&&e(t)})},FormArray.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})},FormArray.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,i){if(void 0===e[i])throw new Error("Must supply a value for form control at index: "+i+".")})},FormArray.prototype._allControlsDisabled=function(){for(var e=0,t=this.controls;e<t.length;e++){var i=t[e];if(i.enabled)return!1}return this.controls.length>0||this.disabled},FormArray.prototype._registerControl=function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)},FormArray}(Z),ee=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},te={provide:l,useExisting:t.forwardRef(function(){return ne})},ie=Promise.resolve(null),ne=function(e){function NgForm(t,i){e.call(this),this._submitted=!1,this.ngSubmit=new G,this.form=new J({},composeValidators(t),composeAsyncValidators(i))}return ee(NgForm,e),Object.defineProperty(NgForm.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),NgForm.prototype.addControl=function(e){var t=this;ie.then(function(){var i=t._findContainer(e.path);e._control=i.registerControl(e.name,e.control),setUpControl(e.control,e),e.control.updateValueAndValidity({emitEvent:!1})})},NgForm.prototype.getControl=function(e){return this.form.get(e.path)},NgForm.prototype.removeControl=function(e){var t=this;ie.then(function(){var i=t._findContainer(e.path);isPresent(i)&&i.removeControl(e.name)})},NgForm.prototype.addFormGroup=function(e){var t=this;ie.then(function(){var i=t._findContainer(e.path),n=new J({});setUpFormContainer(n,e),i.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})},NgForm.prototype.removeFormGroup=function(e){var t=this;ie.then(function(){var i=t._findContainer(e.path);isPresent(i)&&i.removeControl(e.name)})},NgForm.prototype.getFormGroup=function(e){return this.form.get(e.path)},NgForm.prototype.updateModel=function(e,t){var i=this;ie.then(function(){var n=i.form.get(e.path);n.setValue(t)})},NgForm.prototype.setValue=function(e){this.control.setValue(e)},NgForm.prototype.onSubmit=function(e){return this._submitted=!0,this.ngSubmit.emit(e),!1},NgForm.prototype.onReset=function(){this.resetForm()},NgForm.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this._submitted=!1},NgForm.prototype._findContainer=function(e){return e.pop(),d.isEmpty(e)?this.form:this.form.get(e)},NgForm.decorators=[{type:t.Directive,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[te],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],NgForm.ctorParameters=[{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[m]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[y]}]}],NgForm}(l),re={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; let i=index">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '},oe=function(){function TemplateDrivenErrors(){}return TemplateDrivenErrors.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+re.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+re.ngModelWithFormGroup)},TemplateDrivenErrors.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+re.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+re.ngModelGroup)},TemplateDrivenErrors.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},TemplateDrivenErrors.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+re.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+re.ngModelGroup)},TemplateDrivenErrors}(),se=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},ae={provide:l,useExisting:t.forwardRef(function(){return le})},le=function(e){function NgModelGroup(t,i,n){e.call(this),this._parent=t,this._validators=i,this._asyncValidators=n}return se(NgModelGroup,e),NgModelGroup.prototype._checkParentType=function(){this._parent instanceof NgModelGroup||this._parent instanceof ne||oe.modelGroupParentException()},NgModelGroup.decorators=[{type:t.Directive,args:[{selector:"[ngModelGroup]",providers:[ae],exportAs:"ngModelGroup"}]}],NgModelGroup.ctorParameters=[{type:l,decorators:[{type:t.Host},{type:t.SkipSelf}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[m]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[y]}]}],NgModelGroup.propDecorators={name:[{type:t.Input,args:["ngModelGroup"]}]},NgModelGroup}(V),ue=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},ce={provide:P,useExisting:t.forwardRef(function(){return pe})},he=Promise.resolve(null),pe=function(e){function NgModel(t,i,n,r){e.call(this),this._control=new Q,this._registered=!1,this.update=new G,this._parent=t,this._rawValidators=i||[],this._rawAsyncValidators=n||[],this.valueAccessor=selectValueAccessor(this,r)}return ue(NgModel,e),NgModel.prototype.ngOnChanges=function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),isPropertyUpdated(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},NgModel.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(NgModel.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"path",{get:function(){return this._parent?controlPath(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"validator",{get:function(){return composeValidators(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"asyncValidator",{get:function(){return composeAsyncValidators(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),NgModel.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},NgModel.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},NgModel.prototype._isStandalone=function(){return!this._parent||this.options&&this.options.standalone},NgModel.prototype._setUpStandalone=function(){setUpControl(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},NgModel.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},NgModel.prototype._checkParentType=function(){!(this._parent instanceof le)&&this._parent instanceof V?oe.formGroupNameException():this._parent instanceof le||this._parent instanceof ne||oe.modelParentException()},NgModel.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||oe.missingNameException()},NgModel.prototype._updateValue=function(e){var t=this;he.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})},NgModel.prototype._updateDisabled=function(e){var t=this,i=e.isDisabled.currentValue,n=""===i||i&&"false"!==i;he.then(function(){n&&!t.control.disabled?t.control.disable():!n&&t.control.disabled&&t.control.enable()})},NgModel.decorators=[{type:t.Directive,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[ce],exportAs:"ngModel"}]}],NgModel.ctorParameters=[{type:l,decorators:[{type:t.Optional},{type:t.Host}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[m]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[y]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[g]}]}],NgModel.propDecorators={name:[{type:t.Input}],isDisabled:[{type:t.Input,args:["disabled"]}],model:[{type:t.Input,args:["ngModel"]}],options:[{type:t.Input,args:["ngModelOptions"]}],update:[{type:t.Output,args:["ngModelChange"]}]},NgModel}(P),de=function(){function ReactiveErrors(){}return ReactiveErrors.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+re.formControlName)},ReactiveErrors.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+re.formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+re.ngModelGroup)},ReactiveErrors.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+re.formControlName)},ReactiveErrors.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+re.formGroupName)},ReactiveErrors.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+re.formArrayName)},ReactiveErrors.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},ReactiveErrors}(),fe=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},me={provide:P,useExisting:t.forwardRef(function(){return ye})},ye=function(e){function FormControlDirective(t,i,n){e.call(this),this.update=new G,this._rawValidators=t||[],this._rawAsyncValidators=i||[],this.valueAccessor=selectValueAccessor(this,n)}return fe(FormControlDirective,e),Object.defineProperty(FormControlDirective.prototype,"isDisabled",{set:function(e){de.disabledAttrWarning()},enumerable:!0,configurable:!0}),FormControlDirective.prototype.ngOnChanges=function(e){this._isControlChanged(e)&&(setUpControl(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),isPropertyUpdated(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(FormControlDirective.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlDirective.prototype,"validator",{get:function(){return composeValidators(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlDirective.prototype,"asyncValidator",{get:function(){return composeAsyncValidators(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlDirective.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),FormControlDirective.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},FormControlDirective.prototype._isControlChanged=function(e){return e.hasOwnProperty("form")},FormControlDirective.decorators=[{type:t.Directive,args:[{selector:"[formControl]",providers:[me],exportAs:"ngForm"}]}],FormControlDirective.ctorParameters=[{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[m]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[y]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[g]}]}],FormControlDirective.propDecorators={form:[{type:t.Input,args:["formControl"]}],model:[{type:t.Input,args:["ngModel"]}],update:[{type:t.Output,args:["ngModelChange"]}],isDisabled:[{type:t.Input,args:["disabled"]}]},FormControlDirective}(P),ve=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},ge={provide:l,useExisting:t.forwardRef(function(){return _e})},_e=function(e){function FormGroupDirective(t,i){e.call(this),this._validators=t,this._asyncValidators=i,this._submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new G}return ve(FormGroupDirective,e),FormGroupDirective.prototype.ngOnChanges=function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(FormGroupDirective.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(FormGroupDirective.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(FormGroupDirective.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(FormGroupDirective.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),FormGroupDirective.prototype.addControl=function(e){var t=this.form.get(e.path);return setUpControl(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t},FormGroupDirective.prototype.getControl=function(e){return this.form.get(e.path)},FormGroupDirective.prototype.removeControl=function(e){d.remove(this.directives,e)},FormGroupDirective.prototype.addFormGroup=function(e){var t=this.form.get(e.path);setUpFormContainer(t,e),t.updateValueAndValidity({emitEvent:!1})},FormGroupDirective.prototype.removeFormGroup=function(e){},FormGroupDirective.prototype.getFormGroup=function(e){return this.form.get(e.path)},FormGroupDirective.prototype.addFormArray=function(e){var t=this.form.get(e.path);setUpFormContainer(t,e),t.updateValueAndValidity({emitEvent:!1})},FormGroupDirective.prototype.removeFormArray=function(e){},FormGroupDirective.prototype.getFormArray=function(e){return this.form.get(e.path)},FormGroupDirective.prototype.updateModel=function(e,t){var i=this.form.get(e.path);i.setValue(t)},FormGroupDirective.prototype.onSubmit=function(e){return this._submitted=!0,this.ngSubmit.emit(e),!1},FormGroupDirective.prototype.onReset=function(){this.resetForm()},FormGroupDirective.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this._submitted=!1},FormGroupDirective.prototype._updateDomValue=function(){var e=this;this.directives.forEach(function(t){var i=e.form.get(t.path);t._control!==i&&(cleanUpControl(t._control,t),i&&setUpControl(i,t),t._control=i)}),this.form._updateTreeValidity({emitEvent:!1})},FormGroupDirective.prototype._updateRegistrations=function(){var e=this;this.form._registerOnCollectionChange(function(){return e._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},FormGroupDirective.prototype._updateValidators=function(){var e=composeValidators(this._validators);this.form.validator=v.compose([this.form.validator,e]);var t=composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=v.composeAsync([this.form.asyncValidator,t])},FormGroupDirective.prototype._checkFormPresent=function(){this.form||de.missingFormException()},FormGroupDirective.decorators=[{type:t.Directive,args:[{selector:"[formGroup]",providers:[ge],host:{"(submit)":"onSubmit($event)",
"(reset)":"onReset()"},exportAs:"ngForm"}]}],FormGroupDirective.ctorParameters=[{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[m]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[y]}]}],FormGroupDirective.propDecorators={form:[{type:t.Input,args:["formGroup"]}],ngSubmit:[{type:t.Output}]},FormGroupDirective}(l),be=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},we={provide:l,useExisting:t.forwardRef(function(){return Ce})},Ce=function(e){function FormGroupName(t,i,n){e.call(this),this._parent=t,this._validators=i,this._asyncValidators=n}return be(FormGroupName,e),FormGroupName.prototype._checkParentType=function(){_hasInvalidParent(this._parent)&&de.groupParentException()},FormGroupName.decorators=[{type:t.Directive,args:[{selector:"[formGroupName]",providers:[we]}]}],FormGroupName.ctorParameters=[{type:l,decorators:[{type:t.Optional},{type:t.Host},{type:t.SkipSelf}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[m]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[y]}]}],FormGroupName.propDecorators={name:[{type:t.Input,args:["formGroupName"]}]},FormGroupName}(V),xe={provide:l,useExisting:t.forwardRef(function(){return Ee})},Ee=function(e){function FormArrayName(t,i,n){e.call(this),this._parent=t,this._validators=i,this._asyncValidators=n}return be(FormArrayName,e),FormArrayName.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},FormArrayName.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(FormArrayName.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(FormArrayName.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(FormArrayName.prototype,"path",{get:function(){return controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(FormArrayName.prototype,"validator",{get:function(){return composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(FormArrayName.prototype,"asyncValidator",{get:function(){return composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),FormArrayName.prototype._checkParentType=function(){_hasInvalidParent(this._parent)&&de.arrayParentException()},FormArrayName.decorators=[{type:t.Directive,args:[{selector:"[formArrayName]",providers:[xe]}]}],FormArrayName.ctorParameters=[{type:l,decorators:[{type:t.Optional},{type:t.Host},{type:t.SkipSelf}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[m]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[y]}]}],FormArrayName.propDecorators={name:[{type:t.Input,args:["formArrayName"]}]},FormArrayName}(l),Se=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},Pe={provide:P,useExisting:t.forwardRef(function(){return ke})},ke=function(e){function FormControlName(t,i,n,r){e.call(this),this._added=!1,this.update=new G,this._parent=t,this._rawValidators=i||[],this._rawAsyncValidators=n||[],this.valueAccessor=selectValueAccessor(this,r)}return Se(FormControlName,e),Object.defineProperty(FormControlName.prototype,"isDisabled",{set:function(e){de.disabledAttrWarning()},enumerable:!0,configurable:!0}),FormControlName.prototype.ngOnChanges=function(e){this._added||this._setUpControl(),isPropertyUpdated(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},FormControlName.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},FormControlName.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},Object.defineProperty(FormControlName.prototype,"path",{get:function(){return controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlName.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlName.prototype,"validator",{get:function(){return composeValidators(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlName.prototype,"asyncValidator",{get:function(){return composeAsyncValidators(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlName.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),FormControlName.prototype._checkParentType=function(){!(this._parent instanceof Ce)&&this._parent instanceof V?de.ngModelGroupException():this._parent instanceof Ce||this._parent instanceof _e||this._parent instanceof Ee||de.controlParentException()},FormControlName.prototype._setUpControl=function(){this._checkParentType(),this._control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},FormControlName.decorators=[{type:t.Directive,args:[{selector:"[formControlName]",providers:[Pe]}]}],FormControlName.ctorParameters=[{type:l,decorators:[{type:t.Optional},{type:t.Host},{type:t.SkipSelf}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[m]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[y]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[g]}]}],FormControlName.propDecorators={name:[{type:t.Input,args:["formControlName"]}],model:[{type:t.Input,args:["ngModel"]}],update:[{type:t.Output,args:["ngModelChange"]}],isDisabled:[{type:t.Input,args:["disabled"]}]},FormControlName}(P),Te={provide:m,useExisting:t.forwardRef(function(){return Ae}),multi:!0},Ae=function(){function RequiredValidator(){}return Object.defineProperty(RequiredValidator.prototype,"required",{get:function(){return this._required},set:function(e){this._required=isPresent(e)&&""+e!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),RequiredValidator.prototype.validate=function(e){return this.required?v.required(e):null},RequiredValidator.prototype.registerOnValidatorChange=function(e){this._onChange=e},RequiredValidator.decorators=[{type:t.Directive,args:[{selector:"[required][formControlName],[required][formControl],[required][ngModel]",providers:[Te],host:{"[attr.required]":'required? "" : null'}}]}],RequiredValidator.ctorParameters=[],RequiredValidator.propDecorators={required:[{type:t.Input}]},RequiredValidator}(),De={provide:m,useExisting:t.forwardRef(function(){return Me}),multi:!0},Me=function(){function MinLengthValidator(){}return MinLengthValidator.prototype._createValidator=function(){this._validator=v.minLength(parseInt(this.minlength,10))},MinLengthValidator.prototype.ngOnChanges=function(e){e.minlength&&(this._createValidator(),this._onChange&&this._onChange())},MinLengthValidator.prototype.validate=function(e){return isPresent(this.minlength)?this._validator(e):null},MinLengthValidator.prototype.registerOnValidatorChange=function(e){this._onChange=e},MinLengthValidator.decorators=[{type:t.Directive,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[De],host:{"[attr.minlength]":"minlength? minlength : null"}}]}],MinLengthValidator.ctorParameters=[],MinLengthValidator.propDecorators={minlength:[{type:t.Input}]},MinLengthValidator}(),Oe={provide:m,useExisting:t.forwardRef(function(){return Ie}),multi:!0},Ie=function(){function MaxLengthValidator(){}return MaxLengthValidator.prototype._createValidator=function(){this._validator=v.maxLength(parseInt(this.maxlength,10))},MaxLengthValidator.prototype.ngOnChanges=function(e){e.maxlength&&(this._createValidator(),this._onChange&&this._onChange())},MaxLengthValidator.prototype.validate=function(e){return isPresent(this.maxlength)?this._validator(e):null},MaxLengthValidator.prototype.registerOnValidatorChange=function(e){this._onChange=e},MaxLengthValidator.decorators=[{type:t.Directive,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[Oe],host:{"[attr.maxlength]":"maxlength? maxlength : null"}}]}],MaxLengthValidator.ctorParameters=[],MaxLengthValidator.propDecorators={maxlength:[{type:t.Input}]},MaxLengthValidator}(),Re={provide:m,useExisting:t.forwardRef(function(){return Ne}),multi:!0},Ne=function(){function PatternValidator(){}return PatternValidator.prototype._createValidator=function(){this._validator=v.pattern(this.pattern)},PatternValidator.prototype.ngOnChanges=function(e){e.pattern&&(this._createValidator(),this._onChange&&this._onChange())},PatternValidator.prototype.validate=function(e){return isPresent(this.pattern)?this._validator(e):null},PatternValidator.prototype.registerOnValidatorChange=function(e){this._onChange=e},PatternValidator.decorators=[{type:t.Directive,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[Re],host:{"[attr.pattern]":"pattern? pattern : null"}}]}],PatternValidator.ctorParameters=[],PatternValidator.propDecorators={pattern:[{type:t.Input}]},PatternValidator}(),Le=function(){function FormBuilder(){}return FormBuilder.prototype.group=function(e,t){void 0===t&&(t=null);var i=this._reduceControls(e),n=isPresent(t)?t.validator:null,r=isPresent(t)?t.asyncValidator:null;return new J(i,n,r)},FormBuilder.prototype.control=function(e,t,i){return void 0===t&&(t=null),void 0===i&&(i=null),new Q(e,t,i)},FormBuilder.prototype.array=function(e,t,i){var n=this;void 0===t&&(t=null),void 0===i&&(i=null);var r=e.map(function(e){return n._createControl(e)});return new $(r,t,i)},FormBuilder.prototype._reduceControls=function(e){var t=this,i={};return Object.keys(e).forEach(function(n){i[n]=t._createControl(e[n])}),i},FormBuilder.prototype._createControl=function(e){if(e instanceof Q||e instanceof J||e instanceof $)return e;if(isArray(e)){var t=e[0],i=e.length>1?e[1]:null,n=e.length>2?e[2]:null;return this.control(t,i,n)}return this.control(e)},FormBuilder.decorators=[{type:t.Injectable}],FormBuilder.ctorParameters=[],FormBuilder}(),Ve=[O,N,C,E,b,M,R,A,z,H,Ae,Me,Ie,Ne],Fe=[pe,le,ne],je=[ye,_e,ke,Ce,Ee],Be=function(){function InternalFormsSharedModule(){}return InternalFormsSharedModule.decorators=[{type:t.NgModule,args:[{declarations:Ve,exports:Ve}]}],InternalFormsSharedModule.ctorParameters=[],InternalFormsSharedModule}(),ze=function(){function FormsModule(){}return FormsModule.decorators=[{type:t.NgModule,args:[{declarations:Fe,providers:[T],exports:[Be,Fe]}]}],FormsModule.ctorParameters=[],FormsModule}(),He=function(){function ReactiveFormsModule(){}return ReactiveFormsModule.decorators=[{type:t.NgModule,args:[{declarations:[je],providers:[Le,T],exports:[Be,je]}]}],ReactiveFormsModule.ctorParameters=[],ReactiveFormsModule}();e.AbstractControlDirective=s,e.AbstractFormGroupDirective=V,e.CheckboxControlValueAccessor=b,e.ControlContainer=l,e.NG_VALUE_ACCESSOR=g,e.DefaultValueAccessor=C,e.NgControl=P,e.NgControlStatus=z,e.NgControlStatusGroup=H,e.NgForm=ne,e.NgModel=pe,e.NgModelGroup=le,e.RadioControlValueAccessor=A,e.FormControlDirective=ye,e.FormControlName=ke,e.FormGroupDirective=_e,e.FormArrayName=Ee,e.FormGroupName=Ce,e.NgSelectOption=O,e.SelectControlValueAccessor=M,e.SelectMultipleControlValueAccessor=R,e.MaxLengthValidator=Ie,e.MinLengthValidator=Me,e.PatternValidator=Ne,e.RequiredValidator=Ae,e.FormBuilder=Le,e.AbstractControl=Z,e.FormArray=$,e.FormControl=Q,e.FormGroup=J,e.NG_ASYNC_VALIDATORS=y,e.NG_VALIDATORS=m,e.Validators=v,e.FormsModule=ze,e.ReactiveFormsModule=He})},75:function(e,t,i){(function(e){!function(e,n){n(t,i(119),i(13),i(52))}(this,function(t,i,n,r){"use strict";var o,s=r.__platform_browser_private__.INTERNAL_BROWSER_PLATFORM_PROVIDERS,a=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},l=function(e){function ResourceLoaderImpl(){e.apply(this,arguments)}return a(ResourceLoaderImpl,e),ResourceLoaderImpl.prototype.get=function(e){var t,i,n=new Promise(function(e,n){t=e,i=n}),r=new XMLHttpRequest;return r.open("GET",e,!0),r.responseType="text",r.onload=function(){var n=r.response||r.responseText,o=1223===r.status?204:r.status;0===o&&(o=n?200:0),200<=o&&o<=300?t(n):i("Failed to load "+e)},r.onerror=function(){i("Failed to load "+e)},r.send(),n},ResourceLoaderImpl.decorators=[{type:n.Injectable}],ResourceLoaderImpl.ctorParameters=[],ResourceLoaderImpl}(i.ResourceLoader),u=[s,{provide:n.COMPILER_OPTIONS,useValue:{providers:[{provide:i.ResourceLoader,useClass:l}]},multi:!0}];o="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:e:window;var c=o;c.assert=function(e){};var h=(function(){function NumberWrapper(){}return NumberWrapper.toFixed=function(e,t){return e.toFixed(t)},NumberWrapper.equal=function(e,t){return e===t},NumberWrapper.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},NumberWrapper.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var i=parseInt(e,t);if(!isNaN(i))return i}throw new Error("Invalid integer literal when parsing "+e+" in base "+t)},Object.defineProperty(NumberWrapper,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),NumberWrapper.isNumeric=function(e){return!isNaN(e-parseFloat(e))},NumberWrapper.isNaN=function(e){return isNaN(e)},NumberWrapper.isInteger=function(e){return Number.isInteger(e)},NumberWrapper}(),this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),p=function(e){function CachedResourceLoader(){if(e.call(this),this._cache=c.$templateCache,null==this._cache)throw new Error("CachedResourceLoader: Template cache was not found in $templateCache.")}return h(CachedResourceLoader,e),CachedResourceLoader.prototype.get=function(e){return this._cache.hasOwnProperty(e)?Promise.resolve(this._cache[e]):Promise.reject("CachedResourceLoader: Did not find cached template for "+e)},CachedResourceLoader}(i.ResourceLoader),d={INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS:u,ResourceLoaderImpl:l},f=[{provide:i.ResourceLoader,useClass:p}],m=n.createPlatformFactory(i.platformCoreDynamic,"browserDynamic",u);t.RESOURCE_CACHE_PROVIDER=f,t.platformBrowserDynamic=m,t.__platform_browser_dynamic_private__=d})}).call(t,function(){return this}())},52:function(e,t,i){(function(e){!function(e,n){n(t,i(51),i(13))}(this,function(t,i,n){"use strict";function isPresent(e){return void 0!==e&&null!==e}function isBlank(e){return void 0===e||null===e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isArray(e){return Array.isArray(e)}function stringify(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.overriddenName)return e.overriddenName;if(e.name)return e.name;var t=e.toString(),i=t.indexOf("\n");return i===-1?t:t.substring(0,i)}function setValueOnPath(e,t,i){for(var n=t.split("."),r=e;n.length>1;){var o=n.shift();r=r.hasOwnProperty(o)&&isPresent(r[o])?r[o]:r[o]={}}void 0!==r&&null!==r||(r={}),r[n.shift()]=i}function camelCaseToDashCase(e){return e.replace(d,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return"-"+e[1].toLowerCase()})}function dashCaseToCamelCase(e){return e.replace(f,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e[1].toUpperCase()})}function getDOM(){return m}function setRootDomAdapter(e){m||(m=e)}function _computeStyle(e,t){return getDOM().getComputedStyle(e)[t]}function _populateStyles(e,t,i){var r={};return t.styles.forEach(function(e){Object.keys(e).forEach(function(t){var i=e[t],o=dashCaseToCamelCase(t);r[o]=i==n.AUTO_STYLE?i:i.toString()+_resolveStyleUnit(i,t,o)})}),Object.keys(i).forEach(function(e){isPresent(r[e])||(r[e]=i[e])}),r}function _resolveStyleUnit(e,t,i){var n="";if(_isPixelDimensionStyle(i)&&0!=e&&"0"!=e)if(isNumber(e))n="px";else if(0==_findDimensionalSuffix(e.toString()).length)throw new Error("Please provide a CSS unit value for "+t+":"+e);return n}function _findDimensionalSuffix(e){for(var t=0;t<e.length;t++){var i=e.charCodeAt(t);if(!(i>=_&&i<=b||i==w))return e.substring(t,e.length)}return""}function _isPixelDimensionStyle(e){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}function getBaseElementHref(){return D||(D=document.querySelector("base"))?D.getAttribute("href"):null}function relativePath(e){return c||(c=document.createElement("a")),c.setAttribute("href",e),"/"===c.pathname.charAt(0)?c.pathname:"/"+c.pathname}function parseCookieValue(e,t){t=encodeURIComponent(t);for(var i=0,n=e.split(";");i<n.length;i++){var r=n[i],o=r.indexOf("="),s=o==-1?[r,""]:[r.slice(0,o),r.slice(o+1)],a=s[0],l=s[1];if(a.trim()===t)return decodeURIComponent(l)}return null}function supportsState(){return!!window.history.pushState}function _flattenArray(e,t){if(isPresent(e))for(var i=0;i<e.length;i++){var n=e[i];isArray(n)?_flattenArray(n,t):t.push(n)}return t}function moveNodesAfterSibling(e,t){var i=getDOM().parentElement(e);if(t.length>0&&isPresent(i)){var n=getDOM().nextSibling(e);if(isPresent(n))for(var r=0;r<t.length;r++)getDOM().insertBefore(n,t[r]);else for(var r=0;r<t.length;r++)getDOM().appendChild(i,t[r])}}function appendNodes(e,t){for(var i=0;i<t.length;i++)getDOM().appendChild(e,t[i])}function decoratePreventDefault(e){return function(t){var i=e(t);i===!1&&getDOM().preventDefault(t)}}function _shimContentAttribute(e){return ee.replace(Q,e)}function _shimHostAttribute(e){return $.replace(Q,e)}function _flattenStyles(e,t,i){for(var n=0;n<t.length;n++){var r=t[n];isArray(r)?_flattenStyles(e,r,i):(r=r.replace(Q,e),i.push(r))}return i}function splitNamespace(e){if(":"!=e[0])return[null,e];var t=e.match(te);return[t[1],t[2]]}function inspectNativeElement(e){return n.getDebugNode(e)}function _createConditionalRootRenderer(e,t){return n.isDevMode()?_createRootRenderer(e,t):e}function _createRootRenderer(e,t){return getDOM().setGlobalVar(ne,inspectNativeElement),getDOM().setGlobalVar(re,I.merge(ie,_ngProbeTokensToMap(t||[]))),new o(e)}function _ngProbeTokensToMap(e){return e.reduce(function(e,t){return e[t.name]=t.token,e},{})}function sanitizeUrl(e){return e=String(e),e.match(be)||e.match(we)?e:(n.isDevMode()&&getDOM().log("WARNING: sanitizing unsafe URL value "+e+" (see http://g.co/ng/security#xss)"),"unsafe:"+e)}function sanitizeSrcset(e){return e=String(e),e.split(",").map(function(e){return sanitizeUrl(e.trim())}).join(", ")}function getInertElement(){if(Ce)return Ce;xe=getDOM();var e=xe.createElement("template");if("content"in e)return e;var t=xe.createHtmlDocument();if(Ce=xe.querySelector(t,"body"),null==Ce){var i=xe.createElement("html",t);Ce=xe.createElement("body",t),xe.appendChild(i,Ce),xe.appendChild(t,i)}return Ce}function tagSet(e){for(var t={},i=0,n=e.split(",");i<n.length;i++){var r=n[i];t[r]=!0}return t}function merge(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var i={},n=0,r=e;n<r.length;n++){var o=r[n];for(var s in o)o.hasOwnProperty(s)&&(i[s]=!0)}return i}function encodeEntities(e){return e.replace(/&/g,"&amp;").replace(Le,function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(i-56320)+65536)+";"}).replace(Ve,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function stripCustomNsAttrs(e){xe.attributeMap(e).forEach(function(t,i){"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||xe.removeAttribute(e,i)});for(var t=0,i=xe.childNodesAsList(e);t<i.length;t++){var n=i[t];xe.isElementNode(n)&&stripCustomNsAttrs(n)}}function sanitizeHtml(e){try{var t=getInertElement(),i=e?String(e):"",r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,xe.setInnerHTML(t,i),xe.defaultDoc().documentMode&&stripCustomNsAttrs(t),o=xe.getInnerHTML(t)}while(i!==o);for(var s=new Ne,a=s.sanitizeChildren(xe.getTemplateContent(t)||t),l=xe.getTemplateContent(t)||t,u=0,c=xe.childNodesAsList(l);u<c.length;u++){var h=c[u];xe.removeChild(l,h)}return n.isDevMode()&&s.sanitizedSomething&&xe.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),a}catch(p){throw Ce=null,p}}function hasBalancedQuotes(e){for(var t=!0,i=!0,n=0;n<e.length;n++){var r=e.charAt(n);"'"===r&&i?t=!t:'"'===r&&t&&(i=!i)}return t&&i}function sanitizeStyle(e){if(e=String(e).trim(),!e)return"";var t=e.match(We);return t&&sanitizeUrl(t[1])===t[1]||e.match(He)&&hasBalancedQuotes(e)?e:(n.isDevMode()&&getDOM().log("WARNING: sanitizing unsafe style value "+e+" (see http://g.co/ng/security#xss)."),"unsafe")}function initDomAdapter(){A.makeCurrent(),N.init()}function errorHandler(){return new n.ErrorHandler}function _document(){return getDOM().defaultDoc()}function _resolveDefaultAnimationDriver(){return getDOM().supportsWebAnimation()?new g:l.NOOP}function enableDebugTools(e){return at.ng=new ot(e),e}function disableDebugTools(){delete at.ng}var r,o=n.__core_private__.DebugDomRootRenderer,s=n.__core_private__.NoOpAnimationPlayer,a=function(){function _NoOpAnimationDriver(){}return _NoOpAnimationDriver.prototype.animate=function(e,t,i,n,r,o){return new s},_NoOpAnimationDriver}(),l=function(){function AnimationDriver(){}return AnimationDriver.NOOP=new a,AnimationDriver}();r="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:e:window;var u=r;u.assert=function(e){};var c,h=function(){function NumberWrapper(){}return NumberWrapper.toFixed=function(e,t){return e.toFixed(t)},NumberWrapper.equal=function(e,t){return e===t},NumberWrapper.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},NumberWrapper.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var i=parseInt(e,t);if(!isNaN(i))return i}throw new Error("Invalid integer literal when parsing "+e+" in base "+t)},Object.defineProperty(NumberWrapper,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),NumberWrapper.isNumeric=function(e){return!isNaN(e-parseFloat(e))},NumberWrapper.isNaN=function(e){return isNaN(e)},NumberWrapper.isInteger=function(e){return Number.isInteger(e)},NumberWrapper}(),p=function(){function Json(){}return Json.parse=function(e){return u.JSON.parse(e)},Json.stringify=function(e){return u.JSON.stringify(e,null,2)},Json}(),d=/([A-Z])/g,f=/-([a-z])/g,m=null,y=function(){function DomAdapter(){this.resourceLoaderType=null}return Object.defineProperty(DomAdapter.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),DomAdapter}(),v=function(){function WebAnimationsPlayer(e,t,i){this.element=e,this.keyframes=t,this.options=i,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._initialized=!1,this._started=!1,this.parentPlayer=null,this._duration=i.duration}return WebAnimationsPlayer.prototype._onFinish=function(){this._finished||(this._finished=!0,isPresent(this.parentPlayer)||this.destroy(),this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},WebAnimationsPlayer.prototype.init=function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes.map(function(t){var i={};return Object.keys(t).forEach(function(r){var o=t[r];i[r]=o==n.AUTO_STYLE?_computeStyle(e.element,r):o}),i});this._player=this._triggerWebAnimation(this.element,t,this.options),this.reset(),this._player.onfinish=function(){return e._onFinish()}}},WebAnimationsPlayer.prototype._triggerWebAnimation=function(e,t,i){return e.animate(t,i)},WebAnimationsPlayer.prototype.onStart=function(e){this._onStartFns.push(e)},WebAnimationsPlayer.prototype.onDone=function(e){this._onDoneFns.push(e)},WebAnimationsPlayer.prototype.play=function(){this.init(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0),this._player.play()},WebAnimationsPlayer.prototype.pause=function(){this.init(),this._player.pause()},WebAnimationsPlayer.prototype.finish=function(){this.init(),this._onFinish(),this._player.finish()},WebAnimationsPlayer.prototype.reset=function(){this._player.cancel()},WebAnimationsPlayer.prototype.restart=function(){this.reset(),this.play()},WebAnimationsPlayer.prototype.hasStarted=function(){return this._started},WebAnimationsPlayer.prototype.destroy=function(){this.reset(),this._onFinish()},Object.defineProperty(WebAnimationsPlayer.prototype,"totalTime",{get:function(){return this._duration},enumerable:!0,configurable:!0}),WebAnimationsPlayer.prototype.setPosition=function(e){this._player.currentTime=e*this.totalTime},WebAnimationsPlayer.prototype.getPosition=function(){return this._player.currentTime/this.totalTime},WebAnimationsPlayer}(),g=function(){function WebAnimationsDriver(){}return WebAnimationsDriver.prototype.animate=function(e,t,i,n,r,o){var s=[],a={};if(isPresent(t)&&t.styles.length>0&&(a=_populateStyles(e,t,{}),a.offset=0,s.push(a)),i.forEach(function(t){var i=_populateStyles(e,t.styles,a);i.offset=t.offset,s.push(i)}),1==s.length){var l=s[0];l.offset=null,s=[l,l]}var u={duration:n,delay:r,fill:"both"};return o&&(u.easing=o),new v(e,s,u)},WebAnimationsDriver}(),_=48,b=57,w=46,C=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},x=function(e){function GenericBrowserDomAdapter(){var t=this;e.call(this),this._animationPrefix=null,this._transitionEnd=null;try{var i=this.createElement("div",this.defaultDoc());if(isPresent(this.getStyle(i,"animationName")))this._animationPrefix="";else for(var n=["Webkit","Moz","O","ms"],r=0;r<n.length;r++)if(isPresent(this.getStyle(i,n[r]+"AnimationName"))){this._animationPrefix="-"+n[r].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(e){isPresent(t.getStyle(i,e))&&(t._transitionEnd=o[e])})}catch(s){this._animationPrefix=null,this._transitionEnd=null}}return C(GenericBrowserDomAdapter,e),GenericBrowserDomAdapter.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},GenericBrowserDomAdapter.prototype.resolveAndSetHref=function(e,t,i){e.href=null==i?t:t+"/../"+i},GenericBrowserDomAdapter.prototype.supportsDOMEvents=function(){return!0},GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM=function(){return"function"==typeof this.defaultDoc().body.createShadowRoot},GenericBrowserDomAdapter.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},GenericBrowserDomAdapter.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},GenericBrowserDomAdapter.prototype.supportsAnimation=function(){return isPresent(this._animationPrefix)&&isPresent(this._transitionEnd)},GenericBrowserDomAdapter}(y),E=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},S={"class":"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},P=3,k={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},T={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},A=function(e){function BrowserDomAdapter(){e.apply(this,arguments)}return E(BrowserDomAdapter,e),BrowserDomAdapter.prototype.parse=function(e){throw new Error("parse not implemented")},BrowserDomAdapter.makeCurrent=function(){setRootDomAdapter(new BrowserDomAdapter)},BrowserDomAdapter.prototype.hasProperty=function(e,t){return t in e},BrowserDomAdapter.prototype.setProperty=function(e,t,i){e[t]=i},BrowserDomAdapter.prototype.getProperty=function(e,t){return e[t]},BrowserDomAdapter.prototype.invoke=function(e,t,i){(n=e)[t].apply(n,i);var n},BrowserDomAdapter.prototype.logError=function(e){(window.console.error||window.console.log)(e)},BrowserDomAdapter.prototype.log=function(e){window.console.log(e)},BrowserDomAdapter.prototype.logGroup=function(e){window.console.group&&window.console.group(e),this.logError(e)},BrowserDomAdapter.prototype.logGroupEnd=function(){window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(BrowserDomAdapter.prototype,"attrToPropMap",{get:function(){return S},enumerable:!0,configurable:!0}),BrowserDomAdapter.prototype.query=function(e){return document.querySelector(e)},BrowserDomAdapter.prototype.querySelector=function(e,t){return e.querySelector(t)},BrowserDomAdapter.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},BrowserDomAdapter.prototype.on=function(e,t,i){e.addEventListener(t,i,!1)},BrowserDomAdapter.prototype.onAndCancel=function(e,t,i){return e.addEventListener(t,i,!1),function(){e.removeEventListener(t,i,!1)}},BrowserDomAdapter.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},BrowserDomAdapter.prototype.createMouseEvent=function(e){var t=document.createEvent("MouseEvent");return t.initEvent(e,!0,!0),t},BrowserDomAdapter.prototype.createEvent=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t},BrowserDomAdapter.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},BrowserDomAdapter.prototype.isPrevented=function(e){return e.defaultPrevented||isPresent(e.returnValue)&&!e.returnValue},BrowserDomAdapter.prototype.getInnerHTML=function(e){return e.innerHTML},BrowserDomAdapter.prototype.getTemplateContent=function(e){return"content"in e&&e instanceof HTMLTemplateElement?e.content:null},BrowserDomAdapter.prototype.getOuterHTML=function(e){return e.outerHTML},BrowserDomAdapter.prototype.nodeName=function(e){return e.nodeName},BrowserDomAdapter.prototype.nodeValue=function(e){return e.nodeValue},BrowserDomAdapter.prototype.type=function(e){return e.type},BrowserDomAdapter.prototype.content=function(e){return this.hasProperty(e,"content")?e.content:e},BrowserDomAdapter.prototype.firstChild=function(e){return e.firstChild},BrowserDomAdapter.prototype.nextSibling=function(e){return e.nextSibling},BrowserDomAdapter.prototype.parentElement=function(e){return e.parentNode},BrowserDomAdapter.prototype.childNodes=function(e){return e.childNodes},BrowserDomAdapter.prototype.childNodesAsList=function(e){for(var t=e.childNodes,i=new Array(t.length),n=0;n<t.length;n++)i[n]=t[n];return i},BrowserDomAdapter.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild);
},BrowserDomAdapter.prototype.appendChild=function(e,t){e.appendChild(t)},BrowserDomAdapter.prototype.removeChild=function(e,t){e.removeChild(t)},BrowserDomAdapter.prototype.replaceChild=function(e,t,i){e.replaceChild(t,i)},BrowserDomAdapter.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},BrowserDomAdapter.prototype.insertBefore=function(e,t){e.parentNode.insertBefore(t,e)},BrowserDomAdapter.prototype.insertAllBefore=function(e,t){t.forEach(function(t){return e.parentNode.insertBefore(t,e)})},BrowserDomAdapter.prototype.insertAfter=function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},BrowserDomAdapter.prototype.setInnerHTML=function(e,t){e.innerHTML=t},BrowserDomAdapter.prototype.getText=function(e){return e.textContent},BrowserDomAdapter.prototype.setText=function(e,t){e.textContent=t},BrowserDomAdapter.prototype.getValue=function(e){return e.value},BrowserDomAdapter.prototype.setValue=function(e,t){e.value=t},BrowserDomAdapter.prototype.getChecked=function(e){return e.checked},BrowserDomAdapter.prototype.setChecked=function(e,t){e.checked=t},BrowserDomAdapter.prototype.createComment=function(e){return document.createComment(e)},BrowserDomAdapter.prototype.createTemplate=function(e){var t=document.createElement("template");return t.innerHTML=e,t},BrowserDomAdapter.prototype.createElement=function(e,t){return void 0===t&&(t=document),t.createElement(e)},BrowserDomAdapter.prototype.createElementNS=function(e,t,i){return void 0===i&&(i=document),i.createElementNS(e,t)},BrowserDomAdapter.prototype.createTextNode=function(e,t){return void 0===t&&(t=document),t.createTextNode(e)},BrowserDomAdapter.prototype.createScriptTag=function(e,t,i){void 0===i&&(i=document);var n=i.createElement("SCRIPT");return n.setAttribute(e,t),n},BrowserDomAdapter.prototype.createStyleElement=function(e,t){void 0===t&&(t=document);var i=t.createElement("style");return this.appendChild(i,this.createTextNode(e)),i},BrowserDomAdapter.prototype.createShadowRoot=function(e){return e.createShadowRoot()},BrowserDomAdapter.prototype.getShadowRoot=function(e){return e.shadowRoot},BrowserDomAdapter.prototype.getHost=function(e){return e.host},BrowserDomAdapter.prototype.clone=function(e){return e.cloneNode(!0)},BrowserDomAdapter.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},BrowserDomAdapter.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},BrowserDomAdapter.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},BrowserDomAdapter.prototype.addClass=function(e,t){e.classList.add(t)},BrowserDomAdapter.prototype.removeClass=function(e,t){e.classList.remove(t)},BrowserDomAdapter.prototype.hasClass=function(e,t){return e.classList.contains(t)},BrowserDomAdapter.prototype.setStyle=function(e,t,i){e.style[t]=i},BrowserDomAdapter.prototype.removeStyle=function(e,t){e.style[t]=""},BrowserDomAdapter.prototype.getStyle=function(e,t){return e.style[t]},BrowserDomAdapter.prototype.hasStyle=function(e,t,i){void 0===i&&(i=null);var n=this.getStyle(e,t)||"";return i?n==i:n.length>0},BrowserDomAdapter.prototype.tagName=function(e){return e.tagName},BrowserDomAdapter.prototype.attributeMap=function(e){for(var t=new Map,i=e.attributes,n=0;n<i.length;n++){var r=i[n];t.set(r.name,r.value)}return t},BrowserDomAdapter.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},BrowserDomAdapter.prototype.hasAttributeNS=function(e,t,i){return e.hasAttributeNS(t,i)},BrowserDomAdapter.prototype.getAttribute=function(e,t){return e.getAttribute(t)},BrowserDomAdapter.prototype.getAttributeNS=function(e,t,i){return e.getAttributeNS(t,i)},BrowserDomAdapter.prototype.setAttribute=function(e,t,i){e.setAttribute(t,i)},BrowserDomAdapter.prototype.setAttributeNS=function(e,t,i,n){e.setAttributeNS(t,i,n)},BrowserDomAdapter.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},BrowserDomAdapter.prototype.removeAttributeNS=function(e,t,i){e.removeAttributeNS(t,i)},BrowserDomAdapter.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},BrowserDomAdapter.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},BrowserDomAdapter.prototype.defaultDoc=function(){return document},BrowserDomAdapter.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},BrowserDomAdapter.prototype.getTitle=function(){return document.title},BrowserDomAdapter.prototype.setTitle=function(e){document.title=e||""},BrowserDomAdapter.prototype.elementMatches=function(e,t){return e instanceof HTMLElement&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))},BrowserDomAdapter.prototype.isTemplateElement=function(e){return e instanceof HTMLElement&&"TEMPLATE"==e.nodeName},BrowserDomAdapter.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},BrowserDomAdapter.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},BrowserDomAdapter.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},BrowserDomAdapter.prototype.hasShadowRoot=function(e){return isPresent(e.shadowRoot)&&e instanceof HTMLElement},BrowserDomAdapter.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},BrowserDomAdapter.prototype.importIntoDoc=function(e){return document.importNode(this.templateAwareRoot(e),!0)},BrowserDomAdapter.prototype.adoptNode=function(e){return document.adoptNode(e)},BrowserDomAdapter.prototype.getHref=function(e){return e.href},BrowserDomAdapter.prototype.getEventKey=function(e){var t=e.key;if(isBlank(t)){if(t=e.keyIdentifier,isBlank(t))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===P&&T.hasOwnProperty(t)&&(t=T[t]))}return k[t]||t},BrowserDomAdapter.prototype.getGlobalEventTarget=function(e){return"window"===e?window:"document"===e?document:"body"===e?document.body:void 0},BrowserDomAdapter.prototype.getHistory=function(){return window.history},BrowserDomAdapter.prototype.getLocation=function(){return window.location},BrowserDomAdapter.prototype.getBaseHref=function(){var e=getBaseElementHref();return isBlank(e)?null:relativePath(e)},BrowserDomAdapter.prototype.resetBaseElement=function(){D=null},BrowserDomAdapter.prototype.getUserAgent=function(){return window.navigator.userAgent},BrowserDomAdapter.prototype.setData=function(e,t,i){this.setAttribute(e,"data-"+t,i)},BrowserDomAdapter.prototype.getData=function(e,t){return this.getAttribute(e,"data-"+t)},BrowserDomAdapter.prototype.getComputedStyle=function(e){return getComputedStyle(e)},BrowserDomAdapter.prototype.setGlobalVar=function(e,t){setValueOnPath(u,e,t)},BrowserDomAdapter.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},BrowserDomAdapter.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},BrowserDomAdapter.prototype.supportsCookies=function(){return!0},BrowserDomAdapter.prototype.getCookie=function(e){return parseCookieValue(document.cookie,e)},BrowserDomAdapter.prototype.setCookie=function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)},BrowserDomAdapter}(x),D=null,M=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},O=function(e){function BrowserPlatformLocation(){e.call(this),this._init()}return M(BrowserPlatformLocation,e),BrowserPlatformLocation.prototype._init=function(){this._location=getDOM().getLocation(),this._history=getDOM().getHistory()},Object.defineProperty(BrowserPlatformLocation.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.getBaseHrefFromDOM=function(){return getDOM().getBaseHref()},BrowserPlatformLocation.prototype.onPopState=function(e){getDOM().getGlobalEventTarget("window").addEventListener("popstate",e,!1)},BrowserPlatformLocation.prototype.onHashChange=function(e){getDOM().getGlobalEventTarget("window").addEventListener("hashchange",e,!1)},Object.defineProperty(BrowserPlatformLocation.prototype,"pathname",{get:function(){return this._location.pathname},set:function(e){this._location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.pushState=function(e,t,i){supportsState()?this._history.pushState(e,t,i):this._location.hash=i},BrowserPlatformLocation.prototype.replaceState=function(e,t,i){supportsState()?this._history.replaceState(e,t,i):this._location.hash=i},BrowserPlatformLocation.prototype.forward=function(){this._history.forward()},BrowserPlatformLocation.prototype.back=function(){this._history.back()},BrowserPlatformLocation.decorators=[{type:n.Injectable}],BrowserPlatformLocation.ctorParameters=[],BrowserPlatformLocation}(i.PlatformLocation),I=(function(){return(new Map).keys().next?function(e){for(var t,i=e.keys();!(t=i.next()).done;)e.set(t.value,null)}:function(e){e.forEach(function(t,i){e.set(i,null)})}}(),function(){try{if((new Map).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var i=new Array(e.size),n=0;return e.forEach(function(e,r){i[n]=t?e:r,n++}),i}}(),function(){function StringMapWrapper(){}return StringMapWrapper.merge=function(e,t){for(var i={},n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];i[o]=e[o]}for(var s=0,a=Object.keys(t);s<a.length;s++){var o=a[s];i[o]=t[o]}return i},StringMapWrapper.equals=function(e,t){var i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(var r=0;r<i.length;r++){var o=i[r];if(e[o]!==t[o])return!1}return!0},StringMapWrapper}()),R=function(){function ListWrapper(){}return ListWrapper.createFixedSize=function(e){return new Array(e)},ListWrapper.createGrowableSize=function(e){return new Array(e)},ListWrapper.clone=function(e){return e.slice(0)},ListWrapper.forEachWithIndex=function(e,t){for(var i=0;i<e.length;i++)t(e[i],i)},ListWrapper.first=function(e){return e?e[0]:null},ListWrapper.last=function(e){return e&&0!=e.length?e[e.length-1]:null},ListWrapper.indexOf=function(e,t,i){return void 0===i&&(i=0),e.indexOf(t,i)},ListWrapper.contains=function(e,t){return e.indexOf(t)!==-1},ListWrapper.reversed=function(e){var t=ListWrapper.clone(e);return t.reverse()},ListWrapper.concat=function(e,t){return e.concat(t)},ListWrapper.insert=function(e,t,i){e.splice(t,0,i)},ListWrapper.removeAt=function(e,t){var i=e[t];return e.splice(t,1),i},ListWrapper.removeAll=function(e,t){for(var i=0;i<t.length;++i){var n=e.indexOf(t[i]);e.splice(n,1)}},ListWrapper.remove=function(e,t){var i=e.indexOf(t);return i>-1&&(e.splice(i,1),!0)},ListWrapper.clear=function(e){e.length=0},ListWrapper.isEmpty=function(e){return 0==e.length},ListWrapper.fill=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=null),e.fill(t,i,null===n?e.length:n)},ListWrapper.equals=function(e,t){if(e.length!=t.length)return!1;for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0},ListWrapper.slice=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=null),e.slice(t,null===i?void 0:i)},ListWrapper.splice=function(e,t,i){return e.splice(t,i)},ListWrapper.sort=function(e,t){isPresent(t)?e.sort(t):e.sort()},ListWrapper.toString=function(e){return e.toString()},ListWrapper.toJSON=function(e){return JSON.stringify(e)},ListWrapper.maximum=function(e,t){if(0==e.length)return null;for(var i=null,n=-(1/0),r=0;r<e.length;r++){var o=e[r];if(!isBlank(o)){var s=t(o);s>n&&(i=o,n=s)}}return i},ListWrapper.flatten=function(e){var t=[];return _flattenArray(e,t),t},ListWrapper.addAll=function(e,t){for(var i=0;i<t.length;i++)e.push(t[i])},ListWrapper}(),N=function(){function BrowserGetTestability(){}return BrowserGetTestability.init=function(){n.setTestabilityGetter(new BrowserGetTestability)},BrowserGetTestability.prototype.addToWindow=function(e){u.getAngularTestability=function(t,i){void 0===i&&(i=!0);var n=e.findTestabilityInTree(t,i);if(null==n)throw new Error("Could not find testability for element.");return n},u.getAllAngularTestabilities=function(){return e.getAllTestabilities()},u.getAllAngularRootElements=function(){return e.getAllRootElements()};var t=function(e){var t=u.getAllAngularTestabilities(),i=t.length,n=!1,r=function(t){n=n||t,i--,0==i&&e(n)};t.forEach(function(e){e.whenStable(r)})};u.frameworkStabilizers||(u.frameworkStabilizers=R.createGrowableSize(0)),u.frameworkStabilizers.push(t)},BrowserGetTestability.prototype.findTestabilityInTree=function(e,t,i){if(null==t)return null;var n=e.getTestability(t);return isPresent(n)?n:i?getDOM().isShadowRoot(t)?this.findTestabilityInTree(e,getDOM().getHost(t),!0):this.findTestabilityInTree(e,getDOM().parentElement(t),!0):null},BrowserGetTestability}(),L=function(){function Title(){}return Title.prototype.getTitle=function(){return getDOM().getTitle()},Title.prototype.setTitle=function(e){getDOM().setTitle(e)},Title}(),V=new n.OpaqueToken("DocumentToken"),F=new n.OpaqueToken("EventManagerPlugins"),j=function(){function EventManager(e,t){var i=this;this._zone=t,e.forEach(function(e){return e.manager=i}),this._plugins=e.slice().reverse()}return EventManager.prototype.addEventListener=function(e,t,i){var n=this._findPluginFor(t);return n.addEventListener(e,t,i)},EventManager.prototype.addGlobalEventListener=function(e,t,i){var n=this._findPluginFor(t);return n.addGlobalEventListener(e,t,i)},EventManager.prototype.getZone=function(){return this._zone},EventManager.prototype._findPluginFor=function(e){for(var t=this._plugins,i=0;i<t.length;i++){var n=t[i];if(n.supports(e))return n}throw new Error("No event manager plugin found for event "+e)},EventManager.decorators=[{type:n.Injectable}],EventManager.ctorParameters=[{type:Array,decorators:[{type:n.Inject,args:[F]}]},{type:n.NgZone}],EventManager}(),B=function(){function EventManagerPlugin(){}return EventManagerPlugin.prototype.supports=function(e){return!1},EventManagerPlugin.prototype.addEventListener=function(e,t,i){throw"not implemented"},EventManagerPlugin.prototype.addGlobalEventListener=function(e,t,i){throw"not implemented"},EventManagerPlugin}(),z=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},H=function(){function SharedStylesHost(){this._styles=[],this._stylesSet=new Set}return SharedStylesHost.prototype.addStyles=function(e){var t=this,i=[];e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),t._styles.push(e),i.push(e))}),this.onStylesAdded(i)},SharedStylesHost.prototype.onStylesAdded=function(e){},SharedStylesHost.prototype.getAllStyles=function(){return this._styles},SharedStylesHost.decorators=[{type:n.Injectable}],SharedStylesHost.ctorParameters=[],SharedStylesHost}(),W=function(e){function DomSharedStylesHost(t){e.call(this),this._hostNodes=new Set,this._hostNodes.add(t.head)}return z(DomSharedStylesHost,e),DomSharedStylesHost.prototype._addStylesToHost=function(e,t){for(var i=0;i<e.length;i++){var n=e[i];getDOM().appendChild(t,getDOM().createStyleElement(n))}},DomSharedStylesHost.prototype.addHost=function(e){this._addStylesToHost(this._styles,e),this._hostNodes.add(e)},DomSharedStylesHost.prototype.removeHost=function(e){this._hostNodes.delete(e)},DomSharedStylesHost.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(i){t._addStylesToHost(e,i)})},DomSharedStylesHost.decorators=[{type:n.Injectable}],DomSharedStylesHost.ctorParameters=[{type:void 0,decorators:[{type:n.Inject,args:[V]}]}],DomSharedStylesHost}(H),G=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},U={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},q="template bindings={}",Y=/^template bindings=(.*)$/,K=function(){function DomRootRenderer(e,t,i,n){this.document=e,this.eventManager=t,this.sharedStylesHost=i,this.animationDriver=n,this.registeredComponents=new Map}return DomRootRenderer.prototype.renderComponent=function(e){var t=this.registeredComponents.get(e.id);return t||(t=new Z(this,e,this.animationDriver),this.registeredComponents.set(e.id,t)),t},DomRootRenderer}(),X=function(e){function DomRootRenderer_(t,i,n,r){e.call(this,t,i,n,r)}return G(DomRootRenderer_,e),DomRootRenderer_.decorators=[{type:n.Injectable}],DomRootRenderer_.ctorParameters=[{type:void 0,decorators:[{type:n.Inject,args:[V]}]},{type:j},{type:W},{type:l}],DomRootRenderer_}(K),Z=function(){function DomRenderer(e,t,i){this._rootRenderer=e,this.componentProto=t,this._animationDriver=i,this._styles=_flattenStyles(t.id,t.styles,[]),t.encapsulation!==n.ViewEncapsulation.Native&&this._rootRenderer.sharedStylesHost.addStyles(this._styles),this.componentProto.encapsulation===n.ViewEncapsulation.Emulated?(this._contentAttr=_shimContentAttribute(t.id),this._hostAttr=_shimHostAttribute(t.id)):(this._contentAttr=null,this._hostAttr=null)}return DomRenderer.prototype.selectRootElement=function(e,t){var i;if(isString(e)){if(i=getDOM().querySelector(this._rootRenderer.document,e),isBlank(i))throw new Error('The selector "'+e+'" did not match any elements')}else i=e;return getDOM().clearNodes(i),i},DomRenderer.prototype.createElement=function(e,t,i){var n=splitNamespace(t),r=isPresent(n[0])?getDOM().createElementNS(U[n[0]],n[1]):getDOM().createElement(n[1]);return isPresent(this._contentAttr)&&getDOM().setAttribute(r,this._contentAttr,""),isPresent(e)&&getDOM().appendChild(e,r),r},DomRenderer.prototype.createViewRoot=function(e){var t;if(this.componentProto.encapsulation===n.ViewEncapsulation.Native){t=getDOM().createShadowRoot(e),this._rootRenderer.sharedStylesHost.addHost(t);for(var i=0;i<this._styles.length;i++)getDOM().appendChild(t,getDOM().createStyleElement(this._styles[i]))}else isPresent(this._hostAttr)&&getDOM().setAttribute(e,this._hostAttr,""),t=e;return t},DomRenderer.prototype.createTemplateAnchor=function(e,t){var i=getDOM().createComment(q);return isPresent(e)&&getDOM().appendChild(e,i),i},DomRenderer.prototype.createText=function(e,t,i){var n=getDOM().createTextNode(t);return isPresent(e)&&getDOM().appendChild(e,n),n},DomRenderer.prototype.projectNodes=function(e,t){isBlank(e)||appendNodes(e,t)},DomRenderer.prototype.attachViewAfter=function(e,t){moveNodesAfterSibling(e,t)},DomRenderer.prototype.detachView=function(e){for(var t=0;t<e.length;t++)getDOM().remove(e[t])},DomRenderer.prototype.destroyView=function(e,t){this.componentProto.encapsulation===n.ViewEncapsulation.Native&&isPresent(e)&&this._rootRenderer.sharedStylesHost.removeHost(getDOM().getShadowRoot(e))},DomRenderer.prototype.listen=function(e,t,i){return this._rootRenderer.eventManager.addEventListener(e,t,decoratePreventDefault(i))},DomRenderer.prototype.listenGlobal=function(e,t,i){return this._rootRenderer.eventManager.addGlobalEventListener(e,t,decoratePreventDefault(i))},DomRenderer.prototype.setElementProperty=function(e,t,i){getDOM().setProperty(e,t,i)},DomRenderer.prototype.setElementAttribute=function(e,t,i){var n,r=splitNamespace(t);isPresent(r[0])&&(t=r[0]+":"+r[1],n=U[r[0]]),isPresent(i)?isPresent(n)?getDOM().setAttributeNS(e,n,t,i):getDOM().setAttribute(e,t,i):isPresent(n)?getDOM().removeAttributeNS(e,n,r[1]):getDOM().removeAttribute(e,t)},DomRenderer.prototype.setBindingDebugInfo=function(e,t,i){var n=camelCaseToDashCase(t);if(getDOM().isCommentNode(e)){var r=getDOM().getText(e).replace(/\n/g,"").match(Y),o=p.parse(r[1]);o[n]=i,getDOM().setText(e,q.replace("{}",p.stringify(o)))}else this.setElementAttribute(e,t,i)},DomRenderer.prototype.setElementClass=function(e,t,i){i?getDOM().addClass(e,t):getDOM().removeClass(e,t)},DomRenderer.prototype.setElementStyle=function(e,t,i){isPresent(i)?getDOM().setStyle(e,t,stringify(i)):getDOM().removeStyle(e,t)},DomRenderer.prototype.invokeElementMethod=function(e,t,i){getDOM().invoke(e,t,i)},DomRenderer.prototype.setText=function(e,t){getDOM().setText(e,t)},DomRenderer.prototype.animate=function(e,t,i,n,r,o){return this._animationDriver.animate(e,t,i,n,r,o)},DomRenderer}(),Q=/%COMP%/g,J="%COMP%",$="_nghost-"+J,ee="_ngcontent-"+J,te=/^:([^:]+):(.+)$/,ie={ApplicationRef:n.ApplicationRef,NgZone:n.NgZone},ne="ng.probe",re="ng.coreTokens",oe=function(){function NgProbeToken(e,t){this.name=e,this.token=t}return NgProbeToken}(),se=[{provide:n.RootRenderer,useFactory:_createConditionalRootRenderer,deps:[K,[oe,new n.Optional]]}],ae=([{provide:n.RootRenderer,useFactory:_createRootRenderer,deps:[K,[oe,new n.Optional]]}],this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),le=function(e){function DomEventsPlugin(){e.apply(this,arguments)}return ae(DomEventsPlugin,e),DomEventsPlugin.prototype.supports=function(e){return!0},DomEventsPlugin.prototype.addEventListener=function(e,t,i){var n=this.manager.getZone(),r=function(e){return n.runGuarded(function(){return i(e)})};return this.manager.getZone().runOutsideAngular(function(){return getDOM().onAndCancel(e,t,r)})},DomEventsPlugin.prototype.addGlobalEventListener=function(e,t,i){var n=getDOM().getGlobalEventTarget(e),r=this.manager.getZone(),o=function(e){return r.runGuarded(function(){return i(e)})};return this.manager.getZone().runOutsideAngular(function(){return getDOM().onAndCancel(n,t,o)})},DomEventsPlugin.decorators=[{type:n.Injectable}],DomEventsPlugin.ctorParameters=[],DomEventsPlugin}(B),ue=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},ce={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},he=function(e){function HammerGesturesPluginCommon(){e.call(this)}return ue(HammerGesturesPluginCommon,e),HammerGesturesPluginCommon.prototype.supports=function(e){return ce.hasOwnProperty(e.toLowerCase())},HammerGesturesPluginCommon}(B),pe=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},de=new n.OpaqueToken("HammerGestureConfig"),fe=function(){function HammerGestureConfig(){this.events=[],this.overrides={}}return HammerGestureConfig.prototype.buildHammer=function(e){var t=new Hammer(e);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(var i in this.overrides)t.get(i).set(this.overrides[i]);return t},HammerGestureConfig.decorators=[{type:n.Injectable}],HammerGestureConfig.ctorParameters=[],HammerGestureConfig}(),me=function(e){function HammerGesturesPlugin(t){e.call(this),this._config=t}return pe(HammerGesturesPlugin,e),HammerGesturesPlugin.prototype.supports=function(t){if(!e.prototype.supports.call(this,t)&&!this.isCustomEvent(t))return!1;if(!isPresent(window.Hammer))throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},HammerGesturesPlugin.prototype.addEventListener=function(e,t,i){var n=this,r=this.manager.getZone();return t=t.toLowerCase(),r.runOutsideAngular(function(){var o=n._config.buildHammer(e),s=function(e){r.runGuarded(function(){i(e)})};return o.on(t,s),function(){o.off(t,s)}})},HammerGesturesPlugin.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},HammerGesturesPlugin.decorators=[{type:n.Injectable}],HammerGesturesPlugin.ctorParameters=[{type:fe,decorators:[{type:n.Inject,args:[de]}]}],HammerGesturesPlugin}(he),ye=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},ve=["alt","control","meta","shift"],ge={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},_e=function(e){function KeyEventsPlugin(){e.call(this)}return ye(KeyEventsPlugin,e),KeyEventsPlugin.prototype.supports=function(e){return isPresent(KeyEventsPlugin.parseEventName(e))},KeyEventsPlugin.prototype.addEventListener=function(e,t,i){var n=KeyEventsPlugin.parseEventName(t),r=KeyEventsPlugin.eventCallback(e,n.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return getDOM().onAndCancel(e,n.domEventName,r)})},KeyEventsPlugin.parseEventName=function(e){var t=e.toLowerCase().split("."),i=t.shift();if(0===t.length||"keydown"!==i&&"keyup"!==i)return null;var n=KeyEventsPlugin._normalizeKey(t.pop()),r="";if(ve.forEach(function(e){R.contains(t,e)&&(R.remove(t,e),r+=e+".")}),r+=n,0!=t.length||0===n.length)return null;var o={};return o.domEventName=i,o.fullKey=r,o},KeyEventsPlugin.getEventFullKey=function(e){var t="",i=getDOM().getEventKey(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ve.forEach(function(n){if(n!=i){var r=ge[n];r(e)&&(t+=n+".")}}),t+=i},KeyEventsPlugin.eventCallback=function(e,t,i,n){return function(e){KeyEventsPlugin.getEventFullKey(e)===t&&n.runGuarded(function(){return i(e)})}},KeyEventsPlugin._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}},KeyEventsPlugin.decorators=[{type:n.Injectable}],KeyEventsPlugin.ctorParameters=[],KeyEventsPlugin}(B),be=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,we=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Ce=null,xe=null,Ee=tagSet("area,br,col,hr,img,wbr"),Se=tagSet("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pe=tagSet("rp,rt"),ke=merge(Pe,Se),Te=merge(Se,tagSet("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ae=merge(Pe,tagSet("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),De=merge(Ee,Te,Ae,ke),Me=tagSet("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Oe=tagSet("srcset"),Ie=tagSet("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Re=merge(Me,Oe,Ie),Ne=function(){function SanitizingHtmlSerializer(){this.sanitizedSomething=!1,this.buf=[]}return SanitizingHtmlSerializer.prototype.sanitizeChildren=function(e){for(var t=e.firstChild;t;)if(xe.isElementNode(t)?this.startElement(t):xe.isTextNode(t)?this.chars(xe.nodeValue(t)):this.sanitizedSomething=!0,xe.firstChild(t))t=xe.firstChild(t);else for(;t;){if(xe.isElementNode(t)&&this.endElement(t),xe.nextSibling(t)){t=xe.nextSibling(t);break}t=xe.parentElement(t)}return this.buf.join("")},SanitizingHtmlSerializer.prototype.startElement=function(e){var t=this,i=xe.nodeName(e).toLowerCase();return De.hasOwnProperty(i)?(this.buf.push("<"),this.buf.push(i),xe.attributeMap(e).forEach(function(e,i){var n=i.toLowerCase();return Re.hasOwnProperty(n)?(Me[n]&&(e=sanitizeUrl(e)),Oe[n]&&(e=sanitizeSrcset(e)),t.buf.push(" "),t.buf.push(i),t.buf.push('="'),t.buf.push(encodeEntities(e)),void t.buf.push('"')):void(t.sanitizedSomething=!0)}),void this.buf.push(">")):void(this.sanitizedSomething=!0)},SanitizingHtmlSerializer.prototype.endElement=function(e){var t=xe.nodeName(e).toLowerCase();De.hasOwnProperty(t)&&!Ee.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))},SanitizingHtmlSerializer.prototype.chars=function(e){this.buf.push(encodeEntities(e))},SanitizingHtmlSerializer}(),Le=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ve=/([^\#-~ |!])/g,Fe="[-,.\"'%_!# a-zA-Z0-9]+",je="(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?",Be="(?:rgb|hsl)a?",ze="\\([-0-9.%, a-zA-Z]+\\)",He=new RegExp("^("+Fe+"|(?:"+je+"|"+Be+")"+ze+")$","g"),We=/^url\(([^)]+)\)$/,Ge=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},Ue=function(){function DomSanitizer(){}return DomSanitizer}(),qe=function(e){function DomSanitizerImpl(){e.apply(this,arguments)}return Ge(DomSanitizerImpl,e),DomSanitizerImpl.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case n.SecurityContext.NONE:return t;case n.SecurityContext.HTML:return t instanceof Ke?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),sanitizeHtml(String(t)));case n.SecurityContext.STYLE:return t instanceof Xe?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),sanitizeStyle(t));case n.SecurityContext.SCRIPT:if(t instanceof Ze)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case n.SecurityContext.URL:return t instanceof Je||t instanceof Qe?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),sanitizeUrl(String(t)));case n.SecurityContext.RESOURCE_URL:if(t instanceof Je)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+e+" (see http://g.co/ng/security#xss)")}},DomSanitizerImpl.prototype.checkNotSafeValue=function(e,t){if(e instanceof Ye)throw new Error("Required a safe "+t+", got a "+e.getTypeName()+" (see http://g.co/ng/security#xss)")},DomSanitizerImpl.prototype.bypassSecurityTrustHtml=function(e){return new Ke(e)},DomSanitizerImpl.prototype.bypassSecurityTrustStyle=function(e){return new Xe(e)},DomSanitizerImpl.prototype.bypassSecurityTrustScript=function(e){return new Ze(e)},DomSanitizerImpl.prototype.bypassSecurityTrustUrl=function(e){return new Qe(e)},DomSanitizerImpl.prototype.bypassSecurityTrustResourceUrl=function(e){return new Je(e)},DomSanitizerImpl.decorators=[{type:n.Injectable}],DomSanitizerImpl.ctorParameters=[],DomSanitizerImpl}(Ue),Ye=function(){function SafeValueImpl(e){this.changingThisBreaksApplicationSecurity=e}return SafeValueImpl.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},SafeValueImpl}(),Ke=function(e){function SafeHtmlImpl(){e.apply(this,arguments)}return Ge(SafeHtmlImpl,e),SafeHtmlImpl.prototype.getTypeName=function(){return"HTML"},SafeHtmlImpl}(Ye),Xe=function(e){function SafeStyleImpl(){e.apply(this,arguments)}return Ge(SafeStyleImpl,e),SafeStyleImpl.prototype.getTypeName=function(){return"Style"},SafeStyleImpl}(Ye),Ze=function(e){function SafeScriptImpl(){e.apply(this,arguments);
}return Ge(SafeScriptImpl,e),SafeScriptImpl.prototype.getTypeName=function(){return"Script"},SafeScriptImpl}(Ye),Qe=function(e){function SafeUrlImpl(){e.apply(this,arguments)}return Ge(SafeUrlImpl,e),SafeUrlImpl.prototype.getTypeName=function(){return"URL"},SafeUrlImpl}(Ye),Je=function(e){function SafeResourceUrlImpl(){e.apply(this,arguments)}return Ge(SafeResourceUrlImpl,e),SafeResourceUrlImpl.prototype.getTypeName=function(){return"ResourceURL"},SafeResourceUrlImpl}(Ye),$e=[{provide:n.PLATFORM_INITIALIZER,useValue:initDomAdapter,multi:!0},{provide:i.PlatformLocation,useClass:O}],et=[{provide:n.Sanitizer,useExisting:Ue},{provide:Ue,useClass:qe}],tt=n.createPlatformFactory(n.platformCore,"browser",$e),it=function(){function BrowserModule(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return BrowserModule.decorators=[{type:n.NgModule,args:[{providers:[et,{provide:n.ErrorHandler,useFactory:errorHandler,deps:[]},{provide:V,useFactory:_document,deps:[]},{provide:F,useClass:le,multi:!0},{provide:F,useClass:_e,multi:!0},{provide:F,useClass:me,multi:!0},{provide:de,useClass:fe},{provide:K,useClass:X},{provide:n.RootRenderer,useExisting:K},{provide:H,useExisting:W},{provide:l,useFactory:_resolveDefaultAnimationDriver},W,n.Testability,j,se,L],exports:[i.CommonModule,n.ApplicationModule]}]}],BrowserModule.ctorParameters=[{type:BrowserModule,decorators:[{type:n.Optional},{type:n.SkipSelf}]}],BrowserModule}(),nt="undefined"!=typeof window&&window||{},rt=function(){function ChangeDetectionPerfRecord(e,t){this.msPerTick=e,this.numTicks=t}return ChangeDetectionPerfRecord}(),ot=function(){function AngularTools(e){this.profiler=new st(e)}return AngularTools}(),st=function(){function AngularProfiler(e){this.appRef=e.injector.get(n.ApplicationRef)}return AngularProfiler.prototype.timeChangeDetection=function(e){var t=isPresent(e)&&e.record,i="Change Detection",n=isPresent(nt.console.profile);t&&n&&nt.console.profile(i);for(var r=getDOM().performanceNow(),o=0;o<5||getDOM().performanceNow()-r<500;)this.appRef.tick(),o++;var s=getDOM().performanceNow();t&&n&&nt.console.profileEnd(i);var a=(s-r)/o;return nt.console.log("ran "+o+" change detection cycles"),nt.console.log(h.toFixed(a,2)+" ms per check"),new rt(a,o)},AngularProfiler}(),at=u,lt=function(){function By(){}return By.all=function(){return function(e){return!0}},By.css=function(e){return function(t){return!!isPresent(t.nativeElement)&&getDOM().elementMatches(t.nativeElement,e)}},By.directive=function(e){return function(t){return t.providerTokens.indexOf(e)!==-1}},By}(),ut={BrowserPlatformLocation:O,DomAdapter:y,BrowserDomAdapter:A,BrowserGetTestability:N,getDOM:getDOM,setRootDomAdapter:setRootDomAdapter,DomRootRenderer_:X,DomRootRenderer:K,DomSharedStylesHost:W,SharedStylesHost:H,ELEMENT_PROBE_PROVIDERS:se,DomEventsPlugin:le,KeyEventsPlugin:_e,HammerGesturesPlugin:me,initDomAdapter:initDomAdapter,INTERNAL_BROWSER_PLATFORM_PROVIDERS:$e,BROWSER_SANITIZATION_PROVIDERS:et};t.BrowserModule=it,t.platformBrowser=tt,t.Title=L,t.disableDebugTools=disableDebugTools,t.enableDebugTools=enableDebugTools,t.AnimationDriver=l,t.By=lt,t.NgProbeToken=oe,t.DOCUMENT=V,t.EVENT_MANAGER_PLUGINS=F,t.EventManager=j,t.HAMMER_GESTURE_CONFIG=de,t.HammerGestureConfig=fe,t.DomSanitizer=Ue,t.__platform_browser_private__=ut})}).call(t,function(){return this}())},41:function(e,t,i){"use strict";var n=i(34),r=i(132),o=i(127),s=function(){function Observable(e){this._isScalar=!1,e&&(this._subscribe=e)}return Observable.prototype.lift=function(e){var t=new Observable;return t.source=this,t.operator=e,t},Observable.prototype.subscribe=function(e,t,i){var n=this.operator,o=r.toSubscriber(e,t,i);if(n?n.call(o,this):o.add(this._subscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},Observable.prototype.forEach=function(e,t){var i=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r=i.subscribe(function(t){if(r)try{e(t)}catch(i){n(i),r.unsubscribe()}else e(t)},n,t)})},Observable.prototype._subscribe=function(e){return this.source.subscribe(e)},Observable.prototype[o.$$observable]=function(){return this},Observable.create=function(e){return new Observable(e)},Observable}();t.Observable=s},122:function(e,t){"use strict";t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},76:function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},r=i(41),o=i(77),s=i(53),a=i(128),l=i(123),u=i(54),c=function(e){function SubjectSubscriber(t){e.call(this,t),this.destination=t}return n(SubjectSubscriber,e),SubjectSubscriber}(o.Subscriber);t.SubjectSubscriber=c;var h=function(e){function Subject(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(Subject,e),Subject.prototype[u.$$rxSubscriber]=function(){return new c(this)},Subject.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},Subject.prototype.next=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,i=t.length,n=t.slice(),r=0;r<i;r++)n[r].next(e)},Subject.prototype.error=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,i=t.length,n=t.slice(),r=0;r<i;r++)n[r].error(e);this.observers.length=0},Subject.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,i=e.slice(),n=0;n<t;n++)i[n].complete();this.observers.length=0},Subject.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},Subject.prototype._subscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(e.complete(),s.Subscription.EMPTY):(this.observers.push(e),new l.SubjectSubscription(this,e))},Subject.prototype.asObservable=function(){var e=new r.Observable;return e.source=this,e},Subject.create=function(e,t){return new p(e,t)},Subject}(r.Observable);t.Subject=h;var p=function(e){function AnonymousSubject(t,i){e.call(this),this.destination=t,this.source=i}return n(AnonymousSubject,e),AnonymousSubject.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},AnonymousSubject.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},AnonymousSubject.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},AnonymousSubject.prototype._subscribe=function(e){var t=this.source;return t?this.source.subscribe(e):s.Subscription.EMPTY},AnonymousSubject}(h);t.AnonymousSubject=p},123:function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},r=i(53),o=function(e){function SubjectSubscription(t,i){e.call(this),this.subject=t,this.subscriber=i,this.closed=!1}return n(SubjectSubscription,e),SubjectSubscription.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var i=t.indexOf(this.subscriber);i!==-1&&t.splice(i,1)}}},SubjectSubscription}(r.Subscription);t.SubjectSubscription=o},77:function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},r=i(79),o=i(53),s=i(122),a=i(54),l=function(e){function Subscriber(t,i,n){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!t){this.destination=s.empty;break}if("object"==typeof t){t instanceof Subscriber?(this.destination=t,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,i,n)}}return n(Subscriber,e),Subscriber.prototype[a.$$rxSubscriber]=function(){return this},Subscriber.create=function(e,t,i){var n=new Subscriber(e,t,i);return n.syncErrorThrowable=!1,n},Subscriber.prototype.next=function(e){this.isStopped||this._next(e)},Subscriber.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},Subscriber.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},Subscriber.prototype._next=function(e){this.destination.next(e)},Subscriber.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},Subscriber.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},Subscriber}(o.Subscription);t.Subscriber=l;var u=function(e){function SafeSubscriber(t,i,n,o){e.call(this),this._parent=t;var s,a=this;r.isFunction(i)?s=i:i&&(a=i,s=i.next,n=i.error,o=i.complete,r.isFunction(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this)),this._context=a,this._next=s,this._error=n,this._complete=o}return n(SafeSubscriber,e),SafeSubscriber.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parent;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},SafeSubscriber.prototype.error=function(e){if(!this.isStopped){var t=this._parent;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},SafeSubscriber.prototype.complete=function(){if(!this.isStopped){var e=this._parent;this._complete?e.syncErrorThrowable?(this.__tryOrSetError(e,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},SafeSubscriber.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(i){throw this.unsubscribe(),i}},SafeSubscriber.prototype.__tryOrSetError=function(e,t,i){try{t.call(this._context,i)}catch(n){return e.syncErrorValue=n,e.syncErrorThrown=!0,!0}return!1},SafeSubscriber.prototype._unsubscribe=function(){var e=this._parent;this._context=null,this._parent=null,e.unsubscribe()},SafeSubscriber}(l)},53:function(e,t,i){"use strict";var n=i(130),r=i(131),o=i(79),s=i(133),a=i(78),l=i(129),u=function(){function Subscription(e){this.closed=!1,e&&(this._unsubscribe=e)}return Subscription.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){this.closed=!0;var i=this,u=i._unsubscribe,c=i._subscriptions;if(this._subscriptions=null,o.isFunction(u)){var h=s.tryCatch(u).call(this);h===a.errorObject&&(t=!0,(e=e||[]).push(a.errorObject.e))}if(n.isArray(c))for(var p=-1,d=c.length;++p<d;){var f=c[p];if(r.isObject(f)){var h=s.tryCatch(f.unsubscribe).call(f);if(h===a.errorObject){t=!0,e=e||[];var m=a.errorObject.e;m instanceof l.UnsubscriptionError?e=e.concat(m.errors):e.push(m)}}}if(t)throw new l.UnsubscriptionError(e)}},Subscription.prototype.add=function(e){if(!e||e===Subscription.EMPTY)return Subscription.EMPTY;if(e===this)return this;var t=e;switch(typeof e){case"function":t=new Subscription(e);case"object":if(t.closed||"function"!=typeof t.unsubscribe)break;this.closed?t.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(t);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return t},Subscription.prototype.remove=function(e){if(null!=e&&e!==this&&e!==Subscription.EMPTY){var t=this._subscriptions;if(t){var i=t.indexOf(e);i!==-1&&t.splice(i,1)}}},Subscription.EMPTY=function(e){return e.closed=!0,e}(new Subscription),Subscription}();t.Subscription=u},124:function(e,t,i){"use strict";function dispatchNext(e){var t=e.value,i=e.subscriber;i.closed||(i.next(t),i.complete())}function dispatchError(e){var t=e.err,i=e.subscriber;i.closed||i.error(t)}var n=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},r=i(34),o=i(41),s=function(e){function PromiseObservable(t,i){e.call(this),this.promise=t,this.scheduler=i}return n(PromiseObservable,e),PromiseObservable.create=function(e,t){return new PromiseObservable(e,t)},PromiseObservable.prototype._subscribe=function(e){var t=this,i=this.promise,n=this.scheduler;if(null==n)this._isScalar?e.closed||(e.next(this.value),e.complete()):i.then(function(i){t.value=i,t._isScalar=!0,e.closed||(e.next(i),e.complete())},function(t){e.closed||e.error(t)}).then(null,function(e){r.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.closed)return n.schedule(dispatchNext,0,{value:this.value,subscriber:e})}else i.then(function(i){t.value=i,t._isScalar=!0,e.closed||e.add(n.schedule(dispatchNext,0,{value:i,subscriber:e}))},function(t){e.closed||e.add(n.schedule(dispatchError,0,{err:t,subscriber:e}))}).then(null,function(e){r.root.setTimeout(function(){throw e})})},PromiseObservable}(o.Observable);t.PromiseObservable=s},125:function(e,t,i){"use strict";var n=i(124);t.fromPromise=n.PromiseObservable.create},126:function(e,t,i){"use strict";function toPromise(e){var t=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,i){var n;t.subscribe(function(e){return n=e},function(e){return i(e)},function(){return e(n)})})}var n=i(34);t.toPromise=toPromise},127:function(e,t,i){"use strict";function getSymbolObservable(e){var t,i=e.Symbol;return"function"==typeof i?i.observable?t=i.observable:(t=i("observable"),i.observable=t):t="@@observable",t}var n=i(34);t.getSymbolObservable=getSymbolObservable,t.$$observable=getSymbolObservable(n.root)},54:function(e,t,i){"use strict";var n=i(34),r=n.root.Symbol;t.$$rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber"},128:function(e,t){"use strict";var i=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=function(e){function ObjectUnsubscribedError(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return i(ObjectUnsubscribedError,e),ObjectUnsubscribedError}(Error);t.ObjectUnsubscribedError=n},129:function(e,t){"use strict";var i=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=function(e){function UnsubscriptionError(t){e.call(this),this.errors=t;var i=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=i.name="UnsubscriptionError",this.stack=i.stack,this.message=i.message}return i(UnsubscriptionError,e),UnsubscriptionError}(Error);t.UnsubscriptionError=n},78:function(e,t){"use strict";t.errorObject={e:{}}},130:function(e,t){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},79:function(e,t){"use strict";function isFunction(e){return"function"==typeof e}t.isFunction=isFunction},131:function(e,t){"use strict";function isObject(e){return null!=e&&"object"==typeof e}t.isObject=isObject},34:function(e,t){(function(e){"use strict";var i={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};t.root=i[typeof self]&&self||i[typeof window]&&window;var n=i[typeof e]&&e;!n||n.global!==n&&n.window!==n||(t.root=n)}).call(t,function(){return this}())},132:function(e,t,i){"use strict";function toSubscriber(e,t,i){if(e){if(e instanceof n.Subscriber)return e;if(e[r.$$rxSubscriber])return e[r.$$rxSubscriber]()}return e||t||i?new n.Subscriber(e,t,i):new n.Subscriber}var n=i(77),r=i(54);t.toSubscriber=toSubscriber},133:function(e,t,i){"use strict";function tryCatcher(){try{return n.apply(this,arguments)}catch(e){return r.errorObject.e=e,r.errorObject}}function tryCatch(e){return n=e,tryCatcher}var n,r=i(78);t.tryCatch=tryCatch},73:function(e,t,i){"use strict";!function(t,i){e.exports=i()}(this,function(){return function(e){function __webpack_require__(i){if(t[i])return t[i].exports;var n=t[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(e,t,i){var n=i(1);n.extend(t,i(7)),n.extend(t,i(24)),n.extend(t,i(60))},function(e,t,i){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=i(2),o=i(6);t.isNumber=function(e){return e instanceof Number||"number"==typeof e},t.recursiveDOMDelete=function(e){if(e)for(;e.hasChildNodes()===!0;)t.recursiveDOMDelete(e.firstChild),e.removeChild(e.firstChild)},t.giveRange=function(e,t,i,n){if(t==e)return.5;var r=1/(t-e);return Math.max(0,(n-e)*r)},t.isString=function(e){return e instanceof String||"string"==typeof e},t.isDate=function(e){if(e instanceof Date)return!0;if(t.isString(e)){var i=s.exec(e);if(i)return!0;if(!isNaN(Date.parse(e)))return!0}return!1},t.randomUUID=function(){return o.v4()},t.assignAllKeys=function(e,t){for(var i in e)e.hasOwnProperty(i)&&"object"!==n(e[i])&&(e[i]=t)},t.fillIfDefined=function(e,i){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];for(var o in e)void 0!==i[o]&&("object"!==n(i[o])?void 0!==i[o]&&null!==i[o]||void 0===e[o]||r!==!0?e[o]=i[o]:delete e[o]:"object"===n(e[o])&&t.fillIfDefined(e[o],i[o],r))},t.protoExtend=function(e,t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var r in n)e[r]=n[r]}return e},t.extend=function(e,t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e},t.selectiveExtend=function(e,t,i){if(!Array.isArray(e))throw new Error("Array with property names expected as first argument");for(var n=2;n<arguments.length;n++)for(var r=arguments[n],o=0;o<e.length;o++){var s=e[o];r.hasOwnProperty(s)&&(t[s]=r[s])}return t},t.selectiveDeepExtend=function(e,i,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var o=2;o<arguments.length;o++)for(var s=arguments[o],a=0;a<e.length;a++){var l=e[a];if(s.hasOwnProperty(l))if(n[l]&&n[l].constructor===Object)void 0===i[l]&&(i[l]={}),i[l].constructor===Object?t.deepExtend(i[l],n[l],!1,r):null===n[l]&&void 0!==i[l]&&r===!0?delete i[l]:i[l]=n[l];else{if(Array.isArray(n[l]))throw new TypeError("Arrays are not supported by deepExtend");null===n[l]&&void 0!==i[l]&&r===!0?delete i[l]:i[l]=n[l]}}return i},t.selectiveNotDeepExtend=function(e,i,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var o in n)if(n.hasOwnProperty(o)&&e.indexOf(o)==-1)if(n[o]&&n[o].constructor===Object)void 0===i[o]&&(i[o]={}),i[o].constructor===Object?t.deepExtend(i[o],n[o]):null===n[o]&&void 0!==i[o]&&r===!0?delete i[o]:i[o]=n[o];else if(Array.isArray(n[o])){i[o]=[];for(var s=0;s<n[o].length;s++)i[o].push(n[o][s])}else null===n[o]&&void 0!==i[o]&&r===!0?delete i[o]:i[o]=n[o];return i},t.deepExtend=function(e,i,n,r){for(var o in i)if(i.hasOwnProperty(o)||n===!0)if(i[o]&&i[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?t.deepExtend(e[o],i[o],n):null===i[o]&&void 0!==e[o]&&r===!0?delete e[o]:e[o]=i[o];else if(Array.isArray(i[o])){e[o]=[];for(var s=0;s<i[o].length;s++)e[o].push(i[o][s])}else null===i[o]&&void 0!==e[o]&&r===!0?delete e[o]:e[o]=i[o];return e},t.equalArray=function(e,t){if(e.length!=t.length)return!1;for(var i=0,n=e.length;i<n;i++)if(e[i]!=t[i])return!1;return!0},t.convert=function(e,i){var n;if(void 0!==e){if(null===e)return null;if(!i)return e;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(e);case"number":case"Number":return Number(e.valueOf());case"string":case"String":return String(e);case"Date":if(t.isNumber(e))return new Date(e);if(e instanceof Date)return new Date(e.valueOf());if(r.isMoment(e))return new Date(e.valueOf());if(t.isString(e))return n=s.exec(e),n?new Date(Number(n[1])):r(e).toDate();throw new Error("Cannot convert object of type "+t.getType(e)+" to type Date");case"Moment":if(t.isNumber(e))return r(e);if(e instanceof Date)return r(e.valueOf());if(r.isMoment(e))return r(e);if(t.isString(e))return n=s.exec(e),r(n?Number(n[1]):e);throw new Error("Cannot convert object of type "+t.getType(e)+" to type Date");case"ISODate":if(t.isNumber(e))return new Date(e);if(e instanceof Date)return e.toISOString();if(r.isMoment(e))return e.toDate().toISOString();if(t.isString(e))return n=s.exec(e),n?new Date(Number(n[1])).toISOString():new Date(e).toISOString();throw new Error("Cannot convert object of type "+t.getType(e)+" to type ISODate");case"ASPDate":if(t.isNumber(e))return"/Date("+e+")/";if(e instanceof Date)return"/Date("+e.valueOf()+")/";if(t.isString(e)){n=s.exec(e);var o;return o=n?new Date(Number(n[1])).valueOf():new Date(e).valueOf(),"/Date("+o+")/"}throw new Error("Cannot convert object of type "+t.getType(e)+" to type ASPDate");default:throw new Error('Unknown type "'+i+'"')}}};var s=/^\/?Date\((\-?\d+)/i;t.getType=function(e){var t="undefined"==typeof e?"undefined":n(e);return"object"==t?null===e?"null":e instanceof Boolean?"Boolean":e instanceof Number?"Number":e instanceof String?"String":Array.isArray(e)?"Array":e instanceof Date?"Date":"Object":"number"==t?"Number":"boolean"==t?"Boolean":"string"==t?"String":void 0===t?"undefined":t},t.copyAndExtendArray=function(e,t){for(var i=[],n=0;n<e.length;n++)i.push(e[n]);return i.push(t),i},t.copyArray=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t},t.getAbsoluteLeft=function(e){return e.getBoundingClientRect().left},t.getAbsoluteRight=function(e){return e.getBoundingClientRect().right},t.getAbsoluteTop=function(e){return e.getBoundingClientRect().top},t.addClassName=function(e,t){var i=e.className.split(" ");i.indexOf(t)==-1&&(i.push(t),e.className=i.join(" "))},t.removeClassName=function(e,t){var i=e.className.split(" "),n=i.indexOf(t);n!=-1&&(i.splice(n,1),e.className=i.join(" "))},t.forEach=function(e,t){var i,n;if(Array.isArray(e))for(i=0,n=e.length;i<n;i++)t(e[i],i,e);else for(i in e)e.hasOwnProperty(i)&&t(e[i],i,e)},t.toArray=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t},t.updateProperty=function(e,t,i){return e[t]!==i&&(e[t]=i,!0)},t.throttle=function(e,t){var i=null,n=!1;return function throttled(){i?n=!0:(n=!1,e(),i=setTimeout(function(){i=null,n&&throttled()},t))}},t.addEventListener=function(e,t,i,n){e.addEventListener?(void 0===n&&(n=!1),"mousewheel"===t&&navigator.userAgent.indexOf("Firefox")>=0&&(t="DOMMouseScroll"),e.addEventListener(t,i,n)):e.attachEvent("on"+t,i)},t.removeEventListener=function(e,t,i,n){e.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===t&&navigator.userAgent.indexOf("Firefox")>=0&&(t="DOMMouseScroll"),e.removeEventListener(t,i,n)):e.detachEvent("on"+t,i)},t.preventDefault=function(e){e||(e=window.event),e.preventDefault?e.preventDefault():e.returnValue=!1},t.getTarget=function(e){e||(e=window.event);var t;return e.target?t=e.target:e.srcElement&&(t=e.srcElement),void 0!=t.nodeType&&3==t.nodeType&&(t=t.parentNode),t},t.hasParent=function(e,t){for(var i=e;i;){if(i===t)return!0;i=i.parentNode}return!1},t.option={},t.option.asBoolean=function(e,t){return"function"==typeof e&&(e=e()),null!=e?0!=e:t||null},t.option.asNumber=function(e,t){return"function"==typeof e&&(e=e()),null!=e?Number(e)||t||null:t||null},t.option.asString=function(e,t){return"function"==typeof e&&(e=e()),null!=e?String(e):t||null},t.option.asSize=function(e,i){return"function"==typeof e&&(e=e()),t.isString(e)?e:t.isNumber(e)?e+"px":i||null},t.option.asElement=function(e,t){return"function"==typeof e&&(e=e()),e||t||null},t.hexToRGB=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,i,n){return t+t+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},t.overrideOpacity=function(e,i){if(e.indexOf("rgba")!=-1)return e;if(e.indexOf("rgb")!=-1){var n=e.substr(e.indexOf("(")+1).replace(")","").split(",");return"rgba("+n[0]+","+n[1]+","+n[2]+","+i+")"}var n=t.hexToRGB(e);return null==n?e:"rgba("+n.r+","+n.g+","+n.b+","+i+")"},t.RGBToHex=function(e,t,i){return"#"+((1<<24)+(e<<16)+(t<<8)+i).toString(16).slice(1)},t.parseColor=function(e){var i;if(t.isString(e)===!0){if(t.isValidRGB(e)===!0){var n=e.substr(4).substr(0,e.length-5).split(",").map(function(e){return parseInt(e)});e=t.RGBToHex(n[0],n[1],n[2])}if(t.isValidHex(e)===!0){var r=t.hexToHSV(e),o={h:r.h,s:.8*r.s,v:Math.min(1,1.02*r.v)},s={h:r.h,s:Math.min(1,1.25*r.s),v:.8*r.v},a=t.HSVToHex(s.h,s.s,s.v),l=t.HSVToHex(o.h,o.s,o.v);i={background:e,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else i={background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}else i={},i.background=e.background||void 0,i.border=e.border||void 0,t.isString(e.highlight)?i.highlight={border:e.highlight,background:e.highlight}:(i.highlight={},i.highlight.background=e.highlight&&e.highlight.background||void 0,i.highlight.border=e.highlight&&e.highlight.border||void 0),t.isString(e.hover)?i.hover={border:e.hover,background:e.hover}:(i.hover={},i.hover.background=e.hover&&e.hover.background||void 0,i.hover.border=e.hover&&e.hover.border||void 0);return i},t.RGBToHSV=function(e,t,i){e/=255,t/=255,i/=255;var n=Math.min(e,Math.min(t,i)),r=Math.max(e,Math.max(t,i));if(n==r)return{h:0,s:0,v:n};var o=e==n?t-i:i==n?e-t:i-e,s=e==n?3:i==n?1:5,a=60*(s-o/(r-n))/360,l=(r-n)/r,u=r;return{h:a,s:l,v:u}};var a={split:function(e){var t={};return e.split(";").forEach(function(e){if(""!=e.trim()){var i=e.split(":"),n=i[0].trim(),r=i[1].trim();t[n]=r}}),t},join:function(e){return Object.keys(e).map(function(t){return t+": "+e[t]}).join("; ")}};t.addCssText=function(e,i){var n=a.split(e.style.cssText),r=a.split(i),o=t.extend(n,r);e.style.cssText=a.join(o)},t.removeCssText=function(e,t){var i=a.split(e.style.cssText),n=a.split(t);for(var r in n)n.hasOwnProperty(r)&&delete i[r];e.style.cssText=a.join(i)},t.HSVToRGB=function(e,t,i){var n,r,o,s=Math.floor(6*e),a=6*e-s,l=i*(1-t),u=i*(1-a*t),c=i*(1-(1-a)*t);switch(s%6){case 0:n=i,r=c,o=l;break;case 1:n=u,r=i,o=l;break;case 2:n=l,r=i,o=c;break;case 3:n=l,r=u,o=i;break;case 4:n=c,r=l,o=i;break;case 5:n=i,r=l,o=u}return{r:Math.floor(255*n),g:Math.floor(255*r),b:Math.floor(255*o)}},t.HSVToHex=function(e,i,n){var r=t.HSVToRGB(e,i,n);return t.RGBToHex(r.r,r.g,r.b)},t.hexToHSV=function(e){var i=t.hexToRGB(e);return t.RGBToHSV(i.r,i.g,i.b)},t.isValidHex=function(e){var t=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e);return t},t.isValidRGB=function(e){e=e.replace(" ","");var t=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(e);return t},t.isValidRGBA=function(e){e=e.replace(" ","");var t=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(e);return t},t.selectiveBridgeObject=function(e,i){if("object"==("undefined"==typeof i?"undefined":n(i))){for(var r=Object.create(i),o=0;o<e.length;o++)i.hasOwnProperty(e[o])&&"object"==n(i[e[o]])&&(r[e[o]]=t.bridgeObject(i[e[o]]));return r}return null},t.bridgeObject=function(e){if("object"==("undefined"==typeof e?"undefined":n(e))){var i=Object.create(e);for(var r in e)e.hasOwnProperty(r)&&"object"==n(e[r])&&(i[r]=t.bridgeObject(e[r]));return i}return null},t.insertSort=function(e,t){for(var i=0;i<e.length;i++){for(var n=e[i],r=i;r>0&&t(n,e[r-1])<0;r--)e[r]=e[r-1];e[r]=n}return e},t.mergeOptions=function(e,t,i){var n=(!(arguments.length<=3||void 0===arguments[3])&&arguments[3],arguments.length<=4||void 0===arguments[4]?{}:arguments[4]);if(null===t[i])e[i]=Object.create(n[i]);else if(void 0!==t[i])if("boolean"==typeof t[i])e[i].enabled=t[i];else{void 0===t[i].enabled&&(e[i].enabled=!0);for(var r in t[i])t[i].hasOwnProperty(r)&&(e[i][r]=t[i][r])}},t.binarySearchCustom=function(e,t,i,n){for(var r=1e4,o=0,s=0,a=e.length-1;s<=a&&o<r;){var l=Math.floor((s+a)/2),u=e[l],c=void 0===n?u[i]:u[i][n],h=t(c);if(0==h)return l;h==-1?s=l+1:a=l-1,o++}return-1},t.binarySearchValue=function(e,t,i,n,r){for(var o,s,a,l,u=1e4,c=0,h=0,p=e.length-1,r=void 0!=r?r:function(e,t){return e==t?0:e<t?-1:1};h<=p&&c<u;){if(l=Math.floor(.5*(p+h)),o=e[Math.max(0,l-1)][i],s=e[l][i],a=e[Math.min(e.length-1,l+1)][i],0==r(s,t))return l;if(r(o,t)<0&&r(s,t)>0)return"before"==n?Math.max(0,l-1):l;if(r(s,t)<0&&r(a,t)>0)return"before"==n?l:Math.min(e.length-1,l+1);r(s,t)<0?h=l+1:p=l-1,c++}return-1},t.easingFunctions={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}},function(e,t,i){e.exports="undefined"!=typeof window&&window.moment||i(3)},function(e,t,i){(function(e){!function(t,i){e.exports=i()}(this,function(){function utils_hooks__hooks(){return t.apply(null,arguments)}function setHookCallback(e){t=e}function isArray(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function isDate(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function map(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function hasOwnProp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function extend(e,t){for(var i in t)hasOwnProp(t,i)&&(e[i]=t[i]);return hasOwnProp(t,"toString")&&(e.toString=t.toString),hasOwnProp(t,"valueOf")&&(e.valueOf=t.valueOf),e}function create_utc__createUTC(e,t,i,n){return createLocalOrUTC(e,t,i,n,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function getParsingFlags(e){return null==e._pf&&(e._pf=defaultParsingFlags()),e._pf}function valid__isValid(e){if(null==e._isValid){var t=getParsingFlags(e),n=i.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function valid__createInvalid(e){
var t=create_utc__createUTC(NaN);return null!=e?extend(getParsingFlags(t),e):getParsingFlags(t).userInvalidated=!0,t}function isUndefined(e){return void 0===e}function copyConfig(e,t){var i,r,o;if(isUndefined(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),isUndefined(t._i)||(e._i=t._i),isUndefined(t._f)||(e._f=t._f),isUndefined(t._l)||(e._l=t._l),isUndefined(t._strict)||(e._strict=t._strict),isUndefined(t._tzm)||(e._tzm=t._tzm),isUndefined(t._isUTC)||(e._isUTC=t._isUTC),isUndefined(t._offset)||(e._offset=t._offset),isUndefined(t._pf)||(e._pf=getParsingFlags(t)),isUndefined(t._locale)||(e._locale=t._locale),n.length>0)for(i in n)r=n[i],o=t[r],isUndefined(o)||(e[r]=o);return e}function Moment(e){copyConfig(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),r===!1&&(r=!0,utils_hooks__hooks.updateOffset(this),r=!1)}function isMoment(e){return e instanceof Moment||null!=e&&null!=e._isAMomentObject}function absFloor(e){return e<0?Math.ceil(e):Math.floor(e)}function toInt(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=absFloor(t)),i}function compareArrays(e,t,i){var n,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(n=0;n<r;n++)(i&&e[n]!==t[n]||!i&&toInt(e[n])!==toInt(t[n]))&&s++;return s+o}function warn(e){utils_hooks__hooks.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function deprecate(e,t){var i=!0;return extend(function(){return null!=utils_hooks__hooks.deprecationHandler&&utils_hooks__hooks.deprecationHandler(null,e),i&&(warn(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),t.apply(this,arguments)},t)}function deprecateSimple(e,t){null!=utils_hooks__hooks.deprecationHandler&&utils_hooks__hooks.deprecationHandler(e,t),o[e]||(warn(t),o[e]=!0)}function isFunction(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function isObject(e){return"[object Object]"===Object.prototype.toString.call(e)}function locale_set__set(e){var t,i;for(i in e)t=e[i],isFunction(t)?this[i]=t:this["_"+i]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function mergeConfigs(e,t){var i,n=extend({},e);for(i in t)hasOwnProp(t,i)&&(isObject(e[i])&&isObject(t[i])?(n[i]={},extend(n[i],e[i]),extend(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);return n}function Locale(e){null!=e&&this.set(e)}function normalizeLocale(e){return e?e.toLowerCase().replace("_","-"):e}function chooseLocale(e){for(var t,i,n,r,o=0;o<e.length;){for(r=normalizeLocale(e[o]).split("-"),t=r.length,i=normalizeLocale(e[o+1]),i=i?i.split("-"):null;t>0;){if(n=loadLocale(r.slice(0,t).join("-")))return n;if(i&&i.length>=t&&compareArrays(r,i,!0)>=t-1)break;t--}o++}return null}function loadLocale(t){var i=null;if(!u[t]&&"undefined"!=typeof e&&e&&e.exports)try{i=a._abbr,!function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),locale_locales__getSetGlobalLocale(i)}catch(n){}return u[t]}function locale_locales__getSetGlobalLocale(e,t){var i;return e&&(i=isUndefined(t)?locale_locales__getLocale(e):defineLocale(e,t),i&&(a=i)),a._abbr}function defineLocale(e,t){return null!==t?(t.abbr=e,null!=u[e]?(deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),t=mergeConfigs(u[e]._config,t)):null!=t.parentLocale&&(null!=u[t.parentLocale]?t=mergeConfigs(u[t.parentLocale]._config,t):deprecateSimple("parentLocaleUndefined","specified parentLocale is not defined yet")),u[e]=new Locale(t),locale_locales__getSetGlobalLocale(e),u[e]):(delete u[e],null)}function updateLocale(e,t){if(null!=t){var i;null!=u[e]&&(t=mergeConfigs(u[e]._config,t)),i=new Locale(t),i.parentLocale=u[e],u[e]=i,locale_locales__getSetGlobalLocale(e)}else null!=u[e]&&(null!=u[e].parentLocale?u[e]=u[e].parentLocale:null!=u[e]&&delete u[e]);return u[e]}function locale_locales__getLocale(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return a;if(!isArray(e)){if(t=loadLocale(e))return t;e=[e]}return chooseLocale(e)}function locale_locales__listLocales(){return s(u)}function addUnitAlias(e,t){var i=e.toLowerCase();c[i]=c[i+"s"]=c[t]=e}function normalizeUnits(e){return"string"==typeof e?c[e]||c[e.toLowerCase()]:void 0}function normalizeObjectUnits(e){var t,i,n={};for(i in e)hasOwnProp(e,i)&&(t=normalizeUnits(i),t&&(n[t]=e[i]));return n}function makeGetSet(e,t){return function(i){return null!=i?(get_set__set(this,e,i),utils_hooks__hooks.updateOffset(this,t),this):get_set__get(this,e)}}function get_set__get(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function get_set__set(e,t,i){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](i)}function getSet(e,t){var i;if("object"==typeof e)for(i in e)this.set(i,e[i]);else if(e=normalizeUnits(e),isFunction(this[e]))return this[e](t);return this}function zeroFill(e,t,i){var n=""+Math.abs(e),r=t-n.length,o=e>=0;return(o?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}function addFormatToken(e,t,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),e&&(f[e]=r),t&&(f[t[0]]=function(){return zeroFill(r.apply(this,arguments),t[1],t[2])}),i&&(f[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function removeFormattingTokens(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function makeFormatFunction(e){var t,i,n=e.match(h);for(t=0,i=n.length;t<i;t++)f[n[t]]?n[t]=f[n[t]]:n[t]=removeFormattingTokens(n[t]);return function(t){var r,o="";for(r=0;r<i;r++)o+=n[r]instanceof Function?n[r].call(t,e):n[r];return o}}function formatMoment(e,t){return e.isValid()?(t=expandFormat(t,e.localeData()),d[t]=d[t]||makeFormatFunction(t),d[t](e)):e.localeData().invalidDate()}function expandFormat(e,t){function replaceLongDateFormatTokens(e){return t.longDateFormat(e)||e}var i=5;for(p.lastIndex=0;i>=0&&p.test(e);)e=e.replace(p,replaceLongDateFormatTokens),p.lastIndex=0,i-=1;return e}function addRegexToken(e,t,i){O[e]=isFunction(t)?t:function(e,n){return e&&i?i:t}}function getParseRegexForToken(e,t){return hasOwnProp(O,e)?O[e](t._strict,t._locale):new RegExp(unescapeFormat(e))}function unescapeFormat(e){return regexEscape(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r}))}function regexEscape(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(n=function(e,i){i[t]=toInt(e)}),i=0;i<e.length;i++)I[e[i]]=n}function addWeekParseToken(e,t){addParseToken(e,function(e,i,n,r){n._w=n._w||{},t(e,n._w,n,r)})}function addTimeToArrayFromToken(e,t,i){null!=t&&hasOwnProp(I,e)&&I[e](t,i._a,i,e)}function daysInMonth(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function localeMonths(e,t){return isArray(this._months)?this._months[e.month()]:this._months[W.test(t)?"format":"standalone"][e.month()]}function localeMonthsShort(e,t){return isArray(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[W.test(t)?"format":"standalone"][e.month()]}function units_month__handleStrictParse(e,t,i){var n,r,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=create_utc__createUTC([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return i?"MMM"===t?(r=l.call(this._shortMonthsParse,s),r!==-1?r:null):(r=l.call(this._longMonthsParse,s),r!==-1?r:null):"MMM"===t?(r=l.call(this._shortMonthsParse,s),r!==-1?r:(r=l.call(this._longMonthsParse,s),r!==-1?r:null)):(r=l.call(this._longMonthsParse,s),r!==-1?r:(r=l.call(this._shortMonthsParse,s),r!==-1?r:null))}function localeMonthsParse(e,t,i){var n,r,o;if(this._monthsParseExact)return units_month__handleStrictParse.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=create_utc__createUTC([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function setMonth(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=toInt(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return i=Math.min(e.date(),daysInMonth(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function getSetMonth(e){return null!=e?(setMonth(this,e),utils_hooks__hooks.updateOffset(this,!0),this):get_set__get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}function monthsRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}function computeMonthsParse(){function cmpLenRev(e,t){return t.length-e.length}var e,t,i=[],n=[],r=[];for(e=0;e<12;e++)t=create_utc__createUTC([2e3,e]),i.push(this.monthsShort(t,"")),n.push(this.months(t,"")),r.push(this.months(t,"")),r.push(this.monthsShort(t,""));for(i.sort(cmpLenRev),n.sort(cmpLenRev),r.sort(cmpLenRev),e=0;e<12;e++)i[e]=regexEscape(i[e]),n[e]=regexEscape(n[e]),r[e]=regexEscape(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function checkOverflow(e){var t,i=e._a;return i&&getParsingFlags(e).overflow===-2&&(t=i[N]<0||i[N]>11?N:i[L]<1||i[L]>daysInMonth(i[R],i[N])?L:i[V]<0||i[V]>24||24===i[V]&&(0!==i[F]||0!==i[j]||0!==i[B])?V:i[F]<0||i[F]>59?F:i[j]<0||i[j]>59?j:i[B]<0||i[B]>999?B:-1,getParsingFlags(e)._overflowDayOfYear&&(t<R||t>L)&&(t=L),getParsingFlags(e)._overflowWeeks&&t===-1&&(t=z),getParsingFlags(e)._overflowWeekday&&t===-1&&(t=H),getParsingFlags(e).overflow=t),e}function configFromISO(e){var t,i,n,r,o,s,a=e._i,l=K.exec(a)||X.exec(a);if(l){for(getParsingFlags(e).iso=!0,t=0,i=Q.length;t<i;t++)if(Q[t][1].exec(l[1])){r=Q[t][0],n=Q[t][2]!==!1;break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,i=J.length;t<i;t++)if(J[t][1].exec(l[3])){o=(l[2]||" ")+J[t][0];break}if(null==o)return void(e._isValid=!1)}if(!n&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Z.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=r+(o||"")+(s||""),configFromStringAndFormat(e)}else e._isValid=!1}function configFromString(e){var t=$.exec(e._i);return null!==t?void(e._d=new Date((+t[1]))):(configFromISO(e),void(e._isValid===!1&&(delete e._isValid,utils_hooks__hooks.createFromInputFallback(e))))}function createDate(e,t,i,n,r,o,s){var a=new Date(e,t,i,n,r,o,s);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function createUTCDate(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function daysInYear(e){return isLeapYear(e)?366:365}function isLeapYear(e){return e%4===0&&e%100!==0||e%400===0}function getIsLeapYear(){return isLeapYear(this.year())}function firstWeekOffset(e,t,i){var n=7+t-i,r=(7+createUTCDate(e,0,n).getUTCDay()-t)%7;return-r+n-1}function dayOfYearFromWeeks(e,t,i,n,r){var o,s,a=(7+i-n)%7,l=firstWeekOffset(e,n,r),u=1+7*(t-1)+a+l;return u<=0?(o=e-1,s=daysInYear(o)+u):u>daysInYear(e)?(o=e+1,s=u-daysInYear(e)):(o=e,s=u),{year:o,dayOfYear:s}}function weekOfYear(e,t,i){var n,r,o=firstWeekOffset(e.year(),t,i),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?(r=e.year()-1,n=s+weeksInYear(r,t,i)):s>weeksInYear(e.year(),t,i)?(n=s-weeksInYear(e.year(),t,i),r=e.year()+1):(r=e.year(),n=s),{week:n,year:r}}function weeksInYear(e,t,i){var n=firstWeekOffset(e,t,i),r=firstWeekOffset(e+1,t,i);return(daysInYear(e)-n+r)/7}function defaults(e,t,i){return null!=e?e:null!=t?t:i}function currentDateArray(e){var t=new Date(utils_hooks__hooks.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function configFromArray(e){var t,i,n,r,o=[];if(!e._d){for(n=currentDateArray(e),e._w&&null==e._a[L]&&null==e._a[N]&&dayOfYearFromWeekInfo(e),e._dayOfYear&&(r=defaults(e._a[R],n[R]),e._dayOfYear>daysInYear(r)&&(getParsingFlags(e)._overflowDayOfYear=!0),i=createUTCDate(r,0,e._dayOfYear),e._a[N]=i.getUTCMonth(),e._a[L]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=n[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[V]&&0===e._a[F]&&0===e._a[j]&&0===e._a[B]&&(e._nextDay=!0,e._a[V]=0),e._d=(e._useUTC?createUTCDate:createDate).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[V]=24)}}function dayOfYearFromWeekInfo(e){var t,i,n,r,o,s,a,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,s=4,i=defaults(t.GG,e._a[R],weekOfYear(local__createLocal(),1,4).year),n=defaults(t.W,1),r=defaults(t.E,1),(r<1||r>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,i=defaults(t.gg,e._a[R],weekOfYear(local__createLocal(),o,s).year),n=defaults(t.w,1),null!=t.d?(r=t.d,(r<0||r>6)&&(l=!0)):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o),n<1||n>weeksInYear(i,o,s)?getParsingFlags(e)._overflowWeeks=!0:null!=l?getParsingFlags(e)._overflowWeekday=!0:(a=dayOfYearFromWeeks(i,n,r,o,s),e._a[R]=a.year,e._dayOfYear=a.dayOfYear)}function configFromStringAndFormat(e){if(e._f===utils_hooks__hooks.ISO_8601)return void configFromISO(e);e._a=[],getParsingFlags(e).empty=!0;var t,i,n,r,o,s=""+e._i,a=s.length,l=0;for(n=expandFormat(e._f,e._locale).match(h)||[],t=0;t<n.length;t++)r=n[t],i=(s.match(getParseRegexForToken(r,e))||[])[0],i&&(o=s.substr(0,s.indexOf(i)),o.length>0&&getParsingFlags(e).unusedInput.push(o),s=s.slice(s.indexOf(i)+i.length),l+=i.length),f[r]?(i?getParsingFlags(e).empty=!1:getParsingFlags(e).unusedTokens.push(r),addTimeToArrayFromToken(r,i,e)):e._strict&&!i&&getParsingFlags(e).unusedTokens.push(r);getParsingFlags(e).charsLeftOver=a-l,s.length>0&&getParsingFlags(e).unusedInput.push(s),getParsingFlags(e).bigHour===!0&&e._a[V]<=12&&e._a[V]>0&&(getParsingFlags(e).bigHour=void 0),getParsingFlags(e).parsedDateParts=e._a.slice(0),getParsingFlags(e).meridiem=e._meridiem,e._a[V]=meridiemFixWrap(e._locale,e._a[V],e._meridiem),configFromArray(e),checkOverflow(e)}function meridiemFixWrap(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?(n=e.isPM(i),n&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function configFromStringAndArray(e){var t,i,n,r,o;if(0===e._f.length)return getParsingFlags(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=copyConfig({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],configFromStringAndFormat(t),valid__isValid(t)&&(o+=getParsingFlags(t).charsLeftOver,o+=10*getParsingFlags(t).unusedTokens.length,getParsingFlags(t).score=o,(null==n||o<n)&&(n=o,i=t));extend(e,i||t)}function configFromObject(e){if(!e._d){var t=normalizeObjectUnits(e._i);e._a=map([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),configFromArray(e)}}function createFromConfig(e){var t=new Moment(checkOverflow(prepareConfig(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function prepareConfig(e){var t=e._i,i=e._f;return e._locale=e._locale||locale_locales__getLocale(e._l),null===t||void 0===i&&""===t?valid__createInvalid({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),isMoment(t)?new Moment(checkOverflow(t)):(isArray(i)?configFromStringAndArray(e):i?configFromStringAndFormat(e):isDate(t)?e._d=t:configFromInput(e),valid__isValid(e)||(e._d=null),e))}function configFromInput(e){var t=e._i;void 0===t?e._d=new Date(utils_hooks__hooks.now()):isDate(t)?e._d=new Date(t.valueOf()):"string"==typeof t?configFromString(e):isArray(t)?(e._a=map(t.slice(0),function(e){return parseInt(e,10)}),configFromArray(e)):"object"==typeof t?configFromObject(e):"number"==typeof t?e._d=new Date(t):utils_hooks__hooks.createFromInputFallback(e)}function createLocalOrUTC(e,t,i,n,r){var o={};return"boolean"==typeof i&&(n=i,i=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=i,o._i=e,o._f=t,o._strict=n,createFromConfig(o)}function local__createLocal(e,t,i,n){return createLocalOrUTC(e,t,i,n,!1)}function pickBy(e,t){var i,n;if(1===t.length&&isArray(t[0])&&(t=t[0]),!t.length)return local__createLocal();for(i=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](i)||(i=t[n]);return i}function min(){var e=[].slice.call(arguments,0);return pickBy("isBefore",e)}function max(){var e=[].slice.call(arguments,0);return pickBy("isAfter",e)}function Duration(e){var t=normalizeObjectUnits(e),i=t.year||0,n=t.quarter||0,r=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*n+12*i,this._data={},this._locale=locale_locales__getLocale(),this._bubble()}function isDuration(e){return e instanceof Duration}function offset(e,t){addFormatToken(e,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+zeroFill(~~(e/60),2)+t+zeroFill(~~e%60,2)})}function offsetFromString(e,t){var i=(t||"").match(e)||[],n=i[i.length-1]||[],r=(n+"").match(re)||["-",0,0],o=+(60*r[1])+toInt(r[2]);return"+"===r[0]?o:-o}function cloneWithOffset(e,t){var i,n;return t._isUTC?(i=t.clone(),n=(isMoment(e)||isDate(e)?e.valueOf():local__createLocal(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),utils_hooks__hooks.updateOffset(i,!1),i):local__createLocal(e).local()}function getDateOffset(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function getSetOffset(e,t){var i,n=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=offsetFromString(A,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(i=getDateOffset(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),n!==e&&(!t||this._changeInProgress?add_subtract__addSubtract(this,create__createDuration(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,utils_hooks__hooks.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:getDateOffset(this):null!=e?this:NaN}function getSetZone(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function setOffsetToUTC(e){return this.utcOffset(0,e)}function setOffsetToLocal(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(offsetFromString(T,this._i)),this}function hasAlignedHourOffset(e){return!!this.isValid()&&(e=e?local__createLocal(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var e={};if(copyConfig(e,this),e=prepareConfig(e),e._a){var t=e._isUTC?create_utc__createUTC(e._a):local__createLocal(e._a);this._isDSTShifted=this.isValid()&&compareArrays(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return!!this.isValid()&&!this._isUTC}function isUtcOffset(){return!!this.isValid()&&this._isUTC}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function create__createDuration(e,t){var i,n,r,o=e,s=null;return isDuration(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=oe.exec(e))?(i="-"===s[1]?-1:1,o={y:0,d:toInt(s[L])*i,h:toInt(s[V])*i,m:toInt(s[F])*i,s:toInt(s[j])*i,ms:toInt(s[B])*i}):(s=se.exec(e))?(i="-"===s[1]?-1:1,o={y:parseIso(s[2],i),M:parseIso(s[3],i),w:parseIso(s[4],i),d:parseIso(s[5],i),h:parseIso(s[6],i),m:parseIso(s[7],i),s:parseIso(s[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=momentsDifference(local__createLocal(o.from),local__createLocal(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),n=new Duration(o),isDuration(e)&&hasOwnProp(e,"_locale")&&(n._locale=e._locale),n}function parseIso(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function positiveMomentsDifference(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function momentsDifference(e,t){var i;return e.isValid()&&t.isValid()?(t=cloneWithOffset(t,e),e.isBefore(t)?i=positiveMomentsDifference(e,t):(i=positiveMomentsDifference(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function absRound(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function createAdder(e,t){return function(i,n){var r,o;return null===n||isNaN(+n)||(deprecateSimple(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=i,i=n,n=o),i="string"==typeof i?+i:i,r=create__createDuration(i,n),add_subtract__addSubtract(this,r,e),this}}function add_subtract__addSubtract(e,t,i,n){var r=t._milliseconds,o=absRound(t._days),s=absRound(t._months);e.isValid()&&(n=null==n||n,r&&e._d.setTime(e._d.valueOf()+r*i),o&&get_set__set(e,"Date",get_set__get(e,"Date")+o*i),s&&setMonth(e,get_set__get(e,"Month")+s*i),n&&utils_hooks__hooks.updateOffset(e,o||s))}function moment_calendar__calendar(e,t){var i=e||local__createLocal(),n=cloneWithOffset(i,this).startOf("day"),r=this.diff(n,"days",!0),o=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse",s=t&&(isFunction(t[o])?t[o]():t[o]);return this.format(s||this.localeData().calendar(o,this,local__createLocal(i)))}function clone(){return new Moment(this)}function isAfter(e,t){var i=isMoment(e)?e:local__createLocal(e);return!(!this.isValid()||!i.isValid())&&(t=normalizeUnits(isUndefined(t)?"millisecond":t),"millisecond"===t?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())}function isBefore(e,t){var i=isMoment(e)?e:local__createLocal(e);return!(!this.isValid()||!i.isValid())&&(t=normalizeUnits(isUndefined(t)?"millisecond":t),"millisecond"===t?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())}function isBetween(e,t,i,n){return n=n||"()",("("===n[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))}function isSame(e,t){var i,n=isMoment(e)?e:local__createLocal(e);return!(!this.isValid()||!n.isValid())&&(t=normalizeUnits(t||"millisecond"),"millisecond"===t?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))}function isSameOrAfter(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function isSameOrBefore(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function diff(e,t,i){var n,r,o,s;return this.isValid()?(n=cloneWithOffset(e,this),n.isValid()?(r=6e4*(n.utcOffset()-this.utcOffset()),t=normalizeUnits(t),"year"===t||"month"===t||"quarter"===t?(s=monthDiff(this,n),"quarter"===t?s/=3:"year"===t&&(s/=12)):(o=this-n,s="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-r)/864e5:"week"===t?(o-r)/6048e5:o),i?s:absFloor(s)):NaN):NaN}function monthDiff(e,t){var i,n,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return t-o<0?(i=e.clone().add(r-1,"months"),n=(t-o)/(o-i)):(i=e.clone().add(r+1,"months"),n=(t-o)/(i-o)),-(r+n)||0}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function moment_format__toISOString(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function format(e){e||(e=this.isUtc()?utils_hooks__hooks.defaultFormatUtc:utils_hooks__hooks.defaultFormat);var t=formatMoment(this,e);return this.localeData().postformat(t)}function from(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||local__createLocal(e).isValid())?create__createDuration({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fromNow(e){return this.from(local__createLocal(),e)}function to(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||local__createLocal(e).isValid())?create__createDuration({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function toNow(e){return this.to(local__createLocal(),e)}function locale(e){var t;return void 0===e?this._locale._abbr:(t=locale_locales__getLocale(e),null!=t&&(this._locale=t),this)}function localeData(){return this._locale}function startOf(e){switch(e=normalizeUnits(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function endOf(e){return e=normalizeUnits(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function to_type__valueOf(){return this._d.valueOf()-6e4*(this._offset||0)}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return this._offset?new Date(this.valueOf()):this._d}function toArray(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function toObject(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function moment_valid__isValid(){return valid__isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function addWeekYearFormatToken(e,t){addFormatToken(0,[e,e.length],0,t)}function getSetWeekYear(e){return getSetWeekYearHelper.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(e){return getSetWeekYearHelper.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var e=this.localeData()._week;return weeksInYear(this.year(),e.dow,e.doy)}function getSetWeekYearHelper(e,t,i,n,r){var o;return null==e?weekOfYear(this,n,r).year:(o=weeksInYear(e,n,r),t>o&&(t=o),setWeekAll.call(this,e,t,i,n,r))}function setWeekAll(e,t,i,n,r){var o=dayOfYearFromWeeks(e,t,i,n,r),s=createUTCDate(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function getSetQuarter(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function localeWeek(e){return weekOfYear(e,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function getSetISOWeek(e){var t=weekOfYear(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function parseWeekday(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function localeWeekdays(e,t){return isArray(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function localeWeekdaysShort(e){return this._weekdaysShort[e.day()]}function localeWeekdaysMin(e){return this._weekdaysMin[e.day()]}function day_of_week__handleStrictParse(e,t,i){var n,r,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=create_utc__createUTC([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return i?"dddd"===t?(r=l.call(this._weekdaysParse,s),r!==-1?r:null):"ddd"===t?(r=l.call(this._shortWeekdaysParse,s),r!==-1?r:null):(r=l.call(this._minWeekdaysParse,s),r!==-1?r:null):"dddd"===t?(r=l.call(this._weekdaysParse,s),r!==-1?r:(r=l.call(this._shortWeekdaysParse,s),r!==-1?r:(r=l.call(this._minWeekdaysParse,s),r!==-1?r:null))):"ddd"===t?(r=l.call(this._shortWeekdaysParse,s),r!==-1?r:(r=l.call(this._weekdaysParse,s),r!==-1?r:(r=l.call(this._minWeekdaysParse,s),r!==-1?r:null))):(r=l.call(this._minWeekdaysParse,s),r!==-1?r:(r=l.call(this._weekdaysParse,s),r!==-1?r:(r=l.call(this._shortWeekdaysParse,s),r!==-1?r:null)))}function localeWeekdaysParse(e,t,i){var n,r,o;if(this._weekdaysParseExact)return day_of_week__handleStrictParse.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=create_utc__createUTC([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}}function getSetDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=parseWeekday(e,this.localeData()),this.add(e-t,"d")):t}function getSetLocaleDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function getSetISODayOfWeek(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN}function weekdaysRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}function weekdaysShortRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function weekdaysMinRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex;
}function computeWeekdaysParse(){function cmpLenRev(e,t){return t.length-e.length}var e,t,i,n,r,o=[],s=[],a=[],l=[];for(e=0;e<7;e++)t=create_utc__createUTC([2e3,1]).day(e),i=this.weekdaysMin(t,""),n=this.weekdaysShort(t,""),r=this.weekdays(t,""),o.push(i),s.push(n),a.push(r),l.push(i),l.push(n),l.push(r);for(o.sort(cmpLenRev),s.sort(cmpLenRev),a.sort(cmpLenRev),l.sort(cmpLenRev),e=0;e<7;e++)s[e]=regexEscape(s[e]),a[e]=regexEscape(a[e]),l[e]=regexEscape(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function getSetDayOfYear(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(e,t){addFormatToken(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function matchMeridiem(e,t){return t._meridiemParse}function localeIsPM(e){return"p"===(e+"").toLowerCase().charAt(0)}function localeMeridiem(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}function parseMs(e,t){t[B]=toInt(1e3*("0."+e))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function moment__createUnix(e){return local__createLocal(1e3*e)}function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone()}function locale_calendar__calendar(e,t,i){var n=this._calendar[e];return isFunction(n)?n.call(t,i):n}function longDateFormat(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function invalidDate(){return this._invalidDate}function ordinal(e){return this._ordinal.replace("%d",e)}function preParsePostFormat(e){return e}function relative__relativeTime(e,t,i,n){var r=this._relativeTime[i];return isFunction(r)?r(e,t,i,n):r.replace(/%d/i,e)}function pastFuture(e,t){var i=this._relativeTime[e>0?"future":"past"];return isFunction(i)?i(t):i.replace(/%s/i,t)}function lists__get(e,t,i,n){var r=locale_locales__getLocale(),o=create_utc__createUTC().set(n,t);return r[i](o,e)}function listMonthsImpl(e,t,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return lists__get(e,t,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=lists__get(e,n,i,"month");return r}function listWeekdaysImpl(e,t,i,n){"boolean"==typeof e?("number"==typeof t&&(i=t,t=void 0),t=t||""):(t=e,i=t,e=!1,"number"==typeof t&&(i=t,t=void 0),t=t||"");var r=locale_locales__getLocale(),o=e?r._week.dow:0;if(null!=i)return lists__get(t,(i+o)%7,n,"day");var s,a=[];for(s=0;s<7;s++)a[s]=lists__get(t,(s+o)%7,n,"day");return a}function lists__listMonths(e,t){return listMonthsImpl(e,t,"months")}function lists__listMonthsShort(e,t){return listMonthsImpl(e,t,"monthsShort")}function lists__listWeekdays(e,t,i){return listWeekdaysImpl(e,t,i,"weekdays")}function lists__listWeekdaysShort(e,t,i){return listWeekdaysImpl(e,t,i,"weekdaysShort")}function lists__listWeekdaysMin(e,t,i){return listWeekdaysImpl(e,t,i,"weekdaysMin")}function duration_abs__abs(){var e=this._data;return this._milliseconds=Ie(this._milliseconds),this._days=Ie(this._days),this._months=Ie(this._months),e.milliseconds=Ie(e.milliseconds),e.seconds=Ie(e.seconds),e.minutes=Ie(e.minutes),e.hours=Ie(e.hours),e.months=Ie(e.months),e.years=Ie(e.years),this}function duration_add_subtract__addSubtract(e,t,i,n){var r=create__createDuration(t,i);return e._milliseconds+=n*r._milliseconds,e._days+=n*r._days,e._months+=n*r._months,e._bubble()}function duration_add_subtract__add(e,t){return duration_add_subtract__addSubtract(this,e,t,1)}function duration_add_subtract__subtract(e,t){return duration_add_subtract__addSubtract(this,e,t,-1)}function absCeil(e){return e<0?Math.floor(e):Math.ceil(e)}function bubble(){var e,t,i,n,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*absCeil(monthsToDays(a)+s),s=0,a=0),l.milliseconds=o%1e3,e=absFloor(o/1e3),l.seconds=e%60,t=absFloor(e/60),l.minutes=t%60,i=absFloor(t/60),l.hours=i%24,s+=absFloor(i/24),r=absFloor(daysToMonths(s)),a+=r,s-=absCeil(monthsToDays(r)),n=absFloor(a/12),a%=12,l.days=s,l.months=a,l.years=n,this}function daysToMonths(e){return 4800*e/146097}function monthsToDays(e){return 146097*e/4800}function as(e){var t,i,n=this._milliseconds;if(e=normalizeUnits(e),"month"===e||"year"===e)return t=this._days+n/864e5,i=this._months+daysToMonths(t),"month"===e?i:i/12;switch(t=this._days+Math.round(monthsToDays(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function duration_as__valueOf(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)}function makeAs(e){return function(){return this.as(e)}}function duration_get__get(e){return e=normalizeUnits(e),this[e+"s"]()}function makeGetter(e){return function(){return this._data[e]}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}function duration_humanize__relativeTime(e,t,i){var n=create__createDuration(e).abs(),r=Xe(n.as("s")),o=Xe(n.as("m")),s=Xe(n.as("h")),a=Xe(n.as("d")),l=Xe(n.as("M")),u=Xe(n.as("y")),c=r<Ze.s&&["s",r]||o<=1&&["m"]||o<Ze.m&&["mm",o]||s<=1&&["h"]||s<Ze.h&&["hh",s]||a<=1&&["d"]||a<Ze.d&&["dd",a]||l<=1&&["M"]||l<Ze.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=i,substituteTimeAgo.apply(null,c)}function duration_humanize__getSetRelativeTimeThreshold(e,t){return void 0!==Ze[e]&&(void 0===t?Ze[e]:(Ze[e]=t,!0))}function humanize(e){var t=this.localeData(),i=duration_humanize__relativeTime(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}function iso_string__toISOString(){var e,t,i,n=Qe(this._milliseconds)/1e3,r=Qe(this._days),o=Qe(this._months);e=absFloor(n/60),t=absFloor(e/60),n%=60,e%=60,i=absFloor(o/12),o%=12;var s=i,a=o,l=r,u=t,c=e,h=n,p=this.asSeconds();return p?(p<0?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||c||h?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var t,i;i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var n=utils_hooks__hooks.momentProperties=[],r=!1,o={};utils_hooks__hooks.suppressDeprecationWarnings=!1,utils_hooks__hooks.deprecationHandler=null;var s;s=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)hasOwnProp(e,t)&&i.push(t);return i};var a,l,u={},c={},h=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,p=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,d={},f={},m=/\d/,y=/\d\d/,v=/\d{3}/,g=/\d{4}/,_=/[+-]?\d{6}/,b=/\d\d?/,w=/\d\d\d\d?/,C=/\d\d\d\d\d\d?/,x=/\d{1,3}/,E=/\d{1,4}/,S=/[+-]?\d{1,6}/,P=/\d+/,k=/[+-]?\d+/,T=/Z|[+-]\d\d:?\d\d/gi,A=/Z|[+-]\d\d(?::?\d\d)?/gi,D=/[+-]?\d+(\.\d{1,3})?/,M=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,O={},I={},R=0,N=1,L=2,V=3,F=4,j=5,B=6,z=7,H=8;l=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),addFormatToken("MMMM",0,0,function(e){return this.localeData().months(this,e)}),addUnitAlias("month","M"),addRegexToken("M",b),addRegexToken("MM",b,y),addRegexToken("MMM",function(e,t){return t.monthsShortRegex(e)}),addRegexToken("MMMM",function(e,t){return t.monthsRegex(e)}),addParseToken(["M","MM"],function(e,t){t[N]=toInt(e)-1}),addParseToken(["MMM","MMMM"],function(e,t,i,n){var r=i._locale.monthsParse(e,n,i._strict);null!=r?t[N]=r:getParsingFlags(i).invalidMonth=e});var W=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,G="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),U="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),q=M,Y=M,K=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,X=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Z=/Z|[+-]\d\d(?::?\d\d)?/,Q=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],J=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],$=/^\/?Date\((\-?\d+)/i;utils_hooks__hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),addFormatToken("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addRegexToken("Y",k),addRegexToken("YY",b,y),addRegexToken("YYYY",E,g),addRegexToken("YYYYY",S,_),addRegexToken("YYYYYY",S,_),addParseToken(["YYYYY","YYYYYY"],R),addParseToken("YYYY",function(e,t){t[R]=2===e.length?utils_hooks__hooks.parseTwoDigitYear(e):toInt(e)}),addParseToken("YY",function(e,t){t[R]=utils_hooks__hooks.parseTwoDigitYear(e)}),addParseToken("Y",function(e,t){t[R]=parseInt(e,10)}),utils_hooks__hooks.parseTwoDigitYear=function(e){return toInt(e)+(toInt(e)>68?1900:2e3)};var ee=makeGetSet("FullYear",!0);utils_hooks__hooks.ISO_8601=function(){};var te=deprecate("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=local__createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:valid__createInvalid()}),ie=deprecate("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=local__createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:valid__createInvalid()}),ne=function(){return Date.now?Date.now():+new Date};offset("Z",":"),offset("ZZ",""),addRegexToken("Z",A),addRegexToken("ZZ",A),addParseToken(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=offsetFromString(A,e)});var re=/([\+\-]|\d\d)/gi;utils_hooks__hooks.updateOffset=function(){};var oe=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,se=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;create__createDuration.fn=Duration.prototype;var ae=createAdder(1,"add"),le=createAdder(-1,"subtract");utils_hooks__hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",utils_hooks__hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ue=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addRegexToken("G",k),addRegexToken("g",k),addRegexToken("GG",b,y),addRegexToken("gg",b,y),addRegexToken("GGGG",E,g),addRegexToken("gggg",E,g),addRegexToken("GGGGG",S,_),addRegexToken("ggggg",S,_),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=toInt(e)}),addWeekParseToken(["gg","GG"],function(e,t,i,n){t[n]=utils_hooks__hooks.parseTwoDigitYear(e)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addRegexToken("Q",m),addParseToken("Q",function(e,t){t[N]=3*(toInt(e)-1)}),addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addRegexToken("w",b),addRegexToken("ww",b,y),addRegexToken("W",b),addRegexToken("WW",b,y),addWeekParseToken(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=toInt(e)});var ce={dow:0,doy:6};addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addRegexToken("D",b),addRegexToken("DD",b,y),addRegexToken("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),addParseToken(["D","DD"],L),addParseToken("Do",function(e,t){t[L]=toInt(e.match(b)[0],10)});var he=makeGetSet("Date",!0);addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),addFormatToken("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),addFormatToken("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addRegexToken("d",b),addRegexToken("e",b),addRegexToken("E",b),addRegexToken("dd",function(e,t){return t.weekdaysMinRegex(e)}),addRegexToken("ddd",function(e,t){return t.weekdaysShortRegex(e)}),addRegexToken("dddd",function(e,t){return t.weekdaysRegex(e)}),addWeekParseToken(["dd","ddd","dddd"],function(e,t,i,n){var r=i._locale.weekdaysParse(e,n,i._strict);null!=r?t.d=r:getParsingFlags(i).invalidWeekday=e}),addWeekParseToken(["d","e","E"],function(e,t,i,n){t[n]=toInt(e)});var pe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),de="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),fe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),me=M,ye=M,ve=M;addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addRegexToken("DDD",x),addRegexToken("DDDD",v),addParseToken(["DDD","DDDD"],function(e,t,i){i._dayOfYear=toInt(e)}),addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",b),addRegexToken("h",b),addRegexToken("HH",b,y),addRegexToken("hh",b,y),addRegexToken("hmm",w),addRegexToken("hmmss",C),addRegexToken("Hmm",w),addRegexToken("Hmmss",C),addParseToken(["H","HH"],V),addParseToken(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),addParseToken(["h","hh"],function(e,t,i){t[V]=toInt(e),getParsingFlags(i).bigHour=!0}),addParseToken("hmm",function(e,t,i){var n=e.length-2;t[V]=toInt(e.substr(0,n)),t[F]=toInt(e.substr(n)),getParsingFlags(i).bigHour=!0}),addParseToken("hmmss",function(e,t,i){var n=e.length-4,r=e.length-2;t[V]=toInt(e.substr(0,n)),t[F]=toInt(e.substr(n,2)),t[j]=toInt(e.substr(r)),getParsingFlags(i).bigHour=!0}),addParseToken("Hmm",function(e,t,i){var n=e.length-2;t[V]=toInt(e.substr(0,n)),t[F]=toInt(e.substr(n))}),addParseToken("Hmmss",function(e,t,i){var n=e.length-4,r=e.length-2;t[V]=toInt(e.substr(0,n)),t[F]=toInt(e.substr(n,2)),t[j]=toInt(e.substr(r))});var ge=/[ap]\.?m?\.?/i,_e=makeGetSet("Hours",!0);addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addRegexToken("m",b),addRegexToken("mm",b,y),addParseToken(["m","mm"],F);var be=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addRegexToken("s",b),addRegexToken("ss",b,y),addParseToken(["s","ss"],j);var we=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addRegexToken("S",x,m),addRegexToken("SS",x,y),addRegexToken("SSS",x,v);var Ce;for(Ce="SSSS";Ce.length<=9;Ce+="S")addRegexToken(Ce,P);for(Ce="S";Ce.length<=9;Ce+="S")addParseToken(Ce,parseMs);var xe=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var Ee=Moment.prototype;Ee.add=ae,Ee.calendar=moment_calendar__calendar,Ee.clone=clone,Ee.diff=diff,Ee.endOf=endOf,Ee.format=format,Ee.from=from,Ee.fromNow=fromNow,Ee.to=to,Ee.toNow=toNow,Ee.get=getSet,Ee.invalidAt=invalidAt,Ee.isAfter=isAfter,Ee.isBefore=isBefore,Ee.isBetween=isBetween,Ee.isSame=isSame,Ee.isSameOrAfter=isSameOrAfter,Ee.isSameOrBefore=isSameOrBefore,Ee.isValid=moment_valid__isValid,Ee.lang=ue,Ee.locale=locale,Ee.localeData=localeData,Ee.max=ie,Ee.min=te,Ee.parsingFlags=parsingFlags,Ee.set=getSet,Ee.startOf=startOf,Ee.subtract=le,Ee.toArray=toArray,Ee.toObject=toObject,Ee.toDate=toDate,Ee.toISOString=moment_format__toISOString,Ee.toJSON=toJSON,Ee.toString=toString,Ee.unix=unix,Ee.valueOf=to_type__valueOf,Ee.creationData=creationData,Ee.year=ee,Ee.isLeapYear=getIsLeapYear,Ee.weekYear=getSetWeekYear,Ee.isoWeekYear=getSetISOWeekYear,Ee.quarter=Ee.quarters=getSetQuarter,Ee.month=getSetMonth,Ee.daysInMonth=getDaysInMonth,Ee.week=Ee.weeks=getSetWeek,Ee.isoWeek=Ee.isoWeeks=getSetISOWeek,Ee.weeksInYear=getWeeksInYear,Ee.isoWeeksInYear=getISOWeeksInYear,Ee.date=he,Ee.day=Ee.days=getSetDayOfWeek,Ee.weekday=getSetLocaleDayOfWeek,Ee.isoWeekday=getSetISODayOfWeek,Ee.dayOfYear=getSetDayOfYear,Ee.hour=Ee.hours=_e,Ee.minute=Ee.minutes=be,Ee.second=Ee.seconds=we,Ee.millisecond=Ee.milliseconds=xe,Ee.utcOffset=getSetOffset,Ee.utc=setOffsetToUTC,Ee.local=setOffsetToLocal,Ee.parseZone=setOffsetToParsedOffset,Ee.hasAlignedHourOffset=hasAlignedHourOffset,Ee.isDST=isDaylightSavingTime,Ee.isDSTShifted=isDaylightSavingTimeShifted,Ee.isLocal=isLocal,Ee.isUtcOffset=isUtcOffset,Ee.isUtc=isUtc,Ee.isUTC=isUtc,Ee.zoneAbbr=getZoneAbbr,Ee.zoneName=getZoneName,Ee.dates=deprecate("dates accessor is deprecated. Use date instead.",he),Ee.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),Ee.years=deprecate("years accessor is deprecated. Use year instead",ee),Ee.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",getSetZone);var Se=Ee,Pe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ke={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Te="Invalid date",Ae="%d",De=/\d{1,2}/,Me={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Oe=Locale.prototype;Oe._calendar=Pe,Oe.calendar=locale_calendar__calendar,Oe._longDateFormat=ke,Oe.longDateFormat=longDateFormat,Oe._invalidDate=Te,Oe.invalidDate=invalidDate,Oe._ordinal=Ae,Oe.ordinal=ordinal,Oe._ordinalParse=De,Oe.preparse=preParsePostFormat,Oe.postformat=preParsePostFormat,Oe._relativeTime=Me,Oe.relativeTime=relative__relativeTime,Oe.pastFuture=pastFuture,Oe.set=locale_set__set,Oe.months=localeMonths,Oe._months=G,Oe.monthsShort=localeMonthsShort,Oe._monthsShort=U,Oe.monthsParse=localeMonthsParse,Oe._monthsRegex=Y,Oe.monthsRegex=monthsRegex,Oe._monthsShortRegex=q,Oe.monthsShortRegex=monthsShortRegex,Oe.week=localeWeek,Oe._week=ce,Oe.firstDayOfYear=localeFirstDayOfYear,Oe.firstDayOfWeek=localeFirstDayOfWeek,Oe.weekdays=localeWeekdays,Oe._weekdays=pe,Oe.weekdaysMin=localeWeekdaysMin,Oe._weekdaysMin=fe,Oe.weekdaysShort=localeWeekdaysShort,Oe._weekdaysShort=de,Oe.weekdaysParse=localeWeekdaysParse,Oe._weekdaysRegex=me,Oe.weekdaysRegex=weekdaysRegex,Oe._weekdaysShortRegex=ye,Oe.weekdaysShortRegex=weekdaysShortRegex,Oe._weekdaysMinRegex=ve,Oe.weekdaysMinRegex=weekdaysMinRegex,Oe.isPM=localeIsPM,Oe._meridiemParse=ge,Oe.meridiem=localeMeridiem,locale_locales__getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=1===toInt(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),utils_hooks__hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",locale_locales__getSetGlobalLocale),utils_hooks__hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",locale_locales__getLocale);var Ie=Math.abs,Re=makeAs("ms"),Ne=makeAs("s"),Le=makeAs("m"),Ve=makeAs("h"),Fe=makeAs("d"),je=makeAs("w"),Be=makeAs("M"),ze=makeAs("y"),He=makeGetter("milliseconds"),We=makeGetter("seconds"),Ge=makeGetter("minutes"),Ue=makeGetter("hours"),qe=makeGetter("days"),Ye=makeGetter("months"),Ke=makeGetter("years"),Xe=Math.round,Ze={s:45,m:45,h:22,d:26,M:11},Qe=Math.abs,Je=Duration.prototype;Je.abs=duration_abs__abs,Je.add=duration_add_subtract__add,Je.subtract=duration_add_subtract__subtract,Je.as=as,Je.asMilliseconds=Re,Je.asSeconds=Ne,Je.asMinutes=Le,Je.asHours=Ve,Je.asDays=Fe,Je.asWeeks=je,Je.asMonths=Be,Je.asYears=ze,Je.valueOf=duration_as__valueOf,Je._bubble=bubble,Je.get=duration_get__get,Je.milliseconds=He,Je.seconds=We,Je.minutes=Ge,Je.hours=Ue,Je.days=qe,Je.weeks=weeks,Je.months=Ye,Je.years=Ke,Je.humanize=humanize,Je.toISOString=iso_string__toISOString,Je.toString=iso_string__toISOString,Je.toJSON=iso_string__toISOString,Je.locale=locale,Je.localeData=localeData,Je.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",iso_string__toISOString),Je.lang=ue,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",k),addRegexToken("X",D),addParseToken("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),addParseToken("x",function(e,t,i){i._d=new Date(toInt(e))}),utils_hooks__hooks.version="2.13.0",setHookCallback(local__createLocal),utils_hooks__hooks.fn=Se,utils_hooks__hooks.min=min,utils_hooks__hooks.max=max,utils_hooks__hooks.now=ne,utils_hooks__hooks.utc=create_utc__createUTC,utils_hooks__hooks.unix=moment__createUnix,utils_hooks__hooks.months=lists__listMonths,utils_hooks__hooks.isDate=isDate,utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale,utils_hooks__hooks.invalid=valid__createInvalid,utils_hooks__hooks.duration=create__createDuration,utils_hooks__hooks.isMoment=isMoment,utils_hooks__hooks.weekdays=lists__listWeekdays,utils_hooks__hooks.parseZone=moment__createInZone,utils_hooks__hooks.localeData=locale_locales__getLocale,utils_hooks__hooks.isDuration=isDuration,utils_hooks__hooks.monthsShort=lists__listMonthsShort,utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin,utils_hooks__hooks.defineLocale=defineLocale,utils_hooks__hooks.updateLocale=updateLocale,utils_hooks__hooks.locales=locale_locales__listLocales,utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort,utils_hooks__hooks.normalizeUnits=normalizeUnits,utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold,utils_hooks__hooks.prototype=Se;var $e=utils_hooks__hooks;return $e})}).call(t,i(4)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){function webpackContext(e){throw new Error("Cannot find module '"+e+"'.")}webpackContext.keys=function(){return[]},webpackContext.resolve=webpackContext,e.exports=webpackContext,webpackContext.id=5},function(e,t){(function(t){function parse(e,t,i){var n=t&&i||0,r=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){r<16&&(t[n+r++]=a[e])});r<16;)t[n+r++]=0;return t}function unparse(e,t){var i=t||0,n=s;return n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]}function v1(e,t,i){var n=t&&i||0,r=t||[];e=e||{};var o=void 0!==e.clockseq?e.clockseq:h,s=void 0!==e.msecs?e.msecs:(new Date).getTime(),a=void 0!==e.nsecs?e.nsecs:d+1,l=s-p+(a-d)/1e4;if(l<0&&void 0===e.clockseq&&(o=o+1&16383),(l<0||s>p)&&void 0===e.nsecs&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=s,d=a,h=o,s+=122192928e5;var u=(1e4*(268435455&s)+a)%4294967296;r[n++]=u>>>24&255,r[n++]=u>>>16&255,r[n++]=u>>>8&255,r[n++]=255&u;var f=s/4294967296*1e4&268435455;r[n++]=f>>>8&255,r[n++]=255&f,r[n++]=f>>>24&15|16,r[n++]=f>>>16&255,r[n++]=o>>>8|128,r[n++]=255&o;for(var m=e.node||c,y=0;y<6;y++)r[n+y]=m[y];return t?t:unparse(r)}function v4(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;s++)t[r+s]=o[s];return t||unparse(o)}var i,n="undefined"!=typeof window?window:"undefined"!=typeof t?t:null;if(n&&n.crypto&&crypto.getRandomValues){var r=new Uint8Array(16);i=function(){return crypto.getRandomValues(r),r}}if(!i){var o=new Array(16);i=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}for(var s=[],a={},l=0;l<256;l++)s[l]=(l+256).toString(16).substr(1),a[s[l]]=l;var u=i(),c=[1|u[0],u[1],u[2],u[3],u[4],u[5]],h=16383&(u[6]<<8|u[7]),p=0,d=0,f=v4;f.v1=v1,f.v4=v4,f.parse=parse,f.unparse=unparse,e.exports=f}).call(t,function(){return this}())},function(e,t,i){t.util=i(1),t.DOMutil=i(8),t.DataSet=i(9),t.DataView=i(11),t.Queue=i(10),t.Graph3d=i(12),t.graph3d={Camera:i(16),Filter:i(17),Point2d:i(15),Point3d:i(14),Slider:i(18),StepNumber:i(19)},t.moment=i(2),t.Hammer=i(20),t.keycharm=i(23)},function(e,t){t.prepareElements=function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t].redundant=e[t].used,e[t].used=[])},t.cleanupElements=function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t].redundant){for(var i=0;i<e[t].redundant.length;i++)e[t].redundant[i].parentNode.removeChild(e[t].redundant[i]);e[t].redundant=[]}},t.resetElements=function(e){t.prepareElements(e),t.cleanupElements(e),t.prepareElements(e)},t.getSVGElement=function(e,t,i){var n;return t.hasOwnProperty(e)?t[e].redundant.length>0?(n=t[e].redundant[0],t[e].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",e),i.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",e),t[e]={used:[],redundant:[]},i.appendChild(n)),t[e].used.push(n),n},t.getDOMElement=function(e,t,i,n){var r;return t.hasOwnProperty(e)?t[e].redundant.length>0?(r=t[e].redundant[0],t[e].redundant.shift()):(r=document.createElement(e),void 0!==n?i.insertBefore(r,n):i.appendChild(r)):(r=document.createElement(e),t[e]={used:[],redundant:[]},void 0!==n?i.insertBefore(r,n):i.appendChild(r)),t[e].used.push(r),r},t.drawPoint=function(e,i,n,r,o,s){var a;if("circle"==n.style?(a=t.getSVGElement("circle",r,o),a.setAttributeNS(null,"cx",e),a.setAttributeNS(null,"cy",i),a.setAttributeNS(null,"r",.5*n.size)):(a=t.getSVGElement("rect",r,o),a.setAttributeNS(null,"x",e-.5*n.size),a.setAttributeNS(null,"y",i-.5*n.size),a.setAttributeNS(null,"width",n.size),a.setAttributeNS(null,"height",n.size)),void 0!==n.styles&&a.setAttributeNS(null,"style",n.styles),a.setAttributeNS(null,"class",n.className+" vis-point"),s){var l=t.getSVGElement("text",r,o);s.xOffset&&(e+=s.xOffset),s.yOffset&&(i+=s.yOffset),s.content&&(l.textContent=s.content),s.className&&l.setAttributeNS(null,"class",s.className+" vis-label"),l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",i)}return a},t.drawBar=function(e,i,n,r,o,s,a,l){if(0!=r){r<0&&(r*=-1,i-=r);var u=t.getSVGElement("rect",s,a);u.setAttributeNS(null,"x",e-.5*n),u.setAttributeNS(null,"y",i),u.setAttributeNS(null,"width",n),u.setAttributeNS(null,"height",r),u.setAttributeNS(null,"class",o),l&&u.setAttributeNS(null,"style",l)}}},function(e,t,i){function DataSet(e,t){if(e&&!Array.isArray(e)&&(t=e,e=null),this._options=t||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i=Object.keys(this._options.type),n=0,r=i.length;n<r;n++){var o=i[n],s=this._options.type[o];"Date"==s||"ISODate"==s||"ASPDate"==s?this._type[o]="Date":this._type[o]=s}if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={},e&&this.add(e),this.setOptions(t)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=i(1),o=i(10);DataSet.prototype.setOptions=function(e){e&&void 0!==e.queue&&(e.queue===!1?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=o.extend(this,{replace:["add","update","remove"]})),"object"===n(e.queue)&&this._queue.setOptions(e.queue)))},DataSet.prototype.on=function(e,t){var i=this._subscribers[e];i||(i=[],this._subscribers[e]=i),i.push({callback:t})},DataSet.prototype.subscribe=function(){throw new Error("DataSet.subscribe is deprecated. Use DataSet.on instead.")},DataSet.prototype.off=function(e,t){var i=this._subscribers[e];i&&(this._subscribers[e]=i.filter(function(e){return e.callback!=t}))},DataSet.prototype.unsubscribe=function(){throw new Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.")},DataSet.prototype._trigger=function(e,t,i){if("*"==e)throw new Error("Cannot trigger event *");var n=[];e in this._subscribers&&(n=n.concat(this._subscribers[e])),"*"in this._subscribers&&(n=n.concat(this._subscribers["*"]));for(var r=0,o=n.length;r<o;r++){var s=n[r];s.callback&&s.callback(e,t,i||null)}},DataSet.prototype.add=function(e,t){var i,n=[],r=this;if(Array.isArray(e))for(var o=0,s=e.length;o<s;o++)i=r._addItem(e[o]),n.push(i);else{if(!(e instanceof Object))throw new Error("Unknown dataType");i=r._addItem(e),n.push(i)}return n.length&&this._trigger("add",{items:n},t),n},DataSet.prototype.update=function(e,t){var i=[],n=[],o=[],s=[],a=this,l=a._fieldId,u=function(e){var t=e[l];if(a._data[t]){var u=r.extend({},a._data[t]);t=a._updateItem(e),n.push(t),s.push(e),o.push(u)}else t=a._addItem(e),i.push(t)};if(Array.isArray(e))for(var c=0,h=e.length;c<h;c++)e[c]instanceof Object?u(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else{if(!(e instanceof Object))throw new Error("Unknown dataType");u(e)}if(i.length&&this._trigger("add",{items:i},t),n.length){var p={items:n,oldData:o,
data:s};this._trigger("update",p,t)}return i.concat(n)},DataSet.prototype.get=function(e){var t,i,n,o=this,s=r.getType(arguments[0]);"String"==s||"Number"==s?(t=arguments[0],n=arguments[1]):"Array"==s?(i=arguments[0],n=arguments[1]):n=arguments[0];var a;if(n&&n.returnType){var l=["Array","Object"];a=l.indexOf(n.returnType)==-1?"Array":n.returnType}else a="Array";var u,c,h,p,d,f=n&&n.type||this._options.type,m=n&&n.filter,y=[];if(void 0!=t)u=o._getItem(t,f),u&&m&&!m(u)&&(u=null);else if(void 0!=i)for(p=0,d=i.length;p<d;p++)u=o._getItem(i[p],f),m&&!m(u)||y.push(u);else for(c=Object.keys(this._data),p=0,d=c.length;p<d;p++)h=c[p],u=o._getItem(h,f),m&&!m(u)||y.push(u);if(n&&n.order&&void 0==t&&this._sort(y,n.order),n&&n.fields){var v=n.fields;if(void 0!=t)u=this._filterFields(u,v);else for(p=0,d=y.length;p<d;p++)y[p]=this._filterFields(y[p],v)}if("Object"==a){var g,_={};for(p=0,d=y.length;p<d;p++)g=y[p],_[g.id]=g;return _}return void 0!=t?u:y},DataSet.prototype.getIds=function(e){var t,i,n,r,o,s=this._data,a=e&&e.filter,l=e&&e.order,u=e&&e.type||this._options.type,c=Object.keys(s),h=[];if(a)if(l){for(o=[],t=0,i=c.length;t<i;t++)n=c[t],r=this._getItem(n,u),a(r)&&o.push(r);for(this._sort(o,l),t=0,i=o.length;t<i;t++)h.push(o[t][this._fieldId])}else for(t=0,i=c.length;t<i;t++)n=c[t],r=this._getItem(n,u),a(r)&&h.push(r[this._fieldId]);else if(l){for(o=[],t=0,i=c.length;t<i;t++)n=c[t],o.push(s[n]);for(this._sort(o,l),t=0,i=o.length;t<i;t++)h.push(o[t][this._fieldId])}else for(t=0,i=c.length;t<i;t++)n=c[t],r=s[n],h.push(r[this._fieldId]);return h},DataSet.prototype.getDataSet=function(){return this},DataSet.prototype.forEach=function(e,t){var i,n,r,o,s=t&&t.filter,a=t&&t.type||this._options.type,l=this._data,u=Object.keys(l);if(t&&t.order){var c=this.get(t);for(i=0,n=c.length;i<n;i++)r=c[i],o=r[this._fieldId],e(r,o)}else for(i=0,n=u.length;i<n;i++)o=u[i],r=this._getItem(o,a),s&&!s(r)||e(r,o)},DataSet.prototype.map=function(e,t){var i,n,r,o,s=t&&t.filter,a=t&&t.type||this._options.type,l=[],u=this._data,c=Object.keys(u);for(i=0,n=c.length;i<n;i++)r=c[i],o=this._getItem(r,a),s&&!s(o)||l.push(e(o,r));return t&&t.order&&this._sort(l,t.order),l},DataSet.prototype._filterFields=function(e,t){if(!e)return e;var i,n,r={},o=Object.keys(e),s=o.length;if(Array.isArray(t))for(i=0;i<s;i++)n=o[i],t.indexOf(n)!=-1&&(r[n]=e[n]);else for(i=0;i<s;i++)n=o[i],t.hasOwnProperty(n)&&(r[t[n]]=e[n]);return r},DataSet.prototype._sort=function(e,t){if(r.isString(t)){var i=t;e.sort(function(e,t){var n=e[i],r=t[i];return n>r?1:n<r?-1:0})}else{if("function"!=typeof t)throw new TypeError("Order must be a function or a string");e.sort(t)}},DataSet.prototype.remove=function(e,t){var i,n,r,o=[];if(Array.isArray(e))for(i=0,n=e.length;i<n;i++)r=this._remove(e[i]),null!=r&&o.push(r);else r=this._remove(e),null!=r&&o.push(r);return o.length&&this._trigger("remove",{items:o},t),o},DataSet.prototype._remove=function(e){if(r.isNumber(e)||r.isString(e)){if(this._data[e])return delete this._data[e],this.length--,e}else if(e instanceof Object){var t=e[this._fieldId];if(void 0!==t&&this._data[t])return delete this._data[t],this.length--,t}return null},DataSet.prototype.clear=function(e){var t=Object.keys(this._data);return this._data={},this.length=0,this._trigger("remove",{items:t},e),t},DataSet.prototype.max=function(e){var t,i,n=this._data,r=Object.keys(n),o=null,s=null;for(t=0,i=r.length;t<i;t++){var a=r[t],l=n[a],u=l[e];null!=u&&(!o||u>s)&&(o=l,s=u)}return o},DataSet.prototype.min=function(e){var t,i,n=this._data,r=Object.keys(n),o=null,s=null;for(t=0,i=r.length;t<i;t++){var a=r[t],l=n[a],u=l[e];null!=u&&(!o||u<s)&&(o=l,s=u)}return o},DataSet.prototype.distinct=function(e){var t,i,n,o=this._data,s=Object.keys(o),a=[],l=this._options.type&&this._options.type[e]||null,u=0;for(t=0,n=s.length;t<n;t++){var c=s[t],h=o[c],p=h[e],d=!1;for(i=0;i<u;i++)if(a[i]==p){d=!0;break}d||void 0===p||(a[u]=p,u++)}if(l)for(t=0,n=a.length;t<n;t++)a[t]=r.convert(a[t],l);return a},DataSet.prototype._addItem=function(e){var t=e[this._fieldId];if(void 0!=t){if(this._data[t])throw new Error("Cannot add item: item with id "+t+" already exists")}else t=r.randomUUID(),e[this._fieldId]=t;var i,n,o={},s=Object.keys(e);for(i=0,n=s.length;i<n;i++){var a=s[i],l=this._type[a];o[a]=r.convert(e[a],l)}return this._data[t]=o,this.length++,t},DataSet.prototype._getItem=function(e,t){var i,n,o,s,a=this._data[e];if(!a)return null;var l={},u=Object.keys(a);if(t)for(o=0,s=u.length;o<s;o++)i=u[o],n=a[i],l[i]=r.convert(n,t[i]);else for(o=0,s=u.length;o<s;o++)i=u[o],n=a[i],l[i]=n;return l},DataSet.prototype._updateItem=function(e){var t=e[this._fieldId];if(void 0==t)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(e)+")");var i=this._data[t];if(!i)throw new Error("Cannot update item: no item with id "+t+" found");for(var n=Object.keys(e),o=0,s=n.length;o<s;o++){var a=n[o],l=this._type[a];i[a]=r.convert(e[a],l)}return t},e.exports=DataSet},function(e,t){function Queue(e){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(e)}Queue.prototype.setOptions=function(e){e&&"undefined"!=typeof e.delay&&(this.delay=e.delay),e&&"undefined"!=typeof e.max&&(this.max=e.max),this._flushIfNeeded()},Queue.extend=function(e,t){var i=new Queue(t);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){i.flush()};var n=[{name:"flush",original:void 0}];if(t&&t.replace)for(var r=0;r<t.replace.length;r++){var o=t.replace[r];n.push({name:o,original:e[o]}),i.replace(e,o)}return i._extended={object:e,methods:n},i},Queue.prototype.destroy=function(){if(this.flush(),this._extended){for(var e=this._extended.object,t=this._extended.methods,i=0;i<t.length;i++){var n=t[i];n.original?e[n.name]=n.original:delete e[n.name]}this._extended=null}},Queue.prototype.replace=function(e,t){var i=this,n=e[t];if(!n)throw new Error("Method "+t+" undefined");e[t]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.queue({args:e,fn:n,context:this})}},Queue.prototype.queue=function(e){"function"==typeof e?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()},Queue.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var e=this;this._timeout=setTimeout(function(){e.flush()},this.delay)}},Queue.prototype.flush=function(){for(;this._queue.length>0;){var e=this._queue.shift();e.fn.apply(e.context||e.fn,e.args||[])}},e.exports=Queue},function(e,t,i){function DataView(e,t){this._data=null,this._ids={},this.length=0,this._options=t||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(e)}var n=i(1),r=i(9);DataView.prototype.setData=function(e){var t,i,n,r;if(this._data&&(this._data.off&&this._data.off("*",this.listener),t=Object.keys(this._ids),this._ids={},this.length=0,this._trigger("remove",{items:t})),this._data=e,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",t=this._data.getIds({filter:this._options&&this._options.filter}),n=0,r=t.length;n<r;n++)i=t[n],this._ids[i]=!0;this.length=t.length,this._trigger("add",{items:t}),this._data.on&&this._data.on("*",this.listener)}},DataView.prototype.refresh=function(){var e,t,i,n=this._data.getIds({filter:this._options&&this._options.filter}),r=Object.keys(this._ids),o={},s=[],a=[];for(t=0,i=n.length;t<i;t++)e=n[t],o[e]=!0,this._ids[e]||(s.push(e),this._ids[e]=!0);for(t=0,i=r.length;t<i;t++)e=r[t],o[e]||(a.push(e),delete this._ids[e]);this.length+=s.length-a.length,s.length&&this._trigger("add",{items:s}),a.length&&this._trigger("remove",{items:a})},DataView.prototype.get=function(e){var t,i,r,o=this,s=n.getType(arguments[0]);"String"==s||"Number"==s||"Array"==s?(t=arguments[0],i=arguments[1],r=arguments[2]):(i=arguments[0],r=arguments[1]);var a=n.extend({},this._options,i);this._options.filter&&i&&i.filter&&(a.filter=function(e){return o._options.filter(e)&&i.filter(e)});var l=[];return void 0!=t&&l.push(t),l.push(a),l.push(r),this._data&&this._data.get.apply(this._data,l)},DataView.prototype.getIds=function(e){var t;if(this._data){var i,n=this._options.filter;i=e&&e.filter?n?function(t){return n(t)&&e.filter(t)}:e.filter:n,t=this._data.getIds({filter:i,order:e&&e.order})}else t=[];return t},DataView.prototype.map=function(e,t){var i=[];if(this._data){var n,r=this._options.filter;n=t&&t.filter?r?function(e){return r(e)&&t.filter(e)}:t.filter:r,i=this._data.map(e,{filter:n,order:t&&t.order})}else i=[];return i},DataView.prototype.getDataSet=function(){for(var e=this;e instanceof DataView;)e=e._data;return e||null},DataView.prototype._onEvent=function(e,t,i){var n,r,o,s,a=t&&t.items,l=this._data,u=[],c=[],h=[],p=[];if(a&&l){switch(e){case"add":for(n=0,r=a.length;n<r;n++)o=a[n],s=this.get(o),s&&(this._ids[o]=!0,c.push(o));break;case"update":for(n=0,r=a.length;n<r;n++)o=a[n],s=this.get(o),s?this._ids[o]?(h.push(o),u.push(t.data[n])):(this._ids[o]=!0,c.push(o)):this._ids[o]&&(delete this._ids[o],p.push(o));break;case"remove":for(n=0,r=a.length;n<r;n++)o=a[n],this._ids[o]&&(delete this._ids[o],p.push(o))}this.length+=c.length-p.length,c.length&&this._trigger("add",{items:c},i),h.length&&this._trigger("update",{items:h,data:u},i),p.length&&this._trigger("remove",{items:p},i)}},DataView.prototype.on=r.prototype.on,DataView.prototype.off=r.prototype.off,DataView.prototype._trigger=r.prototype._trigger,DataView.prototype.subscribe=DataView.prototype.on,DataView.prototype.unsubscribe=DataView.prototype.off,e.exports=DataView},function(e,t,i){function Graph3d(e,t,i){if(!(this instanceof Graph3d))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=e,this.width="400px",this.height="400px",this.margin=10,this.defaultXCenter="55%",this.defaultYCenter="50%",this.xLabel="x",this.yLabel="y",this.zLabel="z";var n=function(e){return e};this.xValueLabel=n,this.yValueLabel=n,this.zValueLabel=n,this.filterLabel="time",this.legendLabel="value",this.style=Graph3d.STYLE.DOT,this.showPerspective=!0,this.showGrid=!0,this.keepAspectRatio=!0,this.showShadow=!1,this.showGrayBottom=!1,this.showTooltip=!1,this.verticalRatio=.5,this.animationInterval=1e3,this.animationPreload=!1,this.camera=new c,this.camera.setArmRotation(1,.5),this.camera.setArmLength(1.7),this.eye=new l(0,0,(-1)),this.dataTable=null,this.dataPoints=null,this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.colFilter=void 0,this.xMin=0,this.xStep=void 0,this.xMax=1,this.yMin=0,this.yStep=void 0,this.yMax=1,this.zMin=0,this.zStep=void 0,this.zMax=1,this.valueMin=0,this.valueMax=1,this.xBarWidth=1,this.yBarWidth=1,this.axisColor="#4D4D4D",this.gridColor="#D3D3D3",this.dataColor={fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},this.dotSizeRatio=.02,this.create(),this.setOptions(i),t&&this.setData(t)}function getMouseX(e){return"clientX"in e?e.clientX:e.targetTouches[0]&&e.targetTouches[0].clientX||0}function getMouseY(e){return"clientY"in e?e.clientY:e.targetTouches[0]&&e.targetTouches[0].clientY||0}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=i(13),o=i(9),s=i(11),a=i(1),l=i(14),u=i(15),c=i(16),h=i(17),p=i(18),d=i(19);r(Graph3d.prototype),Graph3d.prototype._setScale=function(){this.scale=new l(1/(this.xMax-this.xMin),1/(this.yMax-this.yMin),1/(this.zMax-this.zMin)),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,this.scale.value=1/(this.valueMax-this.valueMin);var e=(this.xMax+this.xMin)/2*this.scale.x,t=(this.yMax+this.yMin)/2*this.scale.y,i=(this.zMax+this.zMin)/2*this.scale.z;this.camera.setArmLocation(e,t,i)},Graph3d.prototype._convert3Dto2D=function(e){var t=this._convertPointToTranslation(e);return this._convertTranslationToScreen(t)},Graph3d.prototype._convertPointToTranslation=function(e){var t=e.x*this.scale.x,i=e.y*this.scale.y,n=e.z*this.scale.z,r=this.camera.getCameraLocation().x,o=this.camera.getCameraLocation().y,s=this.camera.getCameraLocation().z,a=Math.sin(this.camera.getCameraRotation().x),u=Math.cos(this.camera.getCameraRotation().x),c=Math.sin(this.camera.getCameraRotation().y),h=Math.cos(this.camera.getCameraRotation().y),p=Math.sin(this.camera.getCameraRotation().z),d=Math.cos(this.camera.getCameraRotation().z),f=h*(p*(i-o)+d*(t-r))-c*(n-s),m=a*(h*(n-s)+c*(p*(i-o)+d*(t-r)))+u*(d*(i-o)-p*(t-r)),y=u*(h*(n-s)+c*(p*(i-o)+d*(t-r)))-a*(d*(i-o)-p*(t-r));return new l(f,m,y)},Graph3d.prototype._convertTranslationToScreen=function(e){var t,i,n=this.eye.x,r=this.eye.y,o=this.eye.z,s=e.x,a=e.y,l=e.z;return this.showPerspective?(t=(s-n)*(o/l),i=(a-r)*(o/l)):(t=s*-(o/this.camera.getArmLength()),i=a*-(o/this.camera.getArmLength())),new u(this.xcenter+t*this.frame.canvas.clientWidth,this.ycenter-i*this.frame.canvas.clientWidth)},Graph3d.prototype._setBackgroundColor=function(e){var t="white",i="gray",r=1;if("string"==typeof e)t=e,i="none",r=0;else if("object"===("undefined"==typeof e?"undefined":n(e)))void 0!==e.fill&&(t=e.fill),void 0!==e.stroke&&(i=e.stroke),void 0!==e.strokeWidth&&(r=e.strokeWidth);else if(void 0!==e)throw"Unsupported type of backgroundColor";this.frame.style.backgroundColor=t,this.frame.style.borderColor=i,this.frame.style.borderWidth=r+"px",this.frame.style.borderStyle="solid"},Graph3d.STYLE={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},Graph3d.prototype._getStyleNumber=function(e){switch(e){case"dot":return Graph3d.STYLE.DOT;case"dot-line":return Graph3d.STYLE.DOTLINE;case"dot-color":return Graph3d.STYLE.DOTCOLOR;case"dot-size":return Graph3d.STYLE.DOTSIZE;case"line":return Graph3d.STYLE.LINE;case"grid":return Graph3d.STYLE.GRID;case"surface":return Graph3d.STYLE.SURFACE;case"bar":return Graph3d.STYLE.BAR;case"bar-color":return Graph3d.STYLE.BARCOLOR;case"bar-size":return Graph3d.STYLE.BARSIZE}return-1},Graph3d.prototype._determineColumnIndexes=function(e,t){if(this.style===Graph3d.STYLE.DOT||this.style===Graph3d.STYLE.DOTLINE||this.style===Graph3d.STYLE.LINE||this.style===Graph3d.STYLE.GRID||this.style===Graph3d.STYLE.SURFACE||this.style===Graph3d.STYLE.BAR)this.colX=0,this.colY=1,this.colZ=2,this.colValue=void 0,e.getNumberOfColumns()>3&&(this.colFilter=3);else{if(this.style!==Graph3d.STYLE.DOTCOLOR&&this.style!==Graph3d.STYLE.DOTSIZE&&this.style!==Graph3d.STYLE.BARCOLOR&&this.style!==Graph3d.STYLE.BARSIZE)throw'Unknown style "'+this.style+'"';this.colX=0,this.colY=1,this.colZ=2,this.colValue=3,e.getNumberOfColumns()>4&&(this.colFilter=4)}},Graph3d.prototype.getNumberOfRows=function(e){return e.length},Graph3d.prototype.getNumberOfColumns=function(e){var t=0;for(var i in e[0])e[0].hasOwnProperty(i)&&t++;return t},Graph3d.prototype.getDistinctValues=function(e,t){for(var i=[],n=0;n<e.length;n++)i.indexOf(e[n][t])==-1&&i.push(e[n][t]);return i},Graph3d.prototype.getColumnRange=function(e,t){for(var i={min:e[0][t],max:e[0][t]},n=0;n<e.length;n++)i.min>e[n][t]&&(i.min=e[n][t]),i.max<e[n][t]&&(i.max=e[n][t]);return i},Graph3d.prototype._dataInitialize=function(e,t){var i=this;if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==e){Array.isArray(e)&&(e=new o(e));var n;if(!(e instanceof o||e instanceof s))throw new Error("Array, DataSet, or DataView expected");if(n=e.get(),0!=n.length){this.dataSet=e,this.dataTable=n,this._onChange=function(){i.setData(i.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z",this.colValue="style",this.colFilter="filter",n[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new h(e,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){i.redraw()}));var r=this.style==Graph3d.STYLE.BAR||this.style==Graph3d.STYLE.BARCOLOR||this.style==Graph3d.STYLE.BARSIZE;if(r){if(void 0!==this.defaultXBarWidth)this.xBarWidth=this.defaultXBarWidth;else{var a=this.getDistinctValues(n,this.colX);this.xBarWidth=a[1]-a[0]||1}if(void 0!==this.defaultYBarWidth)this.yBarWidth=this.defaultYBarWidth;else{var l=this.getDistinctValues(n,this.colY);this.yBarWidth=l[1]-l[0]||1}}var u=this.getColumnRange(n,this.colX);r&&(u.min-=this.xBarWidth/2,u.max+=this.xBarWidth/2),this.xMin=void 0!==this.defaultXMin?this.defaultXMin:u.min,this.xMax=void 0!==this.defaultXMax?this.defaultXMax:u.max,this.xMax<=this.xMin&&(this.xMax=this.xMin+1),this.xStep=void 0!==this.defaultXStep?this.defaultXStep:(this.xMax-this.xMin)/5;var c=this.getColumnRange(n,this.colY);r&&(c.min-=this.yBarWidth/2,c.max+=this.yBarWidth/2),this.yMin=void 0!==this.defaultYMin?this.defaultYMin:c.min,this.yMax=void 0!==this.defaultYMax?this.defaultYMax:c.max,this.yMax<=this.yMin&&(this.yMax=this.yMin+1),this.yStep=void 0!==this.defaultYStep?this.defaultYStep:(this.yMax-this.yMin)/5;var p=this.getColumnRange(n,this.colZ);if(this.zMin=void 0!==this.defaultZMin?this.defaultZMin:p.min,this.zMax=void 0!==this.defaultZMax?this.defaultZMax:p.max,this.zMax<=this.zMin&&(this.zMax=this.zMin+1),this.zStep=void 0!==this.defaultZStep?this.defaultZStep:(this.zMax-this.zMin)/5,void 0!==this.colValue){var d=this.getColumnRange(n,this.colValue);this.valueMin=void 0!==this.defaultValueMin?this.defaultValueMin:d.min,this.valueMax=void 0!==this.defaultValueMax?this.defaultValueMax:d.max,this.valueMax<=this.valueMin&&(this.valueMax=this.valueMin+1)}this._setScale()}}},Graph3d.prototype._getDataPoints=function(e){var t,i,n,r,o,s,a=[];if(this.style===Graph3d.STYLE.GRID||this.style===Graph3d.STYLE.SURFACE){var u=[],c=[];for(n=0;n<this.getNumberOfRows(e);n++)t=e[n][this.colX]||0,i=e[n][this.colY]||0,u.indexOf(t)===-1&&u.push(t),c.indexOf(i)===-1&&c.push(i);var h=function(e,t){return e-t};u.sort(h),c.sort(h);var p=[];for(n=0;n<e.length;n++){t=e[n][this.colX]||0,i=e[n][this.colY]||0,r=e[n][this.colZ]||0;var d=u.indexOf(t),f=c.indexOf(i);void 0===p[d]&&(p[d]=[]);var m=new l;m.x=t,m.y=i,m.z=r,o={},o.point=m,o.trans=void 0,o.screen=void 0,o.bottom=new l(t,i,this.zMin),p[d][f]=o,a.push(o)}for(t=0;t<p.length;t++)for(i=0;i<p[t].length;i++)p[t][i]&&(p[t][i].pointRight=t<p.length-1?p[t+1][i]:void 0,p[t][i].pointTop=i<p[t].length-1?p[t][i+1]:void 0,p[t][i].pointCross=t<p.length-1&&i<p[t].length-1?p[t+1][i+1]:void 0)}else for(n=0;n<e.length;n++)s=new l,s.x=e[n][this.colX]||0,s.y=e[n][this.colY]||0,s.z=e[n][this.colZ]||0,void 0!==this.colValue&&(s.value=e[n][this.colValue]||0),o={},o.point=s,o.bottom=new l(s.x,s.y,this.zMin),o.trans=void 0,o.screen=void 0,a.push(o);return a},Graph3d.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var t=this,i=function(e){t._onMouseDown(e)},n=function(e){t._onTouchStart(e)},r=function(e){t._onWheel(e)},o=function(e){t._onTooltip(e)};a.addEventListener(this.frame.canvas,"keydown",onkeydown),a.addEventListener(this.frame.canvas,"mousedown",i),a.addEventListener(this.frame.canvas,"touchstart",n),a.addEventListener(this.frame.canvas,"mousewheel",r),a.addEventListener(this.frame.canvas,"mousemove",o),this.containerElement.appendChild(this.frame)},Graph3d.prototype.setSize=function(e,t){this.frame.style.width=e,this.frame.style.height=t,this._resizeCanvas()},Graph3d.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},Graph3d.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw"No animation available";this.frame.filter.slider.play()},Graph3d.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},Graph3d.prototype._resizeCenter=function(){"%"===this.defaultXCenter.charAt(this.defaultXCenter.length-1)?this.xcenter=parseFloat(this.defaultXCenter)/100*this.frame.canvas.clientWidth:this.xcenter=parseFloat(this.defaultXCenter),"%"===this.defaultYCenter.charAt(this.defaultYCenter.length-1)?this.ycenter=parseFloat(this.defaultYCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.ycenter=parseFloat(this.defaultYCenter)},Graph3d.prototype.setCameraPosition=function(e){void 0!==e&&(void 0!==e.horizontal&&void 0!==e.vertical&&this.camera.setArmRotation(e.horizontal,e.vertical),void 0!==e.distance&&this.camera.setArmLength(e.distance),this.redraw())},Graph3d.prototype.getCameraPosition=function(){var e=this.camera.getArmRotation();return e.distance=this.camera.getArmLength(),e},Graph3d.prototype._readData=function(e){this._dataInitialize(e,this.style),this.dataFilter?this.dataPoints=this.dataFilter._getDataPoints():this.dataPoints=this._getDataPoints(this.dataTable),this._redrawFilter()},Graph3d.prototype.setData=function(e){this._readData(e),this.redraw(),this.animationAutoStart&&this.dataFilter&&this.animationStart()},Graph3d.prototype.setOptions=function(e){var t=void 0;if(this.animationStop(),void 0!==e){if(void 0!==e.width&&(this.width=e.width),void 0!==e.height&&(this.height=e.height),void 0!==e.xCenter&&(this.defaultXCenter=e.xCenter),void 0!==e.yCenter&&(this.defaultYCenter=e.yCenter),void 0!==e.filterLabel&&(this.filterLabel=e.filterLabel),void 0!==e.legendLabel&&(this.legendLabel=e.legendLabel),void 0!==e.xLabel&&(this.xLabel=e.xLabel),void 0!==e.yLabel&&(this.yLabel=e.yLabel),void 0!==e.zLabel&&(this.zLabel=e.zLabel),void 0!==e.xValueLabel&&(this.xValueLabel=e.xValueLabel),void 0!==e.yValueLabel&&(this.yValueLabel=e.yValueLabel),void 0!==e.zValueLabel&&(this.zValueLabel=e.zValueLabel),void 0!==e.dotSizeRatio&&(this.dotSizeRatio=e.dotSizeRatio),void 0!==e.style){var i=this._getStyleNumber(e.style);i!==-1&&(this.style=i)}void 0!==e.showGrid&&(this.showGrid=e.showGrid),void 0!==e.showPerspective&&(this.showPerspective=e.showPerspective),void 0!==e.showShadow&&(this.showShadow=e.showShadow),void 0!==e.tooltip&&(this.showTooltip=e.tooltip),void 0!==e.showAnimationControls&&(this.showAnimationControls=e.showAnimationControls),void 0!==e.keepAspectRatio&&(this.keepAspectRatio=e.keepAspectRatio),void 0!==e.verticalRatio&&(this.verticalRatio=e.verticalRatio),void 0!==e.animationInterval&&(this.animationInterval=e.animationInterval),void 0!==e.animationPreload&&(this.animationPreload=e.animationPreload),void 0!==e.animationAutoStart&&(this.animationAutoStart=e.animationAutoStart),void 0!==e.xBarWidth&&(this.defaultXBarWidth=e.xBarWidth),void 0!==e.yBarWidth&&(this.defaultYBarWidth=e.yBarWidth),void 0!==e.xMin&&(this.defaultXMin=e.xMin),void 0!==e.xStep&&(this.defaultXStep=e.xStep),void 0!==e.xMax&&(this.defaultXMax=e.xMax),void 0!==e.yMin&&(this.defaultYMin=e.yMin),void 0!==e.yStep&&(this.defaultYStep=e.yStep),void 0!==e.yMax&&(this.defaultYMax=e.yMax),void 0!==e.zMin&&(this.defaultZMin=e.zMin),void 0!==e.zStep&&(this.defaultZStep=e.zStep),void 0!==e.zMax&&(this.defaultZMax=e.zMax),void 0!==e.valueMin&&(this.defaultValueMin=e.valueMin),void 0!==e.valueMax&&(this.defaultValueMax=e.valueMax),void 0!==e.backgroundColor&&this._setBackgroundColor(e.backgroundColor),void 0!==e.cameraPosition&&(t=e.cameraPosition),void 0!==t&&(this.camera.setArmRotation(t.horizontal,t.vertical),this.camera.setArmLength(t.distance)),void 0!==e.axisColor&&(this.axisColor=e.axisColor),void 0!==e.gridColor&&(this.gridColor=e.gridColor),e.dataColor&&("string"==typeof e.dataColor?(this.dataColor.fill=e.dataColor,this.dataColor.stroke=e.dataColor):(e.dataColor.fill&&(this.dataColor.fill=e.dataColor.fill),e.dataColor.stroke&&(this.dataColor.stroke=e.dataColor.stroke),void 0!==e.dataColor.strokeWidth&&(this.dataColor.strokeWidth=e.dataColor.strokeWidth)))}this.setSize(this.width,this.height),this.dataTable&&this.setData(this.dataTable),this.animationAutoStart&&this.dataFilter&&this.animationStart()},Graph3d.prototype.redraw=function(){if(void 0===this.dataPoints)throw"Error: graph data not initialized";this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this.style===Graph3d.STYLE.GRID||this.style===Graph3d.STYLE.SURFACE?this._redrawDataGrid():this.style===Graph3d.STYLE.LINE?this._redrawDataLine():this.style===Graph3d.STYLE.BAR||this.style===Graph3d.STYLE.BARCOLOR||this.style===Graph3d.STYLE.BARSIZE?this._redrawDataBar():this._redrawDataDot(),this._redrawInfo(),this._redrawLegend()},Graph3d.prototype._redrawClear=function(){var e=this.frame.canvas,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)},Graph3d.prototype._redrawLegend=function(){var e;if(this.style===Graph3d.STYLE.DOTCOLOR||this.style===Graph3d.STYLE.DOTSIZE){var t,i,n=this.frame.clientWidth*this.dotSizeRatio;this.style===Graph3d.STYLE.DOTSIZE?(t=n/2,i=n/2+2*n):(t=20,i=20);var r=Math.max(.25*this.frame.clientHeight,100),o=this.margin,s=this.frame.clientWidth-this.margin,a=s-i,l=o+r}var u=this.frame.canvas,c=u.getContext("2d");if(c.lineWidth=1,c.font="14px arial",this.style===Graph3d.STYLE.DOTCOLOR){var h=0,p=r;for(e=h;e<p;e++){var f=(e-h)/(p-h),m=240*f,y=this._hsv2rgb(m,1,1);c.strokeStyle=y,c.beginPath(),c.moveTo(a,o+e),c.lineTo(s,o+e),c.stroke()}c.strokeStyle=this.axisColor,c.strokeRect(a,o,i,r)}if(this.style===Graph3d.STYLE.DOTSIZE&&(c.strokeStyle=this.axisColor,c.fillStyle=this.dataColor.fill,c.beginPath(),c.moveTo(a,o),c.lineTo(s,o),c.lineTo(s-i+t,l),c.lineTo(a,l),c.closePath(),c.fill(),c.stroke()),this.style===Graph3d.STYLE.DOTCOLOR||this.style===Graph3d.STYLE.DOTSIZE){var v=5,g=new d(this.valueMin,this.valueMax,(this.valueMax-this.valueMin)/5,(!0));for(g.start(),g.getCurrent()<this.valueMin&&g.next();!g.end();)e=l-(g.getCurrent()-this.valueMin)/(this.valueMax-this.valueMin)*r,c.beginPath(),c.moveTo(a-v,e),c.lineTo(a,e),c.stroke(),c.textAlign="right",c.textBaseline="middle",c.fillStyle=this.axisColor,c.fillText(g.getCurrent(),a-2*v,e),g.next();c.textAlign="right",c.textBaseline="top";var _=this.legendLabel;c.fillText(_,s,l+this.margin)}},Graph3d.prototype._redrawFilter=function(){if(this.frame.filter.innerHTML="",this.dataFilter){var e={visible:this.showAnimationControls},t=new p(this.frame.filter,e);this.frame.filter.slider=t,this.frame.filter.style.padding="10px",t.setValues(this.dataFilter.values),t.setPlayInterval(this.animationInterval);var i=this,n=function(){var e=t.getIndex();i.dataFilter.selectValue(e),i.dataPoints=i.dataFilter._getDataPoints(),i.redraw()};t.setOnChangeCallback(n)}else this.frame.filter.slider=void 0},Graph3d.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},Graph3d.prototype._redrawInfo=function(){if(this.dataFilter){var e=this.frame.canvas,t=e.getContext("2d");t.font="14px arial",t.lineStyle="gray",t.fillStyle="gray",t.textAlign="left",t.textBaseline="top";var i=this.margin,n=this.margin;t.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),i,n)}},Graph3d.prototype._redrawAxis=function(){var e,t,i,n,r,o,s,a,u,c,h,p,f,m=this.frame.canvas,y=m.getContext("2d");y.font=24/this.camera.getArmLength()+"px arial";var v=.025/this.scale.x,g=.025/this.scale.y,_=5/this.camera.getArmLength(),b=this.camera.getArmRotation().horizontal;for(y.lineWidth=1,n=void 0===this.defaultXStep,i=new d(this.xMin,this.xMax,this.xStep,n),i.start(),i.getCurrent()<this.xMin&&i.next();!i.end();){var w=i.getCurrent();this.showGrid?(e=this._convert3Dto2D(new l(w,this.yMin,this.zMin)),t=this._convert3Dto2D(new l(w,this.yMax,this.zMin)),y.strokeStyle=this.gridColor,y.beginPath(),y.moveTo(e.x,e.y),y.lineTo(t.x,t.y),y.stroke()):(e=this._convert3Dto2D(new l(w,this.yMin,this.zMin)),t=this._convert3Dto2D(new l(w,this.yMin+v,this.zMin)),y.strokeStyle=this.axisColor,y.beginPath(),y.moveTo(e.x,e.y),y.lineTo(t.x,t.y),y.stroke(),e=this._convert3Dto2D(new l(w,this.yMax,this.zMin)),t=this._convert3Dto2D(new l(w,this.yMax-v,this.zMin)),y.strokeStyle=this.axisColor,y.beginPath(),y.moveTo(e.x,e.y),y.lineTo(t.x,t.y),y.stroke()),s=Math.cos(b)>0?this.yMin:this.yMax,r=this._convert3Dto2D(new l(w,s,this.zMin)),Math.cos(2*b)>0?(y.textAlign="center",y.textBaseline="top",r.y+=_):Math.sin(2*b)<0?(y.textAlign="right",y.textBaseline="middle"):(y.textAlign="left",y.textBaseline="middle"),y.fillStyle=this.axisColor,y.fillText("  "+this.xValueLabel(i.getCurrent())+"  ",r.x,r.y),i.next()}for(y.lineWidth=1,n=void 0===this.defaultYStep,i=new d(this.yMin,this.yMax,this.yStep,n),i.start(),i.getCurrent()<this.yMin&&i.next();!i.end();)this.showGrid?(e=this._convert3Dto2D(new l(this.xMin,i.getCurrent(),this.zMin)),t=this._convert3Dto2D(new l(this.xMax,i.getCurrent(),this.zMin)),y.strokeStyle=this.gridColor,y.beginPath(),y.moveTo(e.x,e.y),y.lineTo(t.x,t.y),y.stroke()):(e=this._convert3Dto2D(new l(this.xMin,i.getCurrent(),this.zMin)),t=this._convert3Dto2D(new l(this.xMin+g,i.getCurrent(),this.zMin)),y.strokeStyle=this.axisColor,y.beginPath(),y.moveTo(e.x,e.y),y.lineTo(t.x,t.y),y.stroke(),e=this._convert3Dto2D(new l(this.xMax,i.getCurrent(),this.zMin)),t=this._convert3Dto2D(new l(this.xMax-g,i.getCurrent(),this.zMin)),y.strokeStyle=this.axisColor,y.beginPath(),y.moveTo(e.x,e.y),y.lineTo(t.x,t.y),y.stroke()),o=Math.sin(b)>0?this.xMin:this.xMax,r=this._convert3Dto2D(new l(o,i.getCurrent(),this.zMin)),Math.cos(2*b)<0?(y.textAlign="center",y.textBaseline="top",r.y+=_):Math.sin(2*b)>0?(y.textAlign="right",y.textBaseline="middle"):(y.textAlign="left",y.textBaseline="middle"),y.fillStyle=this.axisColor,y.fillText("  "+this.yValueLabel(i.getCurrent())+"  ",r.x,r.y),i.next();for(y.lineWidth=1,n=void 0===this.defaultZStep,i=new d(this.zMin,this.zMax,this.zStep,n),i.start(),i.getCurrent()<this.zMin&&i.next(),o=Math.cos(b)>0?this.xMin:this.xMax,s=Math.sin(b)<0?this.yMin:this.yMax;!i.end();)e=this._convert3Dto2D(new l(o,s,i.getCurrent())),y.strokeStyle=this.axisColor,y.beginPath(),y.moveTo(e.x,e.y),y.lineTo(e.x-_,e.y),y.stroke(),y.textAlign="right",y.textBaseline="middle",y.fillStyle=this.axisColor,y.fillText(this.zValueLabel(i.getCurrent())+" ",e.x-5,e.y),i.next();y.lineWidth=1,e=this._convert3Dto2D(new l(o,s,this.zMin)),t=this._convert3Dto2D(new l(o,s,this.zMax)),y.strokeStyle=this.axisColor,y.beginPath(),y.moveTo(e.x,e.y),y.lineTo(t.x,t.y),y.stroke(),y.lineWidth=1,p=this._convert3Dto2D(new l(this.xMin,this.yMin,this.zMin)),f=this._convert3Dto2D(new l(this.xMax,this.yMin,this.zMin)),y.strokeStyle=this.axisColor,y.beginPath(),y.moveTo(p.x,p.y),y.lineTo(f.x,f.y),y.stroke(),p=this._convert3Dto2D(new l(this.xMin,this.yMax,this.zMin)),f=this._convert3Dto2D(new l(this.xMax,this.yMax,this.zMin)),y.strokeStyle=this.axisColor,y.beginPath(),y.moveTo(p.x,p.y),y.lineTo(f.x,f.y),y.stroke(),y.lineWidth=1,e=this._convert3Dto2D(new l(this.xMin,this.yMin,this.zMin)),t=this._convert3Dto2D(new l(this.xMin,this.yMax,this.zMin)),y.strokeStyle=this.axisColor,y.beginPath(),y.moveTo(e.x,e.y),y.lineTo(t.x,t.y),y.stroke(),e=this._convert3Dto2D(new l(this.xMax,this.yMin,this.zMin)),t=this._convert3Dto2D(new l(this.xMax,this.yMax,this.zMin)),y.strokeStyle=this.axisColor,y.beginPath(),y.moveTo(e.x,e.y),y.lineTo(t.x,t.y),y.stroke();var C=this.xLabel;C.length>0&&(h=.1/this.scale.y,o=(this.xMin+this.xMax)/2,
s=Math.cos(b)>0?this.yMin-h:this.yMax+h,r=this._convert3Dto2D(new l(o,s,this.zMin)),Math.cos(2*b)>0?(y.textAlign="center",y.textBaseline="top"):Math.sin(2*b)<0?(y.textAlign="right",y.textBaseline="middle"):(y.textAlign="left",y.textBaseline="middle"),y.fillStyle=this.axisColor,y.fillText(C,r.x,r.y));var x=this.yLabel;x.length>0&&(c=.1/this.scale.x,o=Math.sin(b)>0?this.xMin-c:this.xMax+c,s=(this.yMin+this.yMax)/2,r=this._convert3Dto2D(new l(o,s,this.zMin)),Math.cos(2*b)<0?(y.textAlign="center",y.textBaseline="top"):Math.sin(2*b)>0?(y.textAlign="right",y.textBaseline="middle"):(y.textAlign="left",y.textBaseline="middle"),y.fillStyle=this.axisColor,y.fillText(x,r.x,r.y));var E=this.zLabel;E.length>0&&(u=30,o=Math.cos(b)>0?this.xMin:this.xMax,s=Math.sin(b)<0?this.yMin:this.yMax,a=(this.zMin+this.zMax)/2,r=this._convert3Dto2D(new l(o,s,a)),y.textAlign="right",y.textBaseline="middle",y.fillStyle=this.axisColor,y.fillText(E,r.x-u,r.y))},Graph3d.prototype._hsv2rgb=function(e,t,i){var n,r,o,s,a,l;switch(s=i*t,a=Math.floor(e/60),l=s*(1-Math.abs(e/60%2-1)),a){case 0:n=s,r=l,o=0;break;case 1:n=l,r=s,o=0;break;case 2:n=0,r=s,o=l;break;case 3:n=0,r=l,o=s;break;case 4:n=l,r=0,o=s;break;case 5:n=s,r=0,o=l;break;default:n=0,r=0,o=0}return"RGB("+parseInt(255*n)+","+parseInt(255*r)+","+parseInt(255*o)+")"},Graph3d.prototype._redrawDataGrid=function(){var e,t,i,n,r,o,s,a,u,c,h,p,d=this.frame.canvas,f=d.getContext("2d");if(f.lineJoin="round",f.lineCap="round",!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(r=0;r<this.dataPoints.length;r++){var m=this._convertPointToTranslation(this.dataPoints[r].point),y=this._convertTranslationToScreen(m);this.dataPoints[r].trans=m,this.dataPoints[r].screen=y;var v=this._convertPointToTranslation(this.dataPoints[r].bottom);this.dataPoints[r].dist=this.showPerspective?v.length():-v.z}var g=function(e,t){return t.dist-e.dist};if(this.dataPoints.sort(g),this.style===Graph3d.STYLE.SURFACE){for(r=0;r<this.dataPoints.length;r++)if(e=this.dataPoints[r],t=this.dataPoints[r].pointRight,i=this.dataPoints[r].pointTop,n=this.dataPoints[r].pointCross,void 0!==e&&void 0!==t&&void 0!==i&&void 0!==n){if(this.showGrayBottom||this.showShadow){var _=l.subtract(n.trans,e.trans),b=l.subtract(i.trans,t.trans),w=l.crossProduct(_,b),C=w.length();o=w.z>0}else o=!0;o?(p=(e.point.z+t.point.z+i.point.z+n.point.z)/4,u=240*(1-(p-this.zMin)*this.scale.z/this.verticalRatio),c=1,this.showShadow?(h=Math.min(1+w.x/C/2,1),s=this._hsv2rgb(u,c,h),a=s):(h=1,s=this._hsv2rgb(u,c,h),a=this.axisColor)):(s="gray",a=this.axisColor),f.lineWidth=this._getStrokeWidth(e),f.fillStyle=s,f.strokeStyle=a,f.beginPath(),f.moveTo(e.screen.x,e.screen.y),f.lineTo(t.screen.x,t.screen.y),f.lineTo(n.screen.x,n.screen.y),f.lineTo(i.screen.x,i.screen.y),f.closePath(),f.fill(),f.stroke()}}else for(r=0;r<this.dataPoints.length;r++)e=this.dataPoints[r],t=this.dataPoints[r].pointRight,i=this.dataPoints[r].pointTop,void 0!==e&&void 0!==t&&(p=(e.point.z+t.point.z)/2,u=240*(1-(p-this.zMin)*this.scale.z/this.verticalRatio),f.lineWidth=2*this._getStrokeWidth(e),f.strokeStyle=this._hsv2rgb(u,1,1),f.beginPath(),f.moveTo(e.screen.x,e.screen.y),f.lineTo(t.screen.x,t.screen.y),f.stroke()),void 0!==e&&void 0!==i&&(p=(e.point.z+i.point.z)/2,u=240*(1-(p-this.zMin)*this.scale.z/this.verticalRatio),f.lineWidth=2*this._getStrokeWidth(e),f.strokeStyle=this._hsv2rgb(u,1,1),f.beginPath(),f.moveTo(e.screen.x,e.screen.y),f.lineTo(i.screen.x,i.screen.y),f.stroke())}},Graph3d.prototype._getStrokeWidth=function(e){return void 0!==e?this.showPerspective?1/-e.trans.z*this.dataColor.strokeWidth:-(this.eye.z/this.camera.getArmLength())*this.dataColor.strokeWidth:this.dataColor.strokeWidth},Graph3d.prototype._redrawDataDot=function(){var e,t=this.frame.canvas,i=t.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(e=0;e<this.dataPoints.length;e++){var n=this._convertPointToTranslation(this.dataPoints[e].point),r=this._convertTranslationToScreen(n);this.dataPoints[e].trans=n,this.dataPoints[e].screen=r;var o=this._convertPointToTranslation(this.dataPoints[e].bottom);this.dataPoints[e].dist=this.showPerspective?o.length():-o.z}var s=function(e,t){return t.dist-e.dist};this.dataPoints.sort(s);var a=this.frame.clientWidth*this.dotSizeRatio;for(e=0;e<this.dataPoints.length;e++){var l=this.dataPoints[e];if(this.style===Graph3d.STYLE.DOTLINE){var u=this._convert3Dto2D(l.bottom);i.lineWidth=1,i.strokeStyle=this.gridColor,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(l.screen.x,l.screen.y),i.stroke()}var c;c=this.style===Graph3d.STYLE.DOTSIZE?a/2+2*a*(l.point.value-this.valueMin)/(this.valueMax-this.valueMin):a;var h;h=this.showPerspective?c/-l.trans.z:c*-(this.eye.z/this.camera.getArmLength()),h<0&&(h=0);var p,d,f;this.style===Graph3d.STYLE.DOTCOLOR?(p=240*(1-(l.point.value-this.valueMin)*this.scale.value),d=this._hsv2rgb(p,1,1),f=this._hsv2rgb(p,1,.8)):this.style===Graph3d.STYLE.DOTSIZE?(d=this.dataColor.fill,f=this.dataColor.stroke):(p=240*(1-(l.point.z-this.zMin)*this.scale.z/this.verticalRatio),d=this._hsv2rgb(p,1,1),f=this._hsv2rgb(p,1,.8)),i.lineWidth=this._getStrokeWidth(l),i.strokeStyle=f,i.fillStyle=d,i.beginPath(),i.arc(l.screen.x,l.screen.y,h,0,2*Math.PI,!0),i.fill(),i.stroke()}}},Graph3d.prototype._redrawDataBar=function(){var e,t,i,n,r=this.frame.canvas,o=r.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(e=0;e<this.dataPoints.length;e++){var s=this._convertPointToTranslation(this.dataPoints[e].point),a=this._convertTranslationToScreen(s);this.dataPoints[e].trans=s,this.dataPoints[e].screen=a;var u=this._convertPointToTranslation(this.dataPoints[e].bottom);this.dataPoints[e].dist=this.showPerspective?u.length():-u.z}var c=function(e,t){return t.dist-e.dist};this.dataPoints.sort(c),o.lineJoin="round",o.lineCap="round";var h=this.xBarWidth/2,p=this.yBarWidth/2;for(e=0;e<this.dataPoints.length;e++){var d,f,m,y=this.dataPoints[e];this.style===Graph3d.STYLE.BARCOLOR?(d=240*(1-(y.point.value-this.valueMin)*this.scale.value),f=this._hsv2rgb(d,1,1),m=this._hsv2rgb(d,1,.8)):this.style===Graph3d.STYLE.BARSIZE?(f=this.dataColor.fill,m=this.dataColor.stroke):(d=240*(1-(y.point.z-this.zMin)*this.scale.z/this.verticalRatio),f=this._hsv2rgb(d,1,1),m=this._hsv2rgb(d,1,.8)),this.style===Graph3d.STYLE.BARSIZE&&(h=this.xBarWidth/2*((y.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2),p=this.yBarWidth/2*((y.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2));var v=this,g=y.point,_=[{point:new l(g.x-h,g.y-p,g.z)},{point:new l(g.x+h,g.y-p,g.z)},{point:new l(g.x+h,g.y+p,g.z)},{point:new l(g.x-h,g.y+p,g.z)}],b=[{point:new l(g.x-h,g.y-p,this.zMin)},{point:new l(g.x+h,g.y-p,this.zMin)},{point:new l(g.x+h,g.y+p,this.zMin)},{point:new l(g.x-h,g.y+p,this.zMin)}];_.forEach(function(e){e.screen=v._convert3Dto2D(e.point)}),b.forEach(function(e){e.screen=v._convert3Dto2D(e.point)});var w=[{corners:_,center:l.avg(b[0].point,b[2].point)},{corners:[_[0],_[1],b[1],b[0]],center:l.avg(b[1].point,b[0].point)},{corners:[_[1],_[2],b[2],b[1]],center:l.avg(b[2].point,b[1].point)},{corners:[_[2],_[3],b[3],b[2]],center:l.avg(b[3].point,b[2].point)},{corners:[_[3],_[0],b[0],b[3]],center:l.avg(b[0].point,b[3].point)}];for(y.surfaces=w,t=0;t<w.length;t++){i=w[t];var C=this._convertPointToTranslation(i.center);i.dist=this.showPerspective?C.length():-C.z}for(w.sort(function(e,t){var i=t.dist-e.dist;return i?i:e.corners===_?1:t.corners===_?-1:0}),o.lineWidth=this._getStrokeWidth(y),o.strokeStyle=m,o.fillStyle=f,t=2;t<w.length;t++)i=w[t],n=i.corners,o.beginPath(),o.moveTo(n[3].screen.x,n[3].screen.y),o.lineTo(n[0].screen.x,n[0].screen.y),o.lineTo(n[1].screen.x,n[1].screen.y),o.lineTo(n[2].screen.x,n[2].screen.y),o.lineTo(n[3].screen.x,n[3].screen.y),o.fill(),o.stroke()}}},Graph3d.prototype._redrawDataLine=function(){var e,t,i=this.frame.canvas,n=i.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(t=0;t<this.dataPoints.length;t++){var r=this._convertPointToTranslation(this.dataPoints[t].point),o=this._convertTranslationToScreen(r);this.dataPoints[t].trans=r,this.dataPoints[t].screen=o}if(this.dataPoints.length>0){for(e=this.dataPoints[0],n.lineWidth=this._getStrokeWidth(e),n.lineJoin="round",n.lineCap="round",n.strokeStyle=this.dataColor.stroke,n.beginPath(),n.moveTo(e.screen.x,e.screen.y),t=1;t<this.dataPoints.length;t++)e=this.dataPoints[t],n.lineTo(e.screen.x,e.screen.y);n.stroke()}}},Graph3d.prototype._onMouseDown=function(e){if(e=e||window.event,this.leftButtonDown&&this._onMouseUp(e),this.leftButtonDown=e.which?1===e.which:1===e.button,this.leftButtonDown||this.touchDown){this.startMouseX=getMouseX(e),this.startMouseY=getMouseY(e),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var t=this;this.onmousemove=function(e){t._onMouseMove(e)},this.onmouseup=function(e){t._onMouseUp(e)},a.addEventListener(document,"mousemove",t.onmousemove),a.addEventListener(document,"mouseup",t.onmouseup),a.preventDefault(e)}},Graph3d.prototype._onMouseMove=function(e){e=e||window.event;var t=parseFloat(getMouseX(e))-this.startMouseX,i=parseFloat(getMouseY(e))-this.startMouseY,n=this.startArmRotation.horizontal+t/200,r=this.startArmRotation.vertical+i/200,o=4,s=Math.sin(o/360*2*Math.PI);Math.abs(Math.sin(n))<s&&(n=Math.round(n/Math.PI)*Math.PI-.001),Math.abs(Math.cos(n))<s&&(n=(Math.round(n/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(r))<s&&(r=Math.round(r/Math.PI)*Math.PI),Math.abs(Math.cos(r))<s&&(r=(Math.round(r/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(n,r),this.redraw();var l=this.getCameraPosition();this.emit("cameraPositionChange",l),a.preventDefault(e)},Graph3d.prototype._onMouseUp=function(e){this.frame.style.cursor="auto",this.leftButtonDown=!1,a.removeEventListener(document,"mousemove",this.onmousemove),a.removeEventListener(document,"mouseup",this.onmouseup),a.preventDefault(e)},Graph3d.prototype._onTooltip=function(e){var t=300,i=this.frame.getBoundingClientRect(),n=getMouseX(e)-i.left,r=getMouseY(e)-i.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var o=this._dataPointFromXY(n,r);o!==this.tooltip.dataPoint&&(o?this._showTooltip(o):this._hideTooltip())}else{var s=this;this.tooltipTimeout=setTimeout(function(){s.tooltipTimeout=null;var e=s._dataPointFromXY(n,r);e&&s._showTooltip(e)},t)}}},Graph3d.prototype._onTouchStart=function(e){this.touchDown=!0;var t=this;this.ontouchmove=function(e){t._onTouchMove(e)},this.ontouchend=function(e){t._onTouchEnd(e)},a.addEventListener(document,"touchmove",t.ontouchmove),a.addEventListener(document,"touchend",t.ontouchend),this._onMouseDown(e)},Graph3d.prototype._onTouchMove=function(e){this._onMouseMove(e)},Graph3d.prototype._onTouchEnd=function(e){this.touchDown=!1,a.removeEventListener(document,"touchmove",this.ontouchmove),a.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(e)},Graph3d.prototype._onWheel=function(e){e||(e=window.event);var t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t){var i=this.camera.getArmLength(),n=i*(1-t/10);this.camera.setArmLength(n),this.redraw(),this._hideTooltip()}var r=this.getCameraPosition();this.emit("cameraPositionChange",r),a.preventDefault(e)},Graph3d.prototype._insideTriangle=function(e,t){function sign(e){return e>0?1:e<0?-1:0}var i=t[0],n=t[1],r=t[2],o=sign((n.x-i.x)*(e.y-i.y)-(n.y-i.y)*(e.x-i.x)),s=sign((r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x)),a=sign((i.x-r.x)*(e.y-r.y)-(i.y-r.y)*(e.x-r.x));return!(0!=o&&0!=s&&o!=s||0!=s&&0!=a&&s!=a||0!=o&&0!=a&&o!=a)},Graph3d.prototype._dataPointFromXY=function(e,t){var i,n=100,r=null,o=null,s=null,a=new u(e,t);if(this.style===Graph3d.STYLE.BAR||this.style===Graph3d.STYLE.BARCOLOR||this.style===Graph3d.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){r=this.dataPoints[i];var l=r.surfaces;if(l)for(var c=l.length-1;c>=0;c--){var h=l[c],p=h.corners,d=[p[0].screen,p[1].screen,p[2].screen],f=[p[2].screen,p[3].screen,p[0].screen];if(this._insideTriangle(a,d)||this._insideTriangle(a,f))return r}}else for(i=0;i<this.dataPoints.length;i++){r=this.dataPoints[i];var m=r.screen;if(m){var y=Math.abs(e-m.x),v=Math.abs(t-m.y),g=Math.sqrt(y*y+v*v);(null===s||g<s)&&g<n&&(s=g,o=r)}}return o},Graph3d.prototype._showTooltip=function(e){var t,i,n;this.tooltip?(t=this.tooltip.dom.content,i=this.tooltip.dom.line,n=this.tooltip.dom.dot):(t=document.createElement("div"),t.style.position="absolute",t.style.padding="10px",t.style.border="1px solid #4d4d4d",t.style.color="#1a1a1a",t.style.background="rgba(255,255,255,0.7)",t.style.borderRadius="2px",t.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",i=document.createElement("div"),i.style.position="absolute",i.style.height="40px",i.style.width="0",i.style.borderLeft="1px solid #4d4d4d",n=document.createElement("div"),n.style.position="absolute",n.style.height="0",n.style.width="0",n.style.border="5px solid #4d4d4d",n.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:t,line:i,dot:n}}),this._hideTooltip(),this.tooltip.dataPoint=e,"function"==typeof this.showTooltip?t.innerHTML=this.showTooltip(e.point):t.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+e.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+e.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+e.point.z+"</td></tr></table>",t.style.left="0",t.style.top="0",this.frame.appendChild(t),this.frame.appendChild(i),this.frame.appendChild(n);var r=t.offsetWidth,o=t.offsetHeight,s=i.offsetHeight,a=n.offsetWidth,l=n.offsetHeight,u=e.screen.x-r/2;u=Math.min(Math.max(u,10),this.frame.clientWidth-10-r),i.style.left=e.screen.x+"px",i.style.top=e.screen.y-s+"px",t.style.left=u+"px",t.style.top=e.screen.y-s-o+"px",n.style.left=e.screen.x-a/2+"px",n.style.top=e.screen.y-l/2+"px"},Graph3d.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var e in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(e)){var t=this.tooltip.dom[e];t&&t.parentNode&&t.parentNode.removeChild(t)}}},e.exports=Graph3d},function(e,t){function Emitter(e){if(e)return mixin(e)}function mixin(e){for(var t in Emitter.prototype)e[t]=Emitter.prototype[t];return e}e.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},Emitter.prototype.once=function(e,t){function on(){i.off(e,on),t.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},on.fn=t,this.on(e,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,r=0;r<i.length;r++)if(n=i[r],n===t||n.fn===t){i.splice(r,1);break}return this},Emitter.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i){i=i.slice(0);for(var n=0,r=i.length;n<r;++n)i[n].apply(this,t)}return this},Emitter.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},Emitter.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){function Point3d(e,t,i){this.x=void 0!==e?e:0,this.y=void 0!==t?t:0,this.z=void 0!==i?i:0}Point3d.subtract=function(e,t){var i=new Point3d;return i.x=e.x-t.x,i.y=e.y-t.y,i.z=e.z-t.z,i},Point3d.add=function(e,t){var i=new Point3d;return i.x=e.x+t.x,i.y=e.y+t.y,i.z=e.z+t.z,i},Point3d.avg=function(e,t){return new Point3d((e.x+t.x)/2,(e.y+t.y)/2,(e.z+t.z)/2)},Point3d.crossProduct=function(e,t){var i=new Point3d;return i.x=e.y*t.z-e.z*t.y,i.y=e.z*t.x-e.x*t.z,i.z=e.x*t.y-e.y*t.x,i},Point3d.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},e.exports=Point3d},function(e,t){function Point2d(e,t){this.x=void 0!==e?e:0,this.y=void 0!==t?t:0}e.exports=Point2d},function(e,t,i){function Camera(){this.armLocation=new n,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraLocation=new n,this.cameraRotation=new n(.5*Math.PI,0,0),this.calculateCameraOrientation()}var n=i(14);Camera.prototype.setArmLocation=function(e,t,i){this.armLocation.x=e,this.armLocation.y=t,this.armLocation.z=i,this.calculateCameraOrientation()},Camera.prototype.setArmRotation=function(e,t){void 0!==e&&(this.armRotation.horizontal=e),void 0!==t&&(this.armRotation.vertical=t,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===e&&void 0===t||this.calculateCameraOrientation()},Camera.prototype.getArmRotation=function(){var e={};return e.horizontal=this.armRotation.horizontal,e.vertical=this.armRotation.vertical,e},Camera.prototype.setArmLength=function(e){void 0!==e&&(this.armLength=e,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.calculateCameraOrientation())},Camera.prototype.getArmLength=function(){return this.armLength},Camera.prototype.getCameraLocation=function(){return this.cameraLocation},Camera.prototype.getCameraRotation=function(){return this.cameraRotation},Camera.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal},e.exports=Camera},function(e,t,i){function Filter(e,t,i){this.data=e,this.column=t,this.graph=i,this.index=void 0,this.value=void 0,this.values=i.getDistinctValues(e.get(),this.column),this.values.sort(function(e,t){return e>t?1:e<t?-1:0}),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var n=i(11);Filter.prototype.isLoaded=function(){return this.loaded},Filter.prototype.getLoadedProgress=function(){for(var e=this.values.length,t=0;this.dataPoints[t];)t++;return Math.round(t/e*100)},Filter.prototype.getLabel=function(){return this.graph.filterLabel},Filter.prototype.getColumn=function(){return this.column},Filter.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},Filter.prototype.getValues=function(){return this.values},Filter.prototype.getValue=function(e){if(e>=this.values.length)throw"Error: index out of range";return this.values[e]},Filter.prototype._getDataPoints=function(e){if(void 0===e&&(e=this.index),void 0===e)return[];var t;if(this.dataPoints[e])t=this.dataPoints[e];else{var i={};i.column=this.column,i.value=this.values[e];var r=new n(this.data,{filter:function(e){return e[i.column]==i.value}}).get();t=this.graph._getDataPoints(r),this.dataPoints[e]=t}return t},Filter.prototype.setOnLoadCallback=function(e){this.onLoadCallback=e},Filter.prototype.selectValue=function(e){if(e>=this.values.length)throw"Error: index out of range";this.index=e,this.value=this.values[e]},Filter.prototype.loadInBackground=function(e){void 0===e&&(e=0);var t=this.graph.frame;if(e<this.values.length){this._getDataPoints(e);void 0===t.progress&&(t.progress=document.createElement("DIV"),t.progress.style.position="absolute",t.progress.style.color="gray",t.appendChild(t.progress));var i=this.getLoadedProgress();t.progress.innerHTML="Loading animation... "+i+"%",t.progress.style.bottom="60px",t.progress.style.left="10px";var n=this;setTimeout(function(){n.loadInBackground(e+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==t.progress&&(t.removeChild(t.progress),t.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},e.exports=Filter},function(e,t,i){function Slider(e,t){if(void 0===e)throw"Error: No container element defined";if(this.container=e,this.visible=!t||void 0==t.visible||t.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(e){i._onMouseDown(e)},this.frame.prev.onclick=function(e){i.prev(e)},this.frame.play.onclick=function(e){i.togglePlay(e)},this.frame.next.onclick=function(e){i.next(e)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}var n=i(1);Slider.prototype.prev=function(){var e=this.getIndex();e>0&&(e--,this.setIndex(e))},Slider.prototype.next=function(){var e=this.getIndex();e<this.values.length-1&&(e++,this.setIndex(e))},Slider.prototype.playNext=function(){var e=new Date,t=this.getIndex();t<this.values.length-1?(t++,this.setIndex(t)):this.playLoop&&(t=0,this.setIndex(t));var i=new Date,n=i-e,r=Math.max(this.playInterval-n,0),o=this;this.playTimeout=setTimeout(function(){o.playNext()},r)},Slider.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},Slider.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},Slider.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},Slider.prototype.setOnChangeCallback=function(e){this.onChangeCallback=e},Slider.prototype.setPlayInterval=function(e){this.playInterval=e},Slider.prototype.getPlayInterval=function(e){return this.playInterval},Slider.prototype.setPlayLoop=function(e){this.playLoop=e},Slider.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},Slider.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var e=this.indexToLeft(this.index);this.frame.slide.style.left=e+"px"}},Slider.prototype.setValues=function(e){this.values=e,this.values.length>0?this.setIndex(0):this.index=void 0},Slider.prototype.setIndex=function(e){if(!(e<this.values.length))throw"Error: index out of range";this.index=e,this.redraw(),this.onChange()},Slider.prototype.getIndex=function(){return this.index},Slider.prototype.get=function(){return this.values[this.index]},Slider.prototype._onMouseDown=function(e){var t=e.which?1===e.which:1===e.button;if(t){this.startClientX=e.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var i=this;this.onmousemove=function(e){i._onMouseMove(e)},this.onmouseup=function(e){i._onMouseUp(e)},n.addEventListener(document,"mousemove",this.onmousemove),n.addEventListener(document,"mouseup",this.onmouseup),n.preventDefault(e)}},Slider.prototype.leftToIndex=function(e){var t=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=e-3,n=Math.round(i/t*(this.values.length-1));return n<0&&(n=0),n>this.values.length-1&&(n=this.values.length-1),n},Slider.prototype.indexToLeft=function(e){var t=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=e/(this.values.length-1)*t,n=i+3;return n},Slider.prototype._onMouseMove=function(e){var t=e.clientX-this.startClientX,i=this.startSlideX+t,r=this.leftToIndex(i);this.setIndex(r),n.preventDefault()},Slider.prototype._onMouseUp=function(e){this.frame.style.cursor="auto",n.removeEventListener(document,"mousemove",this.onmousemove),n.removeEventListener(document,"mouseup",this.onmouseup),n.preventDefault()},e.exports=Slider},function(e,t){function StepNumber(e,t,i,n){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(e,t,i,n)}StepNumber.prototype.setRange=function(e,t,i,n){this._start=e?e:0,this._end=t?t:0,this.setStep(i,n)},StepNumber.prototype.setStep=function(e,t){void 0===e||e<=0||(void 0!==t&&(this.prettyStep=t),this.prettyStep===!0?this._step=StepNumber.calculatePrettyStep(e):this._step=e)},StepNumber.calculatePrettyStep=function(e){var t=function(e){return Math.log(e)/Math.LN10},i=Math.pow(10,Math.round(t(e))),n=2*Math.pow(10,Math.round(t(e/2))),r=5*Math.pow(10,Math.round(t(e/5))),o=i;return Math.abs(n-e)<=Math.abs(o-e)&&(o=n),Math.abs(r-e)<=Math.abs(o-e)&&(o=r),o<=0&&(o=1),o},StepNumber.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},StepNumber.prototype.getStep=function(){return this._step},StepNumber.prototype.start=function(){this._current=this._start-this._start%this._step},StepNumber.prototype.next=function(){this._current+=this._step},StepNumber.prototype.end=function(){return this._current>this._end},e.exports=StepNumber},function(e,t,i){if("undefined"!=typeof window){var n=i(21),r=window.Hammer||i(22);e.exports=n(r,{preventDefault:"mouse"})}else e.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.")}},function(e,t,i){var n,r,o;!function(i){r=[],n=i,o="function"==typeof n?n.apply(t,r):n,!(void 0!==o&&(e.exports=o))}(function(){var e=null;return function propagating(t,i){function split(e){return e.match(/[^ ]+/g)}function propagatedHandler(t){if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}var i=!1;t.stopPropagation=function(){i=!0};var n=t.srcEvent.stopPropagation.bind(t.srcEvent);"function"==typeof n&&(t.srcEvent.stopPropagation=function(){n(),t.stopPropagation()}),t.firstTarget=e;for(var r=e;r&&!i;){var o=r.hammer;if(o)for(var s,a=0;a<o.length;a++)if(s=o[a]._handlers[t.type])for(var l=0;l<s.length&&!i;l++)s[l](t);r=r.parentNode}}var n=i||{preventDefault:!1};if(t.Manager){var r=t,o=function(e,t){var i=Object.create(n);return t&&r.assign(i,t),propagating(new r(e,i),i)};return r.assign(o,r),o.Manager=function(e,t){var i=Object.create(n);return t&&r.assign(i,t),propagating(new r.Manager(e,i),i)},o}var s=Object.create(t),a=t.element;return a.hammer||(a.hammer=[]),a.hammer.push(s),t.on("hammer.input",function(t){n.preventDefault!==!0&&n.preventDefault!==t.pointerType||t.preventDefault(),t.isFirst&&(e=t.target)}),s._handlers={},s.on=function(e,i){return split(e).forEach(function(e){var n=s._handlers[e];n||(s._handlers[e]=n=[],t.on(e,propagatedHandler)),n.push(i)}),s},s.off=function(e,i){return split(e).forEach(function(e){var n=s._handlers[e];n&&(n=i?n.filter(function(e){return e!==i}):[],n.length>0?s._handlers[e]=n:(t.off(e,propagatedHandler),delete s._handlers[e]))}),s},s.emit=function(i,n){e=n.target,t.emit(i,n)},s.destroy=function(){var e=t.element.hammer,i=e.indexOf(s);i!==-1&&e.splice(i,1),e.length||delete t.element.hammer,s._handlers={},t.destroy()},s}})},function(e,t,i){var n;!function(r,o,s,a){function setTimeoutContext(e,t,i){return setTimeout(bindFn(e,i),t)}function invokeArrayArg(e,t,i){return!!Array.isArray(e)&&(each(e,i[t],i),!0)}function each(e,t,i){var n;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==a)for(n=0;n<e.length;)t.call(i,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e)}function deprecate(e,t,i){var n="DEPRECATED METHOD: "+t+"\n"+i+" AT \n";return function(){var t=new Error("get-stack-trace"),i=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,n,i),e.apply(this,arguments)}}function inherit(e,t,i){var n,r=t.prototype;n=e.prototype=Object.create(r),n.constructor=e,n._super=r,i&&l(n,i)}function bindFn(e,t){return function(){return e.apply(t,arguments)}}function boolOrFn(e,t){return typeof e==h?e.apply(t?t[0]||a:a,t):e}function ifUndefined(e,t){return e===a?t:e}function addEventListeners(e,t,i){each(splitStr(t),function(t){e.addEventListener(t,i,!1)})}function removeEventListeners(e,t,i){each(splitStr(t),function(t){e.removeEventListener(t,i,!1)})}function hasParent(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function inStr(e,t){return e.indexOf(t)>-1}function splitStr(e){return e.trim().split(/\s+/g)}function inArray(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}function toArray(e){return Array.prototype.slice.call(e,0)}function uniqueArray(e,t,i){for(var n=[],r=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];inArray(r,s)<0&&n.push(e[o]),r[o]=s,o++}return i&&(n=t?n.sort(function(e,i){return e[t]>i[t]}):n.sort()),n}function prefixed(e,t){for(var i,n,r=t[0].toUpperCase()+t.slice(1),o=0;o<u.length;){if(i=u[o],n=i?i+r:t,n in e)return n;o++}return a}function uniqueId(){return v++}function getWindowForElement(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}function Input(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){boolOrFn(e.options.enable,[e])&&i.handler(t)},this.init()}function createInputInstance(e){var t,i=e.options.inputClass;return new(t=i?i:b?PointerEventInput:w?TouchInput:_?TouchMouseInput:MouseInput)(e,inputHandler)}function inputHandler(e,t,i){var n=i.pointers.length,r=i.changedPointers.length,o=t&k&&n-r===0,s=t&(A|D)&&n-r===0;i.isFirst=!!o,i.isFinal=!!s,o&&(e.session={}),i.eventType=t,computeInputData(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function computeInputData(e,t){var i=e.session,n=t.pointers,r=n.length;i.firstInput||(i.firstInput=simpleCloneInputData(t)),r>1&&!i.firstMultiple?i.firstMultiple=simpleCloneInputData(t):1===r&&(i.firstMultiple=!1);var o=i.firstInput,s=i.firstMultiple,a=s?s.center:o.center,l=t.center=getCenter(n);t.timeStamp=f(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=getAngle(a,l),t.distance=getDistance(a,l),computeDeltaXY(i,t),t.offsetDirection=getDirection(t.deltaX,t.deltaY);var u=getVelocity(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=d(u.x)>d(u.y)?u.x:u.y,t.scale=s?getScale(s.pointers,n):1,t.rotation=s?getRotation(s.pointers,n):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,computeIntervalInputData(i,t);var c=e.element;hasParent(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function computeDeltaXY(e,t){var i=t.center,n=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};
t.eventType!==k&&o.eventType!==A||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=r.x+(i.x-n.x),t.deltaY=r.y+(i.y-n.y)}function computeIntervalInputData(e,t){var i,n,r,o,s=e.lastInterval||t,l=t.timeStamp-s.timeStamp;if(t.eventType!=D&&(l>P||s.velocity===a)){var u=t.deltaX-s.deltaX,c=t.deltaY-s.deltaY,h=getVelocity(l,u,c);n=h.x,r=h.y,i=d(h.x)>d(h.y)?h.x:h.y,o=getDirection(u,c),e.lastInterval=t}else i=s.velocity,n=s.velocityX,r=s.velocityY,o=s.direction;t.velocity=i,t.velocityX=n,t.velocityY=r,t.direction=o}function simpleCloneInputData(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:p(e.pointers[i].clientX),clientY:p(e.pointers[i].clientY)},i++;return{timeStamp:f(),pointers:t,center:getCenter(t),deltaX:e.deltaX,deltaY:e.deltaY}}function getCenter(e){var t=e.length;if(1===t)return{x:p(e[0].clientX),y:p(e[0].clientY)};for(var i=0,n=0,r=0;r<t;)i+=e[r].clientX,n+=e[r].clientY,r++;return{x:p(i/t),y:p(n/t)}}function getVelocity(e,t,i){return{x:t/e||0,y:i/e||0}}function getDirection(e,t){return e===t?M:d(e)>=d(t)?e<0?O:I:t<0?R:N}function getDistance(e,t,i){i||(i=j);var n=t[i[0]]-e[i[0]],r=t[i[1]]-e[i[1]];return Math.sqrt(n*n+r*r)}function getAngle(e,t,i){i||(i=j);var n=t[i[0]]-e[i[0]],r=t[i[1]]-e[i[1]];return 180*Math.atan2(r,n)/Math.PI}function getRotation(e,t){return getAngle(t[1],t[0],B)+getAngle(e[1],e[0],B)}function getScale(e,t){return getDistance(t[0],t[1],B)/getDistance(e[0],e[1],B)}function MouseInput(){this.evEl=H,this.evWin=W,this.allow=!0,this.pressed=!1,Input.apply(this,arguments)}function PointerEventInput(){this.evEl=q,this.evWin=Y,Input.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function SingleTouchInput(){this.evTarget=X,this.evWin=Z,this.started=!1,Input.apply(this,arguments)}function normalizeSingleTouches(e,t){var i=toArray(e.touches),n=toArray(e.changedTouches);return t&(A|D)&&(i=uniqueArray(i.concat(n),"identifier",!0)),[i,n]}function TouchInput(){this.evTarget=J,this.targetIds={},Input.apply(this,arguments)}function getTouches(e,t){var i=toArray(e.touches),n=this.targetIds;if(t&(k|T)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,o,s=toArray(e.changedTouches),a=[],l=this.target;if(o=i.filter(function(e){return hasParent(e.target,l)}),t===k)for(r=0;r<o.length;)n[o[r].identifier]=!0,r++;for(r=0;r<s.length;)n[s[r].identifier]&&a.push(s[r]),t&(A|D)&&delete n[s[r].identifier],r++;return a.length?[uniqueArray(o.concat(a),"identifier",!0),a]:void 0}function TouchMouseInput(){Input.apply(this,arguments);var e=bindFn(this.handler,this);this.touch=new TouchInput(this.manager,e),this.mouse=new MouseInput(this.manager,e)}function TouchAction(e,t){this.manager=e,this.set(t)}function cleanTouchActions(e){if(inStr(e,re))return re;var t=inStr(e,oe),i=inStr(e,se);return t&&i?re:t||i?t?oe:se:inStr(e,ne)?ne:ie}function Recognizer(e){this.options=l({},this.defaults,e||{}),this.id=uniqueId(),this.manager=null,this.options.enable=ifUndefined(this.options.enable,!0),this.state=ae,this.simultaneous={},this.requireFail=[]}function stateStr(e){return e&pe?"cancel":e&ce?"end":e&ue?"move":e&le?"start":""}function directionStr(e){return e==N?"down":e==R?"up":e==O?"left":e==I?"right":""}function getRecognizerByNameIfManager(e,t){var i=t.manager;return i?i.get(e):e}function AttrRecognizer(){Recognizer.apply(this,arguments)}function PanRecognizer(){AttrRecognizer.apply(this,arguments),this.pX=null,this.pY=null}function PinchRecognizer(){AttrRecognizer.apply(this,arguments)}function PressRecognizer(){Recognizer.apply(this,arguments),this._timer=null,this._input=null}function RotateRecognizer(){AttrRecognizer.apply(this,arguments)}function SwipeRecognizer(){AttrRecognizer.apply(this,arguments)}function TapRecognizer(){Recognizer.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Hammer(e,t){return t=t||{},t.recognizers=ifUndefined(t.recognizers,Hammer.defaults.preset),new Manager(e,t)}function Manager(e,t){this.options=l({},Hammer.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=createInputInstance(this),this.touchAction=new TouchAction(this,this.options.touchAction),toggleCssProps(this,!0),each(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function toggleCssProps(e,t){var i=e.element;i.style&&each(e.options.cssProps,function(e,n){i.style[prefixed(i.style,n)]=t?e:""})}function triggerDomEvent(e,t){var i=o.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}var l,u=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h="function",p=Math.round,d=Math.abs,f=Date.now;l="function"!=typeof Object.assign?function(e){if(e===a||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==a&&null!==n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}:Object.assign;var m=deprecate(function(e,t,i){for(var n=Object.keys(t),r=0;r<n.length;)(!i||i&&e[n[r]]===a)&&(e[n[r]]=t[n[r]]),r++;return e},"extend","Use `assign`."),y=deprecate(function(e,t){return m(e,t,!0)},"merge","Use `assign`."),v=1,g=/mobile|tablet|ip(ad|hone|od)|android/i,_="ontouchstart"in r,b=prefixed(r,"PointerEvent")!==a,w=_&&g.test(navigator.userAgent),C="touch",x="pen",E="mouse",S="kinect",P=25,k=1,T=2,A=4,D=8,M=1,O=2,I=4,R=8,N=16,L=O|I,V=R|N,F=L|V,j=["x","y"],B=["clientX","clientY"];Input.prototype={handler:function(){},init:function(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)}};var z={mousedown:k,mousemove:T,mouseup:A},H="mousedown",W="mousemove mouseup";inherit(MouseInput,Input,{handler:function(e){var t=z[e.type];t&k&&0===e.button&&(this.pressed=!0),t&T&&1!==e.which&&(t=A),this.pressed&&this.allow&&(t&A&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:E,srcEvent:e}))}});var G={pointerdown:k,pointermove:T,pointerup:A,pointercancel:D,pointerout:D},U={2:C,3:x,4:E,5:S},q="pointerdown",Y="pointermove pointerup pointercancel";r.MSPointerEvent&&!r.PointerEvent&&(q="MSPointerDown",Y="MSPointerMove MSPointerUp MSPointerCancel"),inherit(PointerEventInput,Input,{handler:function(e){var t=this.store,i=!1,n=e.type.toLowerCase().replace("ms",""),r=G[n],o=U[e.pointerType]||e.pointerType,s=o==C,a=inArray(t,e.pointerId,"pointerId");r&k&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):r&(A|D)&&(i=!0),a<0||(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),i&&t.splice(a,1))}});var K={touchstart:k,touchmove:T,touchend:A,touchcancel:D},X="touchstart",Z="touchstart touchmove touchend touchcancel";inherit(SingleTouchInput,Input,{handler:function(e){var t=K[e.type];if(t===k&&(this.started=!0),this.started){var i=normalizeSingleTouches.call(this,e,t);t&(A|D)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:C,srcEvent:e})}}});var Q={touchstart:k,touchmove:T,touchend:A,touchcancel:D},J="touchstart touchmove touchend touchcancel";inherit(TouchInput,Input,{handler:function(e){var t=Q[e.type],i=getTouches.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:C,srcEvent:e})}}),inherit(TouchMouseInput,Input,{handler:function(e,t,i){var n=i.pointerType==C,r=i.pointerType==E;if(n)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;t&(A|D)&&(this.mouse.allow=!0),this.callback(e,t,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var $=prefixed(c.style,"touchAction"),ee=$!==a,te="compute",ie="auto",ne="manipulation",re="none",oe="pan-x",se="pan-y";TouchAction.prototype={set:function(e){e==te&&(e=this.compute()),ee&&this.manager.element.style&&(this.manager.element.style[$]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return each(this.manager.recognizers,function(t){boolOrFn(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),cleanTouchActions(e.join(" "))},preventDefaults:function(e){if(!ee){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var n=this.actions,r=inStr(n,re),o=inStr(n,se),s=inStr(n,oe);if(r){var a=1===e.pointers.length,l=e.distance<2,u=e.deltaTime<250;if(a&&l&&u)return}if(!s||!o)return r||o&&i&L||s&&i&V?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ae=1,le=2,ue=4,ce=8,he=ce,pe=16,de=32;Recognizer.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(invokeArrayArg(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=getRecognizerByNameIfManager(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return invokeArrayArg(e,"dropRecognizeWith",this)?this:(e=getRecognizerByNameIfManager(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(invokeArrayArg(e,"requireFailure",this))return this;var t=this.requireFail;return e=getRecognizerByNameIfManager(e,this),inArray(t,e)===-1&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(invokeArrayArg(e,"dropRequireFailure",this))return this;e=getRecognizerByNameIfManager(e,this);var t=inArray(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function emit(i){t.manager.emit(i,e)}var t=this,i=this.state;i<ce&&emit(t.options.event+stateStr(i)),emit(t.options.event),e.additionalEvent&&emit(e.additionalEvent),i>=ce&&emit(t.options.event+stateStr(i))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=de)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(de|ae)))return!1;e++}return!0},recognize:function(e){var t=l({},e);return boolOrFn(this.options.enable,[this,t])?(this.state&(he|pe|de)&&(this.state=ae),this.state=this.process(t),void(this.state&(le|ue|ce|pe)&&this.tryEmit(t))):(this.reset(),void(this.state=de))},process:function(e){},getTouchAction:function(){},reset:function(){}},inherit(AttrRecognizer,Recognizer,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,n=t&(le|ue),r=this.attrTest(e);return n&&(i&D||!r)?t|pe:n||r?i&A?t|ce:t&le?t|ue:le:de}}),inherit(PanRecognizer,AttrRecognizer,{defaults:{event:"pan",threshold:10,pointers:1,direction:F},getTouchAction:function(){var e=this.options.direction,t=[];return e&L&&t.push(se),e&V&&t.push(oe),t},directionTest:function(e){var t=this.options,i=!0,n=e.distance,r=e.direction,o=e.deltaX,s=e.deltaY;return r&t.direction||(t.direction&L?(r=0===o?M:o<0?O:I,i=o!=this.pX,n=Math.abs(e.deltaX)):(r=0===s?M:s<0?R:N,i=s!=this.pY,n=Math.abs(e.deltaY))),e.direction=r,i&&n>t.threshold&&r&t.direction},attrTest:function(e){return AttrRecognizer.prototype.attrTest.call(this,e)&&(this.state&le||!(this.state&le)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=directionStr(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),inherit(PinchRecognizer,AttrRecognizer,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[re]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&le)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),inherit(PressRecognizer,Recognizer,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ie]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!n||!i||e.eventType&(A|D)&&!r)this.reset();else if(e.eventType&k)this.reset(),this._timer=setTimeoutContext(function(){this.state=he,this.tryEmit()},t.time,this);else if(e.eventType&A)return he;return de},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===he&&(e&&e.eventType&A?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),inherit(RotateRecognizer,AttrRecognizer,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[re]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&le)}}),inherit(SwipeRecognizer,AttrRecognizer,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:L|V,pointers:1},getTouchAction:function(){return PanRecognizer.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return i&(L|V)?t=e.overallVelocity:i&L?t=e.overallVelocityX:i&V&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&d(t)>this.options.velocity&&e.eventType&A},emit:function(e){var t=directionStr(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),inherit(TapRecognizer,Recognizer,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ne]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&k&&0===this.count)return this.failTimeout();if(n&&r&&i){if(e.eventType!=A)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||getDistance(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,s&&o?this.count+=1:this.count=1,this._input=e;var a=this.count%t.taps;if(0===a)return this.hasRequireFailures()?(this._timer=setTimeoutContext(function(){this.state=he,this.tryEmit()},t.interval,this),le):he}return de},failTimeout:function(){return this._timer=setTimeoutContext(function(){this.state=de},this.options.interval,this),de},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==he&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Hammer.VERSION="2.0.6",Hammer.defaults={domEvents:!1,touchAction:te,enable:!0,inputTarget:null,inputClass:null,preset:[[RotateRecognizer,{enable:!1}],[PinchRecognizer,{enable:!1},["rotate"]],[SwipeRecognizer,{direction:L}],[PanRecognizer,{direction:L},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var fe=1,me=2;Manager.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?me:fe},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,n=this.recognizers,r=t.curRecognizer;(!r||r&&r.state&he)&&(r=t.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],t.stopped===me||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(e),!r&&i.state&(le|ue|ce)&&(r=t.curRecognizer=i),o++}},get:function(e){if(e instanceof Recognizer)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(invokeArrayArg(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(invokeArrayArg(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,i=inArray(t,e);i!==-1&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){var i=this.handlers;return each(splitStr(e),function(e){i[e]=i[e]||[],i[e].push(t)}),this},off:function(e,t){var i=this.handlers;return each(splitStr(e),function(e){t?i[e]&&i[e].splice(inArray(i[e],t),1):delete i[e]}),this},emit:function(e,t){this.options.domEvents&&triggerDomEvent(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](t),n++}},destroy:function(){this.element&&toggleCssProps(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Hammer,{INPUT_START:k,INPUT_MOVE:T,INPUT_END:A,INPUT_CANCEL:D,STATE_POSSIBLE:ae,STATE_BEGAN:le,STATE_CHANGED:ue,STATE_ENDED:ce,STATE_RECOGNIZED:he,STATE_CANCELLED:pe,STATE_FAILED:de,DIRECTION_NONE:M,DIRECTION_LEFT:O,DIRECTION_RIGHT:I,DIRECTION_UP:R,DIRECTION_DOWN:N,DIRECTION_HORIZONTAL:L,DIRECTION_VERTICAL:V,DIRECTION_ALL:F,Manager:Manager,Input:Input,TouchAction:TouchAction,TouchInput:TouchInput,MouseInput:MouseInput,PointerEventInput:PointerEventInput,TouchMouseInput:TouchMouseInput,SingleTouchInput:SingleTouchInput,Recognizer:Recognizer,AttrRecognizer:AttrRecognizer,Tap:TapRecognizer,Pan:PanRecognizer,Swipe:SwipeRecognizer,Pinch:PinchRecognizer,Rotate:RotateRecognizer,Press:PressRecognizer,on:addEventListeners,off:removeEventListeners,each:each,merge:y,extend:m,assign:l,inherit:inherit,bindFn:bindFn,prefixed:prefixed});var ye="undefined"!=typeof r?r:"undefined"!=typeof self?self:{};ye.Hammer=Hammer,n=function(){return Hammer}.call(t,i,t,e),!(n!==a&&(e.exports=n))}(window,document,"Hammer")},function(e,t,i){var n,r,o;!function(i,s){r=[],n=s,o="function"==typeof n?n.apply(t,r):n,!(void 0!==o&&(e.exports=o))}(this,function(){function keycharm(e){var t,i=e&&e.preventDefault||!1,n=e&&e.container||window,r={},o={keydown:{},keyup:{}},s={};for(t=97;t<=122;t++)s[String.fromCharCode(t)]={code:65+(t-97),shift:!1};for(t=65;t<=90;t++)s[String.fromCharCode(t)]={code:t,shift:!0};for(t=0;t<=9;t++)s[""+t]={code:48+t,shift:!1};for(t=1;t<=12;t++)s["F"+t]={code:111+t,shift:!1};for(t=0;t<=9;t++)s["num"+t]={code:96+t,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(e){u(e,"keydown")},l=function(e){u(e,"keyup")},u=function(e,t){if(void 0!==o[t][e.keyCode]){for(var n=o[t][e.keyCode],r=0;r<n.length;r++)void 0===n[r].shift?n[r].fn(e):1==n[r].shift&&1==e.shiftKey?n[r].fn(e):0==n[r].shift&&0==e.shiftKey&&n[r].fn(e);1==i&&e.preventDefault()}};return r.bind=function(e,t,i){if(void 0===i&&(i="keydown"),void 0===s[e])throw new Error("unsupported key: "+e);void 0===o[i][s[e].code]&&(o[i][s[e].code]=[]),o[i][s[e].code].push({fn:t,shift:s[e].shift})},r.bindAll=function(e,t){void 0===t&&(t="keydown");for(var i in s)s.hasOwnProperty(i)&&r.bind(i,e,t)},r.getKey=function(e){for(var t in s)if(s.hasOwnProperty(t)){if(1==e.shiftKey&&1==s[t].shift&&e.keyCode==s[t].code)return t;if(0==e.shiftKey&&0==s[t].shift&&e.keyCode==s[t].code)return t;if(e.keyCode==s[t].code&&"shift"==t)return t}return"unknown key, currently not supported"},r.unbind=function(e,t,i){if(void 0===i&&(i="keydown"),void 0===s[e])throw new Error("unsupported key: "+e);if(void 0!==t){var n=[],r=o[i][s[e].code];if(void 0!==r)for(var a=0;a<r.length;a++)r[a].fn==t&&r[a].shift==s[e].shift||n.push(o[i][s[e].code][a]);o[i][s[e].code]=n}else o[i][s[e].code]=[]},r.reset=function(){o={keydown:{},keyup:{}}},r.destroy=function(){o={keydown:{},keyup:{}},n.removeEventListener("keydown",a,!0),n.removeEventListener("keyup",l,!0)},n.addEventListener("keydown",a,!0),n.addEventListener("keyup",l,!0),r}return keycharm})},function(e,t,i){t.util=i(1),t.DOMutil=i(8),t.DataSet=i(9),t.DataView=i(11),t.Queue=i(10),t.Timeline=i(25),t.Graph2d=i(50),t.timeline={Core:i(33),DateUtil:i(32),Range:i(30),stack:i(37),TimeStep:i(35),components:{items:{Item:i(39),BackgroundItem:i(43),BoxItem:i(41),PointItem:i(42),RangeItem:i(38)},BackgroundGroup:i(40),Component:i(31),CurrentTime:i(48),CustomTime:i(46),DataAxis:i(52),DataScale:i(53),GraphGroup:i(54),Group:i(36),ItemSet:i(34),Legend:i(58),LineGraph:i(51),TimeAxis:i(44)}},t.moment=i(2),t.Hammer=i(20),t.keycharm=i(23)},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function Timeline(e,t,i,n){if(!(this instanceof Timeline))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof u||i instanceof c)&&i instanceof Object){var r=n;n=i,i=r}var o=this;this.defaultOptions={start:null,end:null,autoResize:!0,throttleRedraw:0,orientation:{axis:"bottom",item:"bottom"},rtl:!1,moment:a,width:null,height:null,maxHeight:null,minHeight:null},this.options=l.deepExtend({},this.defaultOptions),this._create(e),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return o.timeAxis.step.scale},getStep:function(){return o.timeAxis.step.step},toScreen:o._toScreen.bind(o),toGlobalScreen:o._toGlobalScreen.bind(o),toTime:o._toTime.bind(o),toGlobalTime:o._toGlobalTime.bind(o)}},this.range=new h(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new d(this.body),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new f(this.body),this.components.push(this.currentTime),this.itemSet=new y(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.on("tap",function(e){o.emit("click",o.getEventProperties(e))}),this.on("doubletap",function(e){o.emit("doubleClick",o.getEventProperties(e))}),this.dom.root.oncontextmenu=function(e){o.emit("contextmenu",o.getEventProperties(e))},this.fitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!o.fitDone)if(o.fitDone=!0,void 0!=o.options.start||void 0!=o.options.end){if(void 0==o.options.start||void 0==o.options.end)var e=o.getItemRange();var t=void 0!=o.options.start?o.options.start:e.min,i=void 0!=o.options.end?o.options.end:e.max;o.setWindow(t,i,{animation:!1})}else o.fit({animation:!1})}),n&&this.setOptions(n),i&&this.setGroups(i),t&&this.setItems(t),this._redraw()}var n=i(26),r=_interopRequireDefault(n),o=i(29),s=_interopRequireDefault(o),a=(i(13),i(20),i(2)),l=i(1),u=i(9),c=i(11),h=i(30),p=i(33),d=i(44),f=i(48),m=i(46),y=i(34),v=i(29).printStyle,g=i(49).allOptions,_=i(49).configureOptions;Timeline.prototype=new p,Timeline.prototype._createConfigurator=function(){return new r.default(this,this.dom.container,_)},Timeline.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},Timeline.prototype.setOptions=function(e){var t=s.default.validate(e,g);if(t===!0&&console.log("%cErrors have been found in the supplied options object.",v),p.prototype.setOptions.call(this,e),"type"in e&&e.type!==this.options.type){this.options.type=e.type;var i=this.itemsData;if(i){var n=this.getSelection();this.setItems(null),this.setItems(i),this.setSelection(n)}}},Timeline.prototype.setItems=function(e){var t;t=e?e instanceof u||e instanceof c?e:new u(e,{type:{start:"Date",end:"Date"}}):null,this.itemsData=t,this.itemSet&&this.itemSet.setItems(t)},Timeline.prototype.setGroups=function(e){var t;t=e?e instanceof u||e instanceof c?e:new u(e):null,this.groupsData=t,this.itemSet.setGroups(t)},Timeline.prototype.setData=function(e){e&&e.groups&&this.setGroups(e.groups),e&&e.items&&this.setItems(e.items)},Timeline.prototype.setSelection=function(e,t){this.itemSet&&this.itemSet.setSelection(e),t&&t.focus&&this.focus(e,t)},Timeline.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},Timeline.prototype.focus=function(e,t){if(this.itemsData&&void 0!=e){var i=Array.isArray(e)?e:[e],n=this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}),r=null,o=null;if(n.forEach(function(e){var t=e.start.valueOf(),i="end"in e?e.end.valueOf():e.start.valueOf();(null===r||t<r)&&(r=t),(null===o||i>o)&&(o=i)}),null!==r&&null!==o){var s=(r+o)/2,a=Math.max(this.range.end-this.range.start,1.1*(o-r)),l=!t||void 0===t.animation||t.animation;this.range.setRange(s-a/2,s+a/2,l)}}},Timeline.prototype.fit=function(e){var t,i=!e||void 0===e.animation||e.animation,n=this.itemsData&&this.itemsData.getDataSet();1===n.length&&void 0===n.get()[0].end?(t=this.getDataRange(),this.moveTo(t.min.valueOf(),{animation:i})):(t=this.getItemRange(),this.range.setRange(t.min,t.max,i))},Timeline.prototype.getItemRange=function(){var e=this,t=this.getDataRange(),i=null!==t.min?t.min.valueOf():null,n=null!==t.max?t.max.valueOf():null,r=null,o=null;if(null!=i&&null!=n){var s,a,u,c,h;!function(){var t=function(e){return l.convert(e.data.start,"Date").valueOf()},p=function(e){var t=void 0!=e.data.end?e.data.end:e.data.start;return l.convert(t,"Date").valueOf()};s=n-i,s<=0&&(s=10),a=s/e.props.center.width,l.forEach(e.itemSet.items,function(e){e.show(),e.repositionX();var s=t(e),l=p(e);if(this.options.rtl)var u=s-(e.getWidthRight()+10)*a,c=l+(e.getWidthLeft()+10)*a;else var u=s-(e.getWidthLeft()+10)*a,c=l+(e.getWidthRight()+10)*a;u<i&&(i=u,r=e),c>n&&(n=c,o=e)}.bind(e)),r&&o&&(u=r.getWidthLeft()+10,c=o.getWidthRight()+10,h=e.props.center.width-u-c,h>0&&(e.options.rtl?(i=t(r)-c*s/h,n=p(o)+u*s/h):(i=t(r)-u*s/h,n=p(o)+c*s/h)))}()}return{min:null!=i?new Date(i):null,max:null!=n?new Date(n):null}},Timeline.prototype.getDataRange=function(){var e=null,t=null,i=this.itemsData&&this.itemsData.getDataSet();return i&&i.forEach(function(i){var n=l.convert(i.start,"Date").valueOf(),r=l.convert(void 0!=i.end?i.end:i.start,"Date").valueOf();(null===e||n<e)&&(e=n),(null===t||r>t)&&(t=r)}),{min:null!=e?new Date(e):null,max:null!=t?new Date(t):null}},Timeline.prototype.getEventProperties=function(e){var t=e.center?e.center.x:e.clientX,i=e.center?e.center.y:e.clientY;if(this.options.rtl)var n=l.getAbsoluteRight(this.dom.centerContainer)-t;else var n=t-l.getAbsoluteLeft(this.dom.centerContainer);var r=i-l.getAbsoluteTop(this.dom.centerContainer),o=this.itemSet.itemFromTarget(e),s=this.itemSet.groupFromTarget(e),a=m.customTimeFromTarget(e),u=this.itemSet.options.snap||null,c=this.body.util.getScale(),h=this.body.util.getStep(),p=this._toTime(n),d=u?u(p,c,h):p,f=l.getTarget(e),y=null;return null!=o?y="item":null!=a?y="custom-time":l.hasParent(f,this.timeAxis.dom.foreground)?y="axis":this.timeAxis2&&l.hasParent(f,this.timeAxis2.dom.foreground)?y="axis":l.hasParent(f,this.itemSet.dom.labelSet)?y="group-label":l.hasParent(f,this.currentTime.bar)?y="current-time":l.hasParent(f,this.dom.center)&&(y="background"),{event:e,item:o?o.id:null,group:s?s.groupId:null,what:y,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:n,y:r,time:p,snappedTime:d}},e.exports=Timeline},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),o=i(27),s=_interopRequireDefault(o),a=i(1),l=function(){function Configurator(e,t,i){var n=arguments.length<=3||void 0===arguments[3]?1:arguments[3];_classCallCheck(this,Configurator),this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},a.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new s.default(n),this.wrapper=void 0}return r(Configurator,[{key:"setOptions",value:function(e){if(void 0!==e){this.popupHistory={},this._removePopup();var t=!0;"string"==typeof e?this.options.filter=e:e instanceof Array?this.options.filter=e.join():"object"===("undefined"==typeof e?"undefined":n(e))?(void 0!==e.container&&(this.options.container=e.container),void 0!==e.filter&&(this.options.filter=e.filter),void 0!==e.showButton&&(this.options.showButton=e.showButton),void 0!==e.enabled&&(t=e.enabled)):"boolean"==typeof e?(this.options.filter=!0,t=e):"function"==typeof e&&(this.options.filter=e,t=!0),this.options.filter===!1&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var e=this;this._clean(),this.changedOptions=[];var t=this.options.filter,i=0,n=!1;for(var r in this.configureOptions)this.configureOptions.hasOwnProperty(r)&&(this.allowCreation=!1,n=!1,"function"==typeof t?(n=t(r,[]),n=n||this._handleObject(this.configureOptions[r],[r],!0)):t!==!0&&t.indexOf(r)===-1||(n=!0),n!==!1&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),i++);this.options.showButton===!0&&!function(){var t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerHTML="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},e.optionsContainer=document.createElement("div"),e.optionsContainer.className="vis-configuration vis-config-option-container",e.domElements.push(e.optionsContainer),e.domElements.push(t)}(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,i=0;i<e.length;i++){if(void 0===t[e[i]]){t=void 0;break}t=t[e[i]]}return t}},{key:"_makeItem",value:function(e){var t=arguments,i=this;if(this.allowCreation===!0){var r,o,s,a=function(){var n=document.createElement("div");
for(n.className="vis-configuration vis-config-item vis-config-s"+e.length,r=t.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=t[s];return o.forEach(function(e){n.appendChild(e)}),i.domElements.push(n),{v:i.domElements.length}}();if("object"===("undefined"==typeof a?"undefined":n(a)))return a.v}return 0}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerHTML=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+t.length,i===!0?n.innerHTML="<i><b>"+e+":</b></i>":n.innerHTML=e+":",n}},{key:"_makeDropdown",value:function(e,t,i){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var r=0;void 0!==t&&e.indexOf(t)!==-1&&(r=e.indexOf(t));for(var o=0;o<e.length;o++){var s=document.createElement("option");s.value=e[o],o===r&&(s.selected="selected"),s.innerHTML=e[o],n.appendChild(s)}var a=this;n.onchange=function(){a._update(this.value,i)};var l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,n)}},{key:"_makeRange",value:function(e,t,i){var n=e[0],r=e[1],o=e[2],s=e[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=r,a.max=o}catch(l){}a.step=s;var u="",c=0;if(void 0!==t){var h=1.2;t<0&&t*h<r?(a.min=Math.ceil(t*h),c=a.min,u="range increased"):t/h<r&&(a.min=Math.ceil(t/h),c=a.min,u="range increased"),t*h>o&&1!==o&&(a.max=Math.ceil(t*h),c=a.max,u="range increased"),a.value=t}else a.value=n;var p=document.createElement("input");p.className="vis-configuration vis-config-rangeinput",p.value=a.value;var d=this;a.onchange=function(){p.value=this.value,d._update(Number(this.value),i)},a.oninput=function(){p.value=this.value};var f=this._makeLabel(i[i.length-1],i),m=this._makeItem(i,f,a,p);""!==u&&this.popupHistory[m]!==c&&(this.popupHistory[m]=c,this._setupPopup(u,m))}},{key:"_setupPopup",value:function(e,t){var i=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerHTML=e,n.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:t}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(void 0!==this.popupDiv.html){var t=this.domElements[this.popupDiv.index],i=t.getBoundingClientRect();this.popupDiv.html.style.left=i.left+"px",this.popupDiv.html.style.top=i.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,t,i){var r=document.createElement("input");r.type="checkbox",r.className="vis-configuration vis-config-checkbox",r.checked=e,void 0!==t&&(r.checked=t,t!==e&&("object"===("undefined"==typeof e?"undefined":n(e))?t!==e.enabled&&this.changedOptions.push({path:i,value:t}):this.changedOptions.push({path:i,value:t})));var o=this;r.onchange=function(){o._update(this.checked,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,r)}},{key:"_makeTextInput",value:function(e,t,i){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:i,value:t});var r=this;n.onchange=function(){r._update(this.value,i)};var o=this._makeLabel(i[i.length-1],i);this._makeItem(i,o,n)}},{key:"_makeColorField",value:function(e,t,i){var n=this,r=e[1],o=document.createElement("div");t=void 0===t?r:t,"none"!==t?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=t):o.className="vis-configuration vis-config-colorBlock none",t=void 0===t?r:t,o.onclick=function(){n._showColorPicker(t,o,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,o)}},{key:"_showColorPicker",value:function(e,t,i){var n=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(e){var r="rgba("+e.r+","+e.g+","+e.b+","+e.a+")";t.style.backgroundColor=r,n._update(r,i)}),this.colorPicker.setCloseCallback(function(){t.onclick=function(){n._showColorPicker(e,t,i)}})}},{key:"_handleObject",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n=!1,r=this.options.filter,o=!1;for(var s in e)if(e.hasOwnProperty(s)){n=!0;var l=e[s],u=a.copyAndExtendArray(t,s);if("function"==typeof r&&(n=r(s,t),n===!1&&!(l instanceof Array)&&"string"!=typeof l&&"boolean"!=typeof l&&l instanceof Object&&(this.allowCreation=!1,n=this._handleObject(l,u,!0),this.allowCreation=i===!1)),n!==!1){o=!0;var c=this._getValue(u);if(l instanceof Array)this._handleArray(l,c,u);else if("string"==typeof l)this._makeTextInput(l,c,u);else if("boolean"==typeof l)this._makeCheckbox(l,c,u);else if(l instanceof Object){var h=!0;if(t.indexOf("physics")!==-1&&this.moduleOptions.physics.solver!==s&&(h=!1),h===!0)if(void 0!==l.enabled){var p=a.copyAndExtendArray(u,"enabled"),d=this._getValue(p);if(d===!0){var f=this._makeLabel(s,u,!0);this._makeItem(u,f),o=this._handleObject(l,u)||o}else this._makeCheckbox(l,d,u)}else{var m=this._makeLabel(s,u,!0);this._makeItem(u,m),o=this._handleObject(l,u)||o}}else console.error("dont know how to handle",l,s,u)}}return o}},{key:"_handleArray",value:function(e,t,i){"string"==typeof e[0]&&"color"===e[0]?(this._makeColorField(e,t,i),e[1]!==t&&this.changedOptions.push({path:i,value:t})):"string"==typeof e[0]?(this._makeDropdown(e,t,i),e[0]!==t&&this.changedOptions.push({path:i,value:t})):"number"==typeof e[0]&&(this._makeRange(e,t,i),e[0]!==t&&this.changedOptions.push({path:i,value:Number(t)}))}},{key:"_update",value:function(e,t){var i=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=i;e="true"===e||e,e="false"!==e&&e;for(var r=0;r<t.length;r++)"global"!==t[r]&&(void 0===n[t[r]]&&(n[t[r]]={}),r!==t.length-1?n=n[t[r]]:n[t[r]]=e);return i}},{key:"_printOptions",value:function(){var e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(e,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),Configurator}();t.default=l},function(e,t,i){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(20),o=i(28),s=i(1),a=function(){function ColorPicker(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];_classCallCheck(this,ColorPicker),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return n(ColorPicker,[{key:"insertTo",value:function(e){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){var t={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};if("string"==typeof e)return t[e]}},{key:"setColor",value:function(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];if("none"!==e){var i=void 0,n=this._isColorString(e);if(void 0!==n&&(e=n),s.isString(e)===!0){if(s.isValidRGB(e)===!0){var r=e.substr(4).substr(0,e.length-5).split(",");i={r:r[0],g:r[1],b:r[2],a:1}}else if(s.isValidRGBA(e)===!0){var o=e.substr(5).substr(0,e.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(s.isValidHex(e)===!0){var a=s.hexToRGB(e);i={r:a.r,g:a.g,b:a.b,a:1}}}else if(e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b){var l=void 0!==e.a?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:l}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(i,t)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];t===!0&&(this.previousColor=s.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==e.closeCallback&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];t===!0&&(this.initialColor=s.extend({},e)),this.color=e;var i=s.RGBToHSV(e.r,e.g,e.b),n=2*Math.PI,r=this.r*i.s,o=this.centerCoordinates.x+r*Math.sin(n*i.h),a=this.centerCoordinates.y+r*Math.cos(n*i.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=s.RGBToHSV(this.color.r,this.color.g,this.color.b);t.v=e/100;var i=s.HSVToRGB(t.h,t.s,t.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.color:arguments[0],t=s.RGBToHSV(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,r),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-t.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var e=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(i){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(i){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var n=this;this.opacityRange.onchange=function(){n._setOpacity(this.value)},this.opacityRange.oninput=function(){n._setOpacity(this.value)},this.brightnessRange.onchange=function(){n._setBrightness(this.value)},this.brightnessRange.oninput=function(){n._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new r(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),o.onTouch(this.hammer,function(t){e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,i);var n=void 0,r=void 0,o=void 0,a=void 0;this.centerCoordinates={x:.5*t,y:.5*i},this.r=.49*t;var l=2*Math.PI/360,u=1/360,c=1/this.r,h=void 0;for(o=0;o<360;o++)for(a=0;a<this.r;a++)n=this.centerCoordinates.x+a*Math.sin(l*o),r=this.centerCoordinates.y+a*Math.cos(l*o),h=s.HSVToRGB(o*u,a*c,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(n-.5,r-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,i)}this.generated=!0}},{key:"_moveSelector",value:function(e){var t=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-t.left,n=e.center.y-t.top,r=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=i-o,l=n-r,u=Math.atan2(a,l),c=.98*Math.min(Math.sqrt(a*a+l*l),o),h=Math.cos(u)*c+r,p=Math.sin(u)*c+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=p-.5*this.colorPickerSelector.clientWidth+"px";var d=u/(2*Math.PI);d=d<0?d+1:d;var f=c/this.r,m=s.RGBToHSV(this.color.r,this.color.g,this.color.b);m.h=d,m.s=f;var y=s.HSVToRGB(m.h,m.s,m.v);y.a=this.color.a,this.color=y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),ColorPicker}();t.default=a},function(e,t,i){i(20);t.onTouch=function(e,t){t.inputHandler=function(e){e.isFirst&&t(e)},e.on("hammer.input",t.inputHandler)},t.onRelease=function(e,t){return t.inputHandler=function(e){e.isFinal&&t(e)},e.on("hammer.input",t.inputHandler)},t.offTouch=function(e,t){e.off("hammer.input",t.inputHandler)},t.offRelease=t.offTouch,t.disablePreventDefaultVertically=function(e){var t="pan-y";return e.getTouchAction=function(){return[t]},e}},function(e,t,i){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),o=i(1),s=!1,a=void 0,l="background: #FFeeee; color: #dd0000",u=function(){function Validator(){_classCallCheck(this,Validator)}return r(Validator,null,[{key:"validate",value:function(e,t,i){s=!1,a=t;var n=t;return void 0!==i&&(n=t[i]),Validator.parse(e,n,[]),s}},{key:"parse",value:function(e,t,i){for(var n in e)e.hasOwnProperty(n)&&Validator.check(n,e,t,i)}},{key:"check",value:function(e,t,i,n){void 0===i[e]&&void 0===i.__any__?Validator.getSuggestion(e,i,n):void 0===i[e]&&void 0!==i.__any__?"object"===Validator.getType(t[e])&&void 0!==i.__any__.__type__?Validator.checkFields(e,t,i,"__any__",i.__any__.__type__,n):Validator.checkFields(e,t,i,"__any__",i.__any__,n):void 0!==i[e].__type__?Validator.checkFields(e,t,i,e,i[e].__type__,n):Validator.checkFields(e,t,i,e,i[e],n)}},{key:"checkFields",value:function(e,t,i,n,r,a){var u=Validator.getType(t[e]),c=r[u];void 0!==c?"array"===Validator.getType(c)&&c.indexOf(t[e])===-1?(console.log('%cInvalid option detected in "'+e+'". Allowed values are:'+Validator.print(c)+' not "'+t[e]+'". '+Validator.printLocation(a,e),l),s=!0):"object"===u&&"__any__"!==n&&(a=o.copyAndExtendArray(a,e),Validator.parse(t[e],i[n],a)):void 0===r.any&&(console.log('%cInvalid type received for "'+e+'". Expected: '+Validator.print(Object.keys(r))+". Received ["+u+'] "'+t[e]+'"'+Validator.printLocation(a,e),l),s=!0)}},{key:"getType",value:function(e){var t="undefined"==typeof e?"undefined":n(e);return"object"===t?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":void 0!==e.nodeType?"dom":e._isAMomentObject===!0?"moment":"object":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":void 0===t?"undefined":t}},{key:"getSuggestion",value:function(e,t,i){var n=Validator.findInOptions(e,t,i,!1),r=Validator.findInOptions(e,a,[],!0),o=8,u=4;void 0!==n.indexMatch?console.log('%cUnknown option detected: "'+e+'" in '+Validator.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+'"?\n\n',l):r.distance<=u&&n.distance>r.distance?console.log('%cUnknown option detected: "'+e+'" in '+Validator.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Validator.printLocation(r.path,r.closestMatch,""),l):n.distance<=o?console.log('%cUnknown option detected: "'+e+'". Did you mean "'+n.closestMatch+'"?'+Validator.printLocation(n.path,e),l):console.log('%cUnknown option detected: "'+e+'". Did you mean one of these: '+Validator.print(Object.keys(t))+Validator.printLocation(i,e),l),s=!0}},{key:"findInOptions",value:function(e,t,i){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],r=1e9,s="",a=[],l=e.toLowerCase(),u=void 0;for(var c in t){var h=void 0;if(void 0!==t[c].__type__&&n===!0){var p=Validator.findInOptions(e,t[c],o.copyAndExtendArray(i,c));r>p.distance&&(s=p.closestMatch,a=p.path,r=p.distance,u=p.indexMatch)}else c.toLowerCase().indexOf(l)!==-1&&(u=c),h=Validator.levenshteinDistance(e,c),r>h&&(s=c,a=o.copyArray(i),r=h)}return{closestMatch:s,path:a,distance:r,indexMatch:u}}},{key:"printLocation",value:function(e,t){for(var i=arguments.length<=2||void 0===arguments[2]?"Problem value found at: \n":arguments[2],n="\n\n"+i+"options = {\n",r=0;r<e.length;r++){for(var o=0;o<r+1;o++)n+="  ";n+=e[r]+": {\n"}for(var s=0;s<e.length+1;s++)n+="  ";n+=t+"\n";for(var a=0;a<e.length+1;a++){for(var l=0;l<e.length-a;l++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function(e){return JSON.stringify(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var i,n=[];for(i=0;i<=t.length;i++)n[i]=[i];var r;for(r=0;r<=e.length;r++)n[0][r]=r;for(i=1;i<=t.length;i++)for(r=1;r<=e.length;r++)t.charAt(i-1)==e.charAt(r-1)?n[i][r]=n[i-1][r-1]:n[i][r]=Math.min(n[i-1][r-1]+1,Math.min(n[i][r-1]+1,n[i-1][r]+1));return n[t.length][e.length]}}]),Validator}();t.default=u,t.printStyle=l},function(e,t,i){function Range(e,t){var i=o().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=i.clone().add(-3,"days").valueOf(),this.end=i.clone().add(4,"days").valueOf(),this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:o,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10},this.options=r.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.setOptions(t)}function validateDirection(e){if("horizontal"!=e&&"vertical"!=e)throw new TypeError('Unknown direction "'+e+'". Choose "horizontal" or "vertical".')}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=i(1),o=(i(28),i(2)),s=i(31),a=i(32);Range.prototype=new s,Range.prototype.setOptions=function(e){if(e){var t=["direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl"];r.selectiveExtend(t,this.options,e),("start"in e||"end"in e)&&this.setRange(e.start,e.end)}},Range.prototype.setRange=function(e,t,i,o){o!==!0&&(o=!1);var s=void 0!=e?r.convert(e,"Date").valueOf():null,l=void 0!=t?r.convert(t,"Date").valueOf():null;if(this._cancelAnimation(),i){var u=this,c=this.start,h=this.end,p="object"===("undefined"==typeof i?"undefined":n(i))&&"duration"in i?i.duration:500,d="object"===("undefined"==typeof i?"undefined":n(i))&&"easingFunction"in i?i.easingFunction:"easeInOutQuad",f=r.easingFunctions[d];if(!f)throw new Error("Unknown easing function "+JSON.stringify(d)+". Choose from: "+Object.keys(r.easingFunctions).join(", "));var m=(new Date).valueOf(),y=!1,v=function next(){if(!u.props.touch.dragging){var e=(new Date).valueOf(),t=e-m,i=f(t/p),n=t>p,r=n||null===s?s:c+(s-c)*i,d=n||null===l?l:h+(l-h)*i;g=u._applyRange(r,d),a.updateHiddenDates(u.options.moment,u.body,u.options.hiddenDates),y=y||g,g&&u.body.emitter.emit("rangechange",{start:new Date(u.start),end:new Date(u.end),byUser:o}),n?y&&u.body.emitter.emit("rangechanged",{start:new Date(u.start),end:new Date(u.end),byUser:o}):u.animationTimer=setTimeout(next,20)}};return v()}var g=this._applyRange(s,l);if(a.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),g){var _={start:new Date(this.start),end:new Date(this.end),byUser:o};this.body.emitter.emit("rangechange",_),this.body.emitter.emit("rangechanged",_)}},Range.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},Range.prototype._applyRange=function(e,t){var i,n=null!=e?r.convert(e,"Date").valueOf():this.start,o=null!=t?r.convert(t,"Date").valueOf():this.end,s=null!=this.options.max?r.convert(this.options.max,"Date").valueOf():null,a=null!=this.options.min?r.convert(this.options.min,"Date").valueOf():null;if(isNaN(n)||null===n)throw new Error('Invalid start "'+e+'"');if(isNaN(o)||null===o)throw new Error('Invalid end "'+t+'"');if(o<n&&(o=n),null!==a&&n<a&&(i=a-n,n+=i,o+=i,null!=s&&o>s&&(o=s)),null!==s&&o>s&&(i=o-s,n-=i,o-=i,null!=a&&n<a&&(n=a)),null!==this.options.zoomMin){var l=parseFloat(this.options.zoomMin);l<0&&(l=0),o-n<l&&(this.end-this.start===l&&n>this.start&&o<this.end?(n=this.start,o=this.end):(i=l-(o-n),n-=i/2,o+=i/2))}if(null!==this.options.zoomMax){var u=parseFloat(this.options.zoomMax);u<0&&(u=0),o-n>u&&(this.end-this.start===u&&n<this.start&&o>this.end?(n=this.start,o=this.end):(i=o-n-u,n+=i/2,o-=i/2))}var c=this.start!=n||this.end!=o;return n>=this.start&&n<=this.end||o>=this.start&&o<=this.end||this.start>=n&&this.start<=o||this.end>=n&&this.end<=o||this.body.emitter.emit("checkRangedItems"),this.start=n,this.end=o,c},Range.prototype.getRange=function(){return{start:this.start,end:this.end}},Range.prototype.conversion=function(e,t){return Range.conversion(this.start,this.end,e,t)},Range.conversion=function(e,t,i,n){return void 0===n&&(n=0),0!=i&&t-e!=0?{offset:e,scale:i/(t-e-n)}:{offset:0,scale:1}},Range.prototype._onDragStart=function(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(e)&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},Range.prototype._onDrag=function(e){if(this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var t=this.options.direction;validateDirection(t);var i="horizontal"==t?e.deltaX:e.deltaY;i-=this.deltaDifference;var n=this.props.touch.end-this.props.touch.start,r=a.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);n-=r;var o="horizontal"==t?this.body.domProps.center.width:this.body.domProps.center.height;if(this.options.rtl)var s=i/o*n;else var s=-i/o*n;var l=this.props.touch.start+s,u=this.props.touch.end+s,c=a.snapAwayFromHidden(this.body.hiddenDates,l,this.previousDelta-i,!0),h=a.snapAwayFromHidden(this.body.hiddenDates,u,this.previousDelta-i,!0);
if(c!=l||h!=u)return this.deltaDifference+=i,this.props.touch.start=c,this.props.touch.end=h,void this._onDrag(e);this.previousDelta=i,this._applyRange(l,u);var p=new Date(this.start),d=new Date(this.end);this.body.emitter.emit("rangechange",{start:p,end:d,byUser:!0})}},Range.prototype._onDragEnd=function(e){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0}))},Range.prototype._onMouseWheel=function(e){if(this.options.zoomable&&this.options.moveable&&this._isInsideRange(e)&&(!this.options.zoomKey||e[this.options.zoomKey])){var t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t){var i;i=t<0?1-t/5:1/(1+t/5);var n=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center),r=this._pointerToDate(n);this.zoom(i,r,t)}e.preventDefault()}},Range.prototype._onTouch=function(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0},Range.prototype._onPinch=function(e){if(this.options.zoomable&&this.options.moveable){this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(e.center,this.body.dom.center));var t=1/(e.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),n=a.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),r=a.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i),o=n-r,s=i-r+(this.props.touch.start-(i-r))*t,l=i+o+(this.props.touch.end-(i+o))*t;this.startToFront=1-t<=0,this.endToFront=t-1<=0;var u=a.snapAwayFromHidden(this.body.hiddenDates,s,1-t,!0),c=a.snapAwayFromHidden(this.body.hiddenDates,l,t-1,!0);u==s&&c==l||(this.props.touch.start=u,this.props.touch.end=c,this.scaleOffset=1-e.scale,s=u,l=c),this.setRange(s,l,!1,!0),this.startToFront=!1,this.endToFront=!0}},Range.prototype._isInsideRange=function(e){var t=e.center?e.center.x:e.clientX;if(this.options.rtl)var i=t-r.getAbsoluteLeft(this.body.dom.centerContainer);else var i=r.getAbsoluteRight(this.body.dom.centerContainer)-t;var n=this.body.util.toTime(i);return n>=this.start&&n<=this.end},Range.prototype._pointerToDate=function(e){var t,i=this.options.direction;if(validateDirection(i),"horizontal"==i)return this.body.util.toTime(e.x).valueOf();var n=this.body.domProps.center.height;return t=this.conversion(n),e.y/t.scale+t.offset},Range.prototype.getPointer=function(e,t){return this.options.rtl?{x:r.getAbsoluteRight(t)-e.x,y:e.y-r.getAbsoluteTop(t)}:{x:e.x-r.getAbsoluteLeft(t),y:e.y-r.getAbsoluteTop(t)}},Range.prototype.zoom=function(e,t,i){null==t&&(t=(this.start+this.end)/2);var n=a.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),r=a.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,t),o=n-r,s=t-r+(this.start-(t-r))*e,l=t+o+(this.end-(t+o))*e;this.startToFront=!(i>0),this.endToFront=!(-i>0);var u=a.snapAwayFromHidden(this.body.hiddenDates,s,i,!0),c=a.snapAwayFromHidden(this.body.hiddenDates,l,-i,!0);u==s&&c==l||(s=u,l=c),this.setRange(s,l,!1,!0),this.startToFront=!1,this.endToFront=!0},Range.prototype.move=function(e){var t=this.end-this.start,i=this.start+t*e,n=this.end+t*e;this.start=i,this.end=n},Range.prototype.moveTo=function(e){var t=(this.start+this.end)/2,i=t-e,n=this.start-i,r=this.end-i;this.setRange(n,r)},e.exports=Range},function(e,t){function Component(e,t){this.options=null,this.props=null}Component.prototype.setOptions=function(e){e&&util.extend(this.options,e)},Component.prototype.redraw=function(){return!1},Component.prototype.destroy=function(){},Component.prototype._isResized=function(){var e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e},e.exports=Component},function(e,t){t.convertHiddenOptions=function(e,i,n){if(n&&!Array.isArray(n))return t.convertHiddenOptions(e,i,[n]);if(i.hiddenDates=[],n&&1==Array.isArray(n)){for(var r=0;r<n.length;r++)if(void 0===n[r].repeat){var o={};o.start=e(n[r].start).toDate().valueOf(),o.end=e(n[r].end).toDate().valueOf(),i.hiddenDates.push(o)}i.hiddenDates.sort(function(e,t){return e.start-t.start})}},t.updateHiddenDates=function(e,i,n){if(n&&!Array.isArray(n))return t.updateHiddenDates(e,i,[n]);if(n&&void 0!==i.domProps.centerContainer.width){t.convertHiddenOptions(e,i,n);for(var r=e(i.range.start),o=e(i.range.end),s=i.range.end-i.range.start,a=s/i.domProps.centerContainer.width,l=0;l<n.length;l++)if(void 0!==n[l].repeat){var u=e(n[l].start),c=e(n[l].end);if("Invalid Date"==u._d)throw new Error("Supplied start date is not valid: "+n[l].start);if("Invalid Date"==c._d)throw new Error("Supplied end date is not valid: "+n[l].end);var h=c-u;if(h>=4*a){var p=0,d=o.clone();switch(n[l].repeat){case"daily":u.day()!=c.day()&&(p=1),u.dayOfYear(r.dayOfYear()),u.year(r.year()),u.subtract(7,"days"),c.dayOfYear(r.dayOfYear()),c.year(r.year()),c.subtract(7-p,"days"),d.add(1,"weeks");break;case"weekly":var f=c.diff(u,"days"),m=u.day();u.date(r.date()),u.month(r.month()),u.year(r.year()),c=u.clone(),u.day(m),c.day(m),c.add(f,"days"),u.subtract(1,"weeks"),c.subtract(1,"weeks"),d.add(1,"weeks");break;case"monthly":u.month()!=c.month()&&(p=1),u.month(r.month()),u.year(r.year()),u.subtract(1,"months"),c.month(r.month()),c.year(r.year()),c.subtract(1,"months"),c.add(p,"months"),d.add(1,"months");break;case"yearly":u.year()!=c.year()&&(p=1),u.year(r.year()),u.subtract(1,"years"),c.year(r.year()),c.subtract(1,"years"),c.add(p,"years"),d.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[l].repeat)}for(;u<d;)switch(i.hiddenDates.push({start:u.valueOf(),end:c.valueOf()}),n[l].repeat){case"daily":u.add(1,"days"),c.add(1,"days");break;case"weekly":u.add(1,"weeks"),c.add(1,"weeks");break;case"monthly":u.add(1,"months"),c.add(1,"months");break;case"yearly":u.add(1,"y"),c.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[l].repeat)}i.hiddenDates.push({start:u.valueOf(),end:c.valueOf()})}}t.removeDuplicates(i);var y=t.isHidden(i.range.start,i.hiddenDates),v=t.isHidden(i.range.end,i.hiddenDates),g=i.range.start,_=i.range.end;1==y.hidden&&(g=1==i.range.startToFront?y.startDate-1:y.endDate+1),1==v.hidden&&(_=1==i.range.endToFront?v.startDate-1:v.endDate+1),1!=y.hidden&&1!=v.hidden||i.range._applyRange(g,_)}},t.removeDuplicates=function(e){for(var t=e.hiddenDates,i=[],n=0;n<t.length;n++)for(var r=0;r<t.length;r++)n!=r&&1!=t[r].remove&&1!=t[n].remove&&(t[r].start>=t[n].start&&t[r].end<=t[n].end?t[r].remove=!0:t[r].start>=t[n].start&&t[r].start<=t[n].end?(t[n].end=t[r].end,t[r].remove=!0):t[r].end>=t[n].start&&t[r].end<=t[n].end&&(t[n].start=t[r].start,t[r].remove=!0));for(var n=0;n<t.length;n++)t[n].remove!==!0&&i.push(t[n]);e.hiddenDates=i,e.hiddenDates.sort(function(e,t){return e.start-t.start})},t.printDates=function(e){for(var t=0;t<e.length;t++)console.log(t,new Date(e[t].start),new Date(e[t].end),e[t].start,e[t].end,e[t].remove)},t.stepOverHiddenDates=function(e,t,i){for(var n=!1,r=t.current.valueOf(),o=0;o<t.hiddenDates.length;o++){var s=t.hiddenDates[o].start,a=t.hiddenDates[o].end;if(r>=s&&r<a){n=!0;break}}if(1==n&&r<t._end.valueOf()&&r!=i){var l=e(i),u=e(a);l.year()!=u.year()?t.switchedYear=!0:l.month()!=u.month()?t.switchedMonth=!0:l.dayOfYear()!=u.dayOfYear()&&(t.switchedDay=!0),t.current=u}},t.toScreen=function(e,i,n){if(0==e.body.hiddenDates.length){var r=e.range.conversion(n);return(i.valueOf()-r.offset)*r.scale}var o=t.isHidden(i,e.body.hiddenDates);1==o.hidden&&(i=o.startDate);var s=t.getHiddenDurationBetween(e.body.hiddenDates,e.range.start,e.range.end);i=t.correctTimeForHidden(e.options.moment,e.body.hiddenDates,e.range,i);var r=e.range.conversion(n,s);return(i.valueOf()-r.offset)*r.scale},t.toTime=function(e,i,n){if(0==e.body.hiddenDates.length){var r=e.range.conversion(n);return new Date(i/r.scale+r.offset)}var o=t.getHiddenDurationBetween(e.body.hiddenDates,e.range.start,e.range.end),s=e.range.end-e.range.start-o,a=s*i/n,l=t.getAccumulatedHiddenDuration(e.body.hiddenDates,e.range,a),u=new Date(l+a+e.range.start);return u},t.getHiddenDurationBetween=function(e,t,i){for(var n=0,r=0;r<e.length;r++){var o=e[r].start,s=e[r].end;o>=t&&s<i&&(n+=s-o)}return n},t.correctTimeForHidden=function(e,i,n,r){return r=e(r).toDate().valueOf(),r-=t.getHiddenDurationBefore(e,i,n,r)},t.getHiddenDurationBefore=function(e,t,i,n){var r=0;n=e(n).toDate().valueOf();for(var o=0;o<t.length;o++){var s=t[o].start,a=t[o].end;s>=i.start&&a<i.end&&n>=a&&(r+=a-s)}return r},t.getAccumulatedHiddenDuration=function(e,t,i){for(var n=0,r=0,o=t.start,s=0;s<e.length;s++){var a=e[s].start,l=e[s].end;if(a>=t.start&&l<t.end){if(r+=a-o,o=l,r>=i)break;n+=l-a}}return n},t.snapAwayFromHidden=function(e,i,n,r){var o=t.isHidden(i,e);return 1==o.hidden?n<0?1==r?o.startDate-(o.endDate-i)-1:o.startDate-1:1==r?o.endDate+(i-o.startDate)+1:o.endDate+1:i},t.isHidden=function(e,t){for(var i=0;i<t.length;i++){var n=t[i].start,r=t[i].end;if(e>=n&&e<r)return{hidden:!0,startDate:n,endDate:r}}return{hidden:!1,startDate:n,endDate:r}}},function(e,t,i){function Core(){}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=i(13),o=i(20),s=i(28),a=i(1),l=(i(9),i(11),i(30),i(34),i(44)),u=i(45),c=i(32),h=i(46);r(Core.prototype),Core.prototype._create=function(e){function onMouseWheel(e){t.isActive()&&t.emit("mousewheel",e)}this.dom={},this.dom.container=e,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.on("rangechange",function(){this.initialDrawDone===!0&&this._redraw()}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("pan",this._onDrag.bind(this));var t=this;this.on("_change",function(e){e&&1==e.queue?t._redrawTimer||(t._redrawTimer=setTimeout(function(){t._redrawTimer=null,t._redraw()},0)):t._redraw()}),this.hammer=new o(this.dom.root);var i=this.hammer.get("pinch").set({enable:!0});s.disablePreventDefaultVertically(i),this.hammer.get("pan").set({threshold:5,direction:o.DIRECTION_HORIZONTAL}),this.listeners={};var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];if(n.forEach(function(e){var i=function(i){t.isActive()&&t.emit(e,i)};t.hammer.on(e,i),t.listeners[e]=i}),s.onTouch(this.hammer,function(e){t.emit("touch",e)}.bind(this)),s.onRelease(this.hammer,function(e){t.emit("release",e)}.bind(this)),this.dom.root.addEventListener("mousewheel",onMouseWheel),this.dom.root.addEventListener("DOMMouseScroll",onMouseWheel),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root)},Core.prototype.setOptions=function(e){if(e){var t=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","throttleRedraw"];if(a.selectiveExtend(t,this.options,e),this.options.rtl){var i=this.dom.leftContainer;this.dom.leftContainer=this.dom.rightContainer,this.dom.rightContainer=i,this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"}if(this.options.orientation={item:void 0,axis:void 0},"orientation"in e&&("string"==typeof e.orientation?this.options.orientation={item:e.orientation,axis:e.orientation}:"object"===n(e.orientation)&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var r=this.timeAxis2=new l(this.body);r.setOptions=function(e){var t=e?a.extend({},e):{};t.orientation="top",l.prototype.setOptions.call(r,t)},this.components.push(r)}}else if(this.timeAxis2){var o=this.components.indexOf(this.timeAxis2);o!==-1&&this.components.splice(o,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof e.drawPoints&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&c.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new u(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in e)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(t){return t.setOptions(e)}),"configure"in e){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);var s=a.deepExtend({},this.options);this.components.forEach(function(e){a.deepExtend(s,e.options)}),this.configurator.setModuleOptions({global:s})}this._origRedraw?this._redraw():(this._origRedraw=this._redraw.bind(this),this._redraw=a.throttle(this._origRedraw,this.options.throttleRedraw))},Core.prototype.isActive=function(){return!this.activator||this.activator.active},Core.prototype.destroy=function(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(var e in this.listeners)this.listeners.hasOwnProperty(e)&&delete this.listeners[e];this.listeners=null,this.hammer=null,this.components.forEach(function(e){return e.destroy()}),this.body=null},Core.prototype.setCustomTime=function(e,t){var i=this.customTimes.filter(function(e){return t===e.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+JSON.stringify(t));i.length>0&&i[0].setCustomTime(e)},Core.prototype.getCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));return t[0].getCustomTime()},Core.prototype.setCustomTimeTitle=function(e,t){var i=this.customTimes.filter(function(e){return e.options.id===t});if(0===i.length)throw new Error("No custom time bar found with id "+JSON.stringify(t));if(i.length>0)return i[0].setCustomTitle(e)},Core.prototype.getEventProperties=function(e){return{event:e}},Core.prototype.addCustomTime=function(e,t){var i=void 0!==e?a.convert(e,"Date").valueOf():new Date,n=this.customTimes.some(function(e){return e.options.id===t});if(n)throw new Error("A custom time with id "+JSON.stringify(t)+" already exists");var r=new h(this.body,a.extend({},this.options,{time:i,id:t}));return this.customTimes.push(r),this.components.push(r),this._redraw(),t},Core.prototype.removeCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));t.forEach(function(e){this.customTimes.splice(this.customTimes.indexOf(e),1),this.components.splice(this.components.indexOf(e),1),e.destroy()}.bind(this))},Core.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},Core.prototype.fit=function(e){var t=this.getDataRange();if(null!==t.min||null!==t.max){var i=t.max-t.min,n=new Date(t.min.valueOf()-.01*i),r=new Date(t.max.valueOf()+.01*i),o=!e||void 0===e.animation||e.animation;this.range.setRange(n,r,o)}},Core.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},Core.prototype.setWindow=function(e,t,i){var n;if(1==arguments.length){var r=arguments[0];n=void 0===r.animation||r.animation,this.range.setRange(r.start,r.end,n)}else n=!i||void 0===i.animation||i.animation,this.range.setRange(e,t,n)},Core.prototype.moveTo=function(e,t){var i=this.range.end-this.range.start,n=a.convert(e,"Date").valueOf(),r=n-i/2,o=n+i/2,s=!t||void 0===t.animation||t.animation;this.range.setRange(r,o,s)},Core.prototype.getWindow=function(){var e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}},Core.prototype.redraw=function(){this._redraw()},Core.prototype._redraw=function(){this.redrawCount++;var e=!1,t=this.options,i=this.props,n=this.dom;if(n&&n.container&&0!=n.root.offsetWidth){c.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==t.orientation?(a.addClassName(n.root,"vis-top"),a.removeClassName(n.root,"vis-bottom")):(a.removeClassName(n.root,"vis-top"),a.addClassName(n.root,"vis-bottom")),n.root.style.maxHeight=a.option.asSize(t.maxHeight,""),n.root.style.minHeight=a.option.asSize(t.minHeight,""),n.root.style.width=a.option.asSize(t.width,""),i.border.left=(n.centerContainer.offsetWidth-n.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(n.centerContainer.offsetHeight-n.centerContainer.clientHeight)/2,i.border.bottom=i.border.top;var r=n.root.offsetHeight-n.root.clientHeight,s=n.root.offsetWidth-n.root.clientWidth;0===n.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===n.root.clientHeight&&(s=r),i.center.height=n.center.offsetHeight,i.left.height=n.left.offsetHeight,i.right.height=n.right.offsetHeight,i.top.height=n.top.clientHeight||-i.border.top,i.bottom.height=n.bottom.clientHeight||-i.border.bottom;var l=Math.max(i.left.height,i.center.height,i.right.height),u=i.top.height+l+i.bottom.height+r+i.border.top+i.border.bottom;n.root.style.height=a.option.asSize(t.height,u+"px"),i.root.height=n.root.offsetHeight,i.background.height=i.root.height-r;var h=i.root.height-i.top.height-i.bottom.height-r;i.centerContainer.height=h,i.leftContainer.height=h,i.rightContainer.height=i.leftContainer.height,i.root.width=n.root.offsetWidth,i.background.width=i.root.width-s,i.left.width=n.leftContainer.clientWidth||-i.border.left,i.leftContainer.width=i.left.width,i.right.width=n.rightContainer.clientWidth||-i.border.right,i.rightContainer.width=i.right.width;var p=i.root.width-i.left.width-i.right.width-s;i.center.width=p,i.centerContainer.width=p,i.top.width=p,i.bottom.width=p,n.background.style.height=i.background.height+"px",n.backgroundVertical.style.height=i.background.height+"px",n.backgroundHorizontal.style.height=i.centerContainer.height+"px",n.centerContainer.style.height=i.centerContainer.height+"px",n.leftContainer.style.height=i.leftContainer.height+"px",n.rightContainer.style.height=i.rightContainer.height+"px",n.background.style.width=i.background.width+"px",n.backgroundVertical.style.width=i.centerContainer.width+"px",n.backgroundHorizontal.style.width=i.background.width+"px",n.centerContainer.style.width=i.center.width+"px",n.top.style.width=i.top.width+"px",n.bottom.style.width=i.bottom.width+"px",n.background.style.left="0",n.background.style.top="0",n.backgroundVertical.style.left=i.left.width+i.border.left+"px",n.backgroundVertical.style.top="0",n.backgroundHorizontal.style.left="0",n.backgroundHorizontal.style.top=i.top.height+"px",n.centerContainer.style.left=i.left.width+"px",n.centerContainer.style.top=i.top.height+"px",n.leftContainer.style.left="0",n.leftContainer.style.top=i.top.height+"px",n.rightContainer.style.left=i.left.width+i.center.width+"px",n.rightContainer.style.top=i.top.height+"px",n.top.style.left=i.left.width+"px",n.top.style.top="0",n.bottom.style.left=i.left.width+"px",n.bottom.style.top=i.top.height+i.centerContainer.height+"px",this._updateScrollTop();var d=this.props.scrollTop;"top"!=t.orientation.item&&(d+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0)),n.center.style.left="0",n.center.style.top=d+"px",n.left.style.left="0",n.left.style.top=d+"px",n.right.style.left="0",n.right.style.top=d+"px";var f=0==this.props.scrollTop?"hidden":"",m=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";n.shadowTop.style.visibility=f,n.shadowBottom.style.visibility=m,n.shadowTopLeft.style.visibility=f,n.shadowBottomLeft.style.visibility=m,n.shadowTopRight.style.visibility=f,n.shadowBottomRight.style.visibility=m;var y=this.props.center.height>this.props.centerContainer.height;this.hammer.get("pan").set({direction:y?o.DIRECTION_ALL:o.DIRECTION_HORIZONTAL}),this.components.forEach(function(t){e=t.redraw()||e});var v=5;if(e){if(this.redrawCount<v)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.initialDrawDone=!0,this.body.emitter.emit("changed")}},Core.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},Core.prototype.setCurrentTime=function(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)},Core.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},Core.prototype._toTime=function(e){return c.toTime(this,e,this.props.center.width)},Core.prototype._toGlobalTime=function(e){return c.toTime(this,e,this.props.root.width)},Core.prototype._toScreen=function(e){return c.toScreen(this,e,this.props.center.width)},Core.prototype._toGlobalScreen=function(e){return c.toScreen(this,e,this.props.root.width)},Core.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},Core.prototype._startAutoResize=function(){var e=this;this._stopAutoResize(),this._onResize=function(){return 1!=e.options.autoResize?void e._stopAutoResize():void(e.dom.root&&(e.dom.root.offsetWidth==e.props.lastWidth&&e.dom.root.offsetHeight==e.props.lastHeight||(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight,e.body.emitter.emit("_change"))))},a.addEventListener(window,"resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},Core.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(a.removeEventListener(window,"resize",this._onResize),this._onResize=null)},Core.prototype._onTouch=function(e){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},Core.prototype._onPinch=function(e){this.touch.allowDragging=!1},Core.prototype._onDrag=function(e){if(this.touch.allowDragging){var t=e.deltaY,i=this._getScrollTop(),n=this._setScrollTop(this.touch.initialScrollTop+t);n!=i&&this.emit("verticalDrag")}},Core.prototype._setScrollTop=function(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop},Core.prototype._updateScrollTop=function(){var e=Math.min(this.props.centerContainer.height-this.props.center.height,0);return e!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.props.scrollTop},Core.prototype._getScrollTop=function(){return this.props.scrollTop},Core.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},e.exports=Core},function(e,t,i){function ItemSet(e,t){this.body=e,this.defaultOptions={rtl:!1,type:null,orientation:{item:"bottom"},align:"auto",stack:!0,groupOrderSwap:function(e,t,i){var n=t.order;t.order=e.order,e.order=n},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:!1,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:l.snap,onAdd:function(e,t){t(e)},onUpdate:function(e,t){t(e)},onMove:function(e,t){t(e)},onRemove:function(e,t){t(e)},onMoving:function(e,t){t(e)},onAddGroup:function(e,t){t(e)},onMoveGroup:function(e,t){t(e)},onRemoveGroup:function(e,t){t(e)},margin:{item:{horizontal:10,vertical:10},axis:20}},this.options=o.extend({},this.defaultOptions),this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(e,t,n){i._onAdd(t.items)},update:function(e,t,n){i._onUpdate(t.items)},remove:function(e,t,n){i._onRemove(t.items)}},this.groupListeners={add:function(e,t,n){i._onAddGroups(t.items)},update:function(e,t,n){i._onUpdateGroups(t.items)},remove:function(e,t,n){i._onRemoveGroups(t.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.stackDirty=!0,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(t)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=i(20),o=i(1),s=i(9),a=i(11),l=i(35),u=i(31),c=i(36),h=i(40),p=i(41),d=i(42),f=i(38),m=i(43),y="__ungrouped__",v="__background__";ItemSet.prototype=new u,ItemSet.types={background:m,box:p,range:f,point:d},ItemSet.prototype._create=function(){var e=document.createElement("div");e.className="vis-itemset",e["timeline-itemset"]=this,this.dom.frame=e;var t=document.createElement("div");t.className="vis-background",e.appendChild(t),this.dom.background=t;var i=document.createElement("div");i.className="vis-foreground",e.appendChild(i),this.dom.foreground=i;var n=document.createElement("div");n.className="vis-axis",this.dom.axis=n;var o=document.createElement("div");o.className="vis-labelset",this.dom.labelSet=o,this._updateUngrouped();var s=new h(v,null,this);s.show(),this.groups[v]=s,this.hammer=new r(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(e){e.isFirst&&this._onTouch(e)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:r.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.groupHammer=new r(this.body.dom.leftContainer),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:r.DIRECTION_HORIZONTAL}),this.show()},ItemSet.prototype.setOptions=function(e){if(e){var t=["type","rtl","align","order","stack","selectable","multiselect","itemsAlwaysDraggable","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","hide","snap","groupOrderSwap"];o.selectiveExtend(t,this.options,e),"orientation"in e&&("string"==typeof e.orientation?this.options.orientation.item="top"===e.orientation?"top":"bottom":"object"===n(e.orientation)&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&("number"==typeof e.margin?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):"object"===n(e.margin)&&(o.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&("number"==typeof e.margin.item?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):"object"===n(e.margin.item)&&o.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),"editable"in e&&("boolean"==typeof e.editable?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable):"object"===n(e.editable)&&o.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,e.editable)),"groupEditable"in e&&("boolean"==typeof e.groupEditable?(this.options.groupEditable.order=e.groupEditable,this.options.groupEditable.add=e.groupEditable,this.options.groupEditable.remove=e.groupEditable):"object"===n(e.groupEditable)&&o.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable));var i=function(t){var i=e[t];if(i){if(!(i instanceof Function))throw new Error("option "+t+" must be a function "+t+"(item, callback)");this.options[t]=i}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(i),this.markDirty()}},ItemSet.prototype.markDirty=function(e){this.groupIds=[],this.stackDirty=!0,e&&e.refreshItems&&o.forEach(this.items,function(e){e.dirty=!0,e.displayed&&e.redraw()})},ItemSet.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},ItemSet.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),
this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},ItemSet.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||this.body.dom.left.appendChild(this.dom.labelSet)},ItemSet.prototype.setSelection=function(e){var t,i,n,r;for(void 0==e&&(e=[]),Array.isArray(e)||(e=[e]),t=0,i=this.selection.length;t<i;t++)n=this.selection[t],r=this.items[n],r&&r.unselect();for(this.selection=[],t=0,i=e.length;t<i;t++)n=e[t],r=this.items[n],r&&(this.selection.push(n),r.select())},ItemSet.prototype.getSelection=function(){return this.selection.concat([])},ItemSet.prototype.getVisibleItems=function(){var e=this.body.range.getRange();if(this.options.rtl)var t=this.body.util.toScreen(e.start),i=this.body.util.toScreen(e.end);else var i=this.body.util.toScreen(e.start),t=this.body.util.toScreen(e.end);var n=[];for(var r in this.groups)if(this.groups.hasOwnProperty(r))for(var o=this.groups[r],s=o.visibleItems,a=0;a<s.length;a++){var l=s[a];this.options.rtl?l.right<i&&l.right+l.width>t&&n.push(l.id):l.left<t&&l.left+l.width>i&&n.push(l.id)}return n},ItemSet.prototype._deselect=function(e){for(var t=this.selection,i=0,n=t.length;i<n;i++)if(t[i]==e){t.splice(i,1);break}},ItemSet.prototype.redraw=function(){var e=this.options.margin,t=this.body.range,i=o.option.asSize,n=this.options,r=n.orientation.item,s=!1,a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset",s=this._orderGroups()||s;var l=t.end-t.start,u=l!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth;u&&(this.stackDirty=!0),this.lastVisibleInterval=l,this.props.lastWidth=this.props.width;var c=this.stackDirty,h=this._firstGroup(),p={item:e.item,axis:e.axis},d={item:e.item,axis:e.item.vertical/2},f=0,m=e.axis+e.item.vertical;return this.groups[v].redraw(t,d,c),o.forEach(this.groups,function(e){var i=e==h?p:d,n=e.redraw(t,i,c);s=n||s,f+=e.height}),f=Math.max(f,m),this.stackDirty=!1,a.style.height=i(f),this.props.width=a.offsetWidth,this.props.height=f,this.dom.axis.style.top=i("top"==r?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",s=this._isResized()||s},ItemSet.prototype._firstGroup=function(){var e="top"==this.options.orientation.item?0:this.groupIds.length-1,t=this.groupIds[e],i=this.groups[t]||this.groups[y];return i||null},ItemSet.prototype._updateUngrouped=function(){var e,t,i=this.groups[y];this.groups[v];if(this.groupsData){if(i){i.hide(),delete this.groups[y];for(t in this.items)if(this.items.hasOwnProperty(t)){e=this.items[t],e.parent&&e.parent.remove(e);var n=this._getGroupId(e.data),r=this.groups[n];r&&r.add(e)||e.hide()}}}else if(!i){var o=null,s=null;i=new c(o,s,this),this.groups[y]=i;for(t in this.items)this.items.hasOwnProperty(t)&&(e=this.items[t],i.add(e));i.show()}},ItemSet.prototype.getLabelSet=function(){return this.dom.labelSet},ItemSet.prototype.setItems=function(e){var t,i=this,n=this.itemsData;if(e){if(!(e instanceof s||e instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=e}else this.itemsData=null;if(n&&(o.forEach(this.itemListeners,function(e,t){n.off(t,e)}),t=n.getIds(),this._onRemove(t)),this.itemsData){var r=this.id;o.forEach(this.itemListeners,function(e,t){i.itemsData.on(t,e,r)}),t=this.itemsData.getIds(),this._onAdd(t),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},ItemSet.prototype.getItems=function(){return this.itemsData},ItemSet.prototype.setGroups=function(e){var t,i=this;if(this.groupsData&&(o.forEach(this.groupListeners,function(e,t){i.groupsData.off(t,e)}),t=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(t)),e){if(!(e instanceof s||e instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=e}else this.groupsData=null;if(this.groupsData){var n=this.id;o.forEach(this.groupListeners,function(e,t){i.groupsData.on(t,e,n)}),t=this.groupsData.getIds(),this._onAddGroups(t)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},ItemSet.prototype.getGroups=function(){return this.groupsData},ItemSet.prototype.removeItem=function(e){var t=this.itemsData.get(e),i=this.itemsData.getDataSet();t&&this.options.onRemove(t,function(t){t&&i.remove(e)})},ItemSet.prototype._getType=function(e){return e.type||this.options.type||(e.end?"range":"box")},ItemSet.prototype._getGroupId=function(e){var t=this._getType(e);return"background"==t&&void 0==e.group?v:this.groupsData?e.group:y},ItemSet.prototype._onUpdate=function(e){var t=this;e.forEach(function(e){var i,n=t.itemsData.get(e,t.itemOptions),r=t.items[e],o=t._getType(n),s=ItemSet.types[o];if(r&&(s&&r instanceof s?t._updateItem(r,n):(i=r.selected,t._removeItem(r),r=null)),!r){if(!s)throw"rangeoverflow"==o?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+o+'"');r=new s(n,t.conversion,t.options),r.id=e,t._addItem(r),i&&(this.selection.push(e),r.select())}}.bind(this)),this._order(),this.stackDirty=!0,this.body.emitter.emit("_change",{queue:!0})},ItemSet.prototype._onAdd=ItemSet.prototype._onUpdate,ItemSet.prototype._onRemove=function(e){var t=0,i=this;e.forEach(function(e){var n=i.items[e];n&&(t++,i._removeItem(n))}),t&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("_change",{queue:!0}))},ItemSet.prototype._order=function(){o.forEach(this.groups,function(e){e.order()})},ItemSet.prototype._onUpdateGroups=function(e){this._onAddGroups(e)},ItemSet.prototype._onAddGroups=function(e){var t=this;e.forEach(function(e){var i=t.groupsData.get(e),n=t.groups[e];if(n)n.setData(i);else{if(e==y||e==v)throw new Error("Illegal group id. "+e+" is a reserved id.");var r=Object.create(t.options);o.extend(r,{height:null}),n=new c(e,i,t),t.groups[e]=n;for(var s in t.items)if(t.items.hasOwnProperty(s)){var a=t.items[s];a.data.group==e&&n.add(a)}n.order(),n.show()}}),this.body.emitter.emit("_change",{queue:!0})},ItemSet.prototype._onRemoveGroups=function(e){var t=this.groups;e.forEach(function(e){var i=t[e];i&&(i.hide(),delete t[e])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},ItemSet.prototype._orderGroups=function(){if(this.groupsData){var e=this.groupsData.getIds({order:this.options.groupOrder}),t=!o.equalArray(e,this.groupIds);if(t){var i=this.groups;e.forEach(function(e){i[e].hide()}),e.forEach(function(e){i[e].show()}),this.groupIds=e}return t}return!1},ItemSet.prototype._addItem=function(e){this.items[e.id]=e;var t=this._getGroupId(e.data),i=this.groups[t];i&&i.add(e)},ItemSet.prototype._updateItem=function(e,t){var i=e.data.group,n=e.data.subgroup;if(e.setData(t),i!=e.data.group||n!=e.data.subgroup){var r=this.groups[i];r&&r.remove(e);var o=this._getGroupId(e.data),s=this.groups[o];s&&s.add(e)}},ItemSet.prototype._removeItem=function(e){e.hide(),delete this.items[e.id];var t=this.selection.indexOf(e.id);t!=-1&&this.selection.splice(t,1),e.parent&&e.parent.remove(e)},ItemSet.prototype._constructByEndArray=function(e){for(var t=[],i=0;i<e.length;i++)e[i]instanceof f&&t.push(e[i]);return t},ItemSet.prototype._onTouch=function(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null},ItemSet.prototype._getGroupIndex=function(e){for(var t=0;t<this.groupIds.length;t++)if(e==this.groupIds[t])return t},ItemSet.prototype._onDragStart=function(e){var t,i=this.touchParams.item||null,n=this;if(i&&(i.selected||this.options.itemsAlwaysDraggable)){if(!this.options.editable.updateTime&&!this.options.editable.updateGroup&&!i.editable)return;if(i.editable===!1)return;var r=this.touchParams.dragLeftItem,o=this.touchParams.dragRightItem;if(r)t={item:r,initialX:e.center.x,dragLeft:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[t];else if(o)t={item:o,initialX:e.center.x,dragRight:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[t];else{this.touchParams.selectedItem=i;var s=this._getGroupIndex(i.data.group),a=this.options.itemsAlwaysDraggable&&!i.selected?[i.id]:this.getSelection();this.touchParams.itemProps=a.map(function(t){var i=n.items[t],r=n._getGroupIndex(i.data.group);return{item:i,initialX:e.center.x,groupOffset:s-r,data:this._cloneItemData(i.data)}}.bind(this))}e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)},ItemSet.prototype._onDragStartAddItem=function(e){var t=this.options.snap||null;if(this.options.rtl)var i=o.getAbsoluteRight(this.dom.frame),n=i-e.center.x+10;else var i=o.getAbsoluteLeft(this.dom.frame),n=e.center.x-i-10;var r=this.body.util.toTime(n),s=this.body.util.getScale(),a=this.body.util.getStep(),l=t?t(r,s,a):r,u=l,c={type:"range",start:l,end:u,content:"new item"},h=o.randomUUID();c[this.itemsData._fieldId]=h;var p=this.groupFromTarget(e);p&&(c.group=p.groupId);var d=new f(c,this.conversion,this.options);d.id=h,d.data=this._cloneItemData(c),this._addItem(d);var m={item:d,initialX:e.center.x,data:d.data};this.options.rtl?m.dragLeft=!0:m.dragRight=!0,this.touchParams.itemProps=[m],e.stopPropagation()},ItemSet.prototype._onDrag=function(e){if(this.touchParams.itemProps){e.stopPropagation();var t=this,i=this.options.snap||null;if(this.options.rtl)var n=this.body.dom.root.offsetLeft+this.body.domProps.right.width;else var n=this.body.dom.root.offsetLeft+this.body.domProps.left.width;var r=this.body.util.getScale(),s=this.body.util.getStep(),a=this.touchParams.selectedItem,l=t.options.editable.updateGroup,u=null;if(l&&a&&void 0!=a.data.group){var c=t.groupFromTarget(e);c&&(u=this._getGroupIndex(c.groupId))}this.touchParams.itemProps.forEach(function(a){var l=t.body.util.toTime(e.center.x-n),c=t.body.util.toTime(a.initialX-n);if(this.options.rtl)var h=-(l-c);else var h=l-c;var p=this._cloneItemData(a.item.data);if(a.item.editable!==!1){var d=t.options.editable.updateTime||a.item.editable===!0;if(d)if(a.dragLeft){if(this.options.rtl){if(void 0!=p.end){var f=o.convert(a.data.end,"Date"),m=new Date(f.valueOf()+h);p.end=i?i(m,r,s):m}}else if(void 0!=p.start){var y=o.convert(a.data.start,"Date"),v=new Date(y.valueOf()+h);p.start=i?i(v,r,s):v}}else if(a.dragRight){if(this.options.rtl){if(void 0!=p.start){var y=o.convert(a.data.start,"Date"),v=new Date(y.valueOf()+h);p.start=i?i(v,r,s):v}}else if(void 0!=p.end){var f=o.convert(a.data.end,"Date"),m=new Date(f.valueOf()+h);p.end=i?i(m,r,s):m}}else if(void 0!=p.start){var y=o.convert(a.data.start,"Date").valueOf(),v=new Date(y+h);if(void 0!=p.end){var f=o.convert(a.data.end,"Date"),g=f.valueOf()-y.valueOf();p.start=i?i(v,r,s):v,p.end=new Date(p.start.valueOf()+g)}else p.start=i?i(v,r,s):v}var _=t.options.editable.updateGroup||a.item.editable===!0;if(_&&!a.dragLeft&&!a.dragRight&&null!=u&&void 0!=p.group){var b=u-a.groupOffset;b=Math.max(0,b),b=Math.min(t.groupIds.length-1,b),p.group=t.groupIds[b]}p=this._cloneItemData(p),t.options.onMoving(p,function(e){e&&a.item.setData(this._cloneItemData(e,"Date"))}.bind(this))}}.bind(this)),this.stackDirty=!0,this.body.emitter.emit("_change")}},ItemSet.prototype._moveToGroup=function(e,t){var i=this.groups[t];if(i&&i.groupId!=e.data.group){var n=e.parent;n.remove(e),n.order(),i.add(e),i.order(),e.data.group=i.groupId}},ItemSet.prototype._onDragEnd=function(e){if(this.touchParams.itemProps){e.stopPropagation();var t=this,i=this.itemsData.getDataSet(),n=this.touchParams.itemProps;this.touchParams.itemProps=null,n.forEach(function(e){var n=e.item.id,r=null!=t.itemsData.get(n,t.itemOptions);if(r){var o=this._cloneItemData(e.item.data);t.options.onMove(o,function(r){r?(r[i._fieldId]=n,i.update(r)):(e.item.setData(e.data),t.stackDirty=!0,t.body.emitter.emit("_change"))})}else t.options.onAdd(e.item.data,function(i){t._removeItem(e.item),i&&t.itemsData.getDataSet().add(i),t.stackDirty=!0,t.body.emitter.emit("_change")})}.bind(this))}},ItemSet.prototype._onGroupDragStart=function(e){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(e),this.groupTouchParams.group&&(e.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},ItemSet.prototype._onGroupDrag=function(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();var t=this.groupFromTarget(e);if(t&&t.height!=this.groupTouchParams.group.height){var i=t.top<this.groupTouchParams.group.top,n=e.center?e.center.y:e.clientY,r=o.getAbsoluteTop(t.dom.foreground),s=this.groupTouchParams.group.height;if(i){if(r+s<n)return}else{var a=t.height;if(r+a-s>n)return}}if(t&&t!=this.groupTouchParams.group){var l=this.groupsData,u=l.get(t.groupId),c=l.get(this.groupTouchParams.group.groupId);c&&u&&(this.options.groupOrderSwap(c,u,this.groupsData),this.groupsData.update(c),this.groupsData.update(u));var h=this.groupsData.getIds({order:this.options.groupOrder});if(!o.equalArray(h,this.groupTouchParams.originalOrder))for(var l=this.groupsData,p=this.groupTouchParams.originalOrder,d=this.groupTouchParams.group.groupId,f=Math.min(p.length,h.length),m=0,y=0,v=0;m<f;){for(;m+y<f&&m+v<f&&h[m+y]==p[m+v];)m++;if(m+y>=f)break;if(h[m+y]!=d)if(p[m+v]!=d){var g=h.indexOf(p[m+v]),_=l.get(h[m+y]),b=l.get(p[m+v]);this.options.groupOrderSwap(_,b,l),l.update(_),l.update(b);var w=h[m+y];h[m+y]=p[m+v],h[g]=w,m++}else v=1;else y=1}}}},ItemSet.prototype._onGroupDragEnd=function(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();var t=this,i=t.groupTouchParams.group.groupId,n=t.groupsData.getDataSet(),r=o.extend({},n.get(i));t.options.onMoveGroup(r,function(e){if(e)e[n._fieldId]=i,n.update(e);else{var r=n.getIds({order:t.options.groupOrder});if(!o.equalArray(r,t.groupTouchParams.originalOrder))for(var s=t.groupTouchParams.originalOrder,a=Math.min(s.length,r.length),l=0;l<a;){for(;l<a&&r[l]==s[l];)l++;if(l>=a)break;var u=r.indexOf(s[l]),c=n.get(r[l]),h=n.get(s[l]);t.options.groupOrderSwap(c,h,n),groupsData.update(c),groupsData.update(h);var p=r[l];r[l]=s[l],r[u]=p,l++}}}),t.body.emitter.emit("groupDragged",{groupId:i})}},ItemSet.prototype._onSelectItem=function(e){if(this.options.selectable){var t=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),i=e.srcEvent&&e.srcEvent.shiftKey;if(t||i)return void this._onMultiSelectItem(e);var n=this.getSelection(),r=this.itemFromTarget(e),o=r?[r.id]:[];this.setSelection(o);var s=this.getSelection();(s.length>0||n.length>0)&&this.body.emitter.emit("select",{items:s,event:e})}},ItemSet.prototype._onAddItem=function(e){if(this.options.selectable&&this.options.editable.add){var t=this,i=this.options.snap||null,n=this.itemFromTarget(e);if(n){var r=t.itemsData.get(n.id);this.options.onUpdate(r,function(e){e&&t.itemsData.getDataSet().update(e)})}else{if(this.options.rtl)var s=o.getAbsoluteRight(this.dom.frame),a=s-e.center.x;else var s=o.getAbsoluteLeft(this.dom.frame),a=e.center.x-s;var l=this.body.util.toTime(a),u=this.body.util.getScale(),c=this.body.util.getStep(),h={start:i?i(l,u,c):l,content:"new item"};if("range"===this.options.type){var p=this.body.util.toTime(a+this.props.width/5);h.end=i?i(p,u,c):p}h[this.itemsData._fieldId]=o.randomUUID();var d=this.groupFromTarget(e);d&&(h.group=d.groupId),h=this._cloneItemData(h),this.options.onAdd(h,function(e){e&&t.itemsData.getDataSet().add(e)})}}},ItemSet.prototype._onMultiSelectItem=function(e){if(this.options.selectable){var t=this.itemFromTarget(e);if(t){var i=this.options.multiselect?this.getSelection():[],n=e.srcEvent&&e.srcEvent.shiftKey||!1;if(n&&this.options.multiselect){var r=this.itemsData.get(t.id).group,o=void 0;this.options.multiselectPerGroup&&i.length>0&&(o=this.itemsData.get(i[0]).group),this.options.multiselectPerGroup&&void 0!=o&&o!=r||i.push(t.id);var s=ItemSet._getItemRange(this.itemsData.get(i,this.itemOptions));if(!this.options.multiselectPerGroup||o==r){i=[];for(var a in this.items)if(this.items.hasOwnProperty(a)){var l=this.items[a],u=l.data.start,c=void 0!==l.data.end?l.data.end:u;!(u>=s.min&&c<=s.max)||this.options.multiselectPerGroup&&o!=this.itemsData.get(l.id).group||l instanceof m||i.push(l.id)}}}else{var h=i.indexOf(t.id);h==-1?i.push(t.id):i.splice(h,1)}this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}},ItemSet._getItemRange=function(e){var t=null,i=null;return e.forEach(function(e){(null==i||e.start<i)&&(i=e.start),void 0!=e.end?(null==t||e.end>t)&&(t=e.end):(null==t||e.start>t)&&(t=e.start)}),{min:i,max:t}},ItemSet.prototype.itemFromTarget=function(e){for(var t=e.target;t;){if(t.hasOwnProperty("timeline-item"))return t["timeline-item"];t=t.parentNode}return null},ItemSet.prototype.groupFromTarget=function(e){for(var t=e.center?e.center.y:e.clientY,i=0;i<this.groupIds.length;i++){var n=this.groupIds[i],r=this.groups[n],s=r.dom.foreground,a=o.getAbsoluteTop(s);if(t>a&&t<a+s.offsetHeight)return r;if("top"===this.options.orientation.item){if(i===this.groupIds.length-1&&t>a)return r}else if(0===i&&t<a+s.offset)return r}return null},ItemSet.itemSetFromTarget=function(e){for(var t=e.target;t;){if(t.hasOwnProperty("timeline-itemset"))return t["timeline-itemset"];t=t.parentNode}return null},ItemSet.prototype._cloneItemData=function(e,t){var i=o.extend({},e);return t||(t=this.itemsData.getDataSet()._options.type),void 0!=i.start&&(i.start=o.convert(i.start,t&&t.start||"Date")),void 0!=i.end&&(i.end=o.convert(i.end,t&&t.end||"Date")),i},e.exports=ItemSet},function(e,t,i){function TimeStep(e,t,i,r){this.moment=n,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,t,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(r)?this.hiddenDates=r:void 0!=r?this.hiddenDates=[r]:this.hiddenDates=[],this.format=TimeStep.FORMAT}var n=i(2),r=i(32),o=i(1);TimeStep.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},TimeStep.prototype.setMoment=function(e){this.moment=e,this.current=this.moment(this.current),this._start=this.moment(this._start),this._end=this.moment(this._end)},TimeStep.prototype.setFormat=function(e){var t=o.deepExtend({},TimeStep.FORMAT);this.format=o.deepExtend(t,e)},TimeStep.prototype.setRange=function(e,t,i){if(!(e instanceof Date&&t instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=e?this.moment(e.valueOf()):new Date,this._end=void 0!=t?this.moment(t.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},TimeStep.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},TimeStep.prototype.roundToMinor=function(){switch(this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},TimeStep.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},TimeStep.prototype.next=function(){var e=this.current.valueOf();if(this.current.month()<6)switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.subtract(this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}else switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"month":this.current.month()<this.step&&this.current.month(0);break;case"year":}this.current.valueOf()==e&&(this.current=this._end.clone()),r.stepOverHiddenDates(this.moment,this,e)},TimeStep.prototype.getCurrent=function(){return this.current},TimeStep.prototype.setScale=function(e){e&&"string"==typeof e.scale&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)},TimeStep.prototype.setAutoScale=function(e){this.autoScale=e},TimeStep.prototype.setMinimumStep=function(e){if(void 0!=e){var t=31104e6,i=2592e6,n=864e5,r=36e5,o=6e4,s=1e3,a=1;1e3*t>e&&(this.scale="year",this.step=1e3),500*t>e&&(this.scale="year",this.step=500),100*t>e&&(this.scale="year",this.step=100),50*t>e&&(this.scale="year",this.step=50),10*t>e&&(this.scale="year",this.step=10),5*t>e&&(this.scale="year",this.step=5),t>e&&(this.scale="year",this.step=1),3*i>e&&(this.scale="month",this.step=3),i>e&&(this.scale="month",this.step=1),5*n>e&&(this.scale="day",this.step=5),2*n>e&&(this.scale="day",this.step=2),n>e&&(this.scale="day",this.step=1),n/2>e&&(this.scale="weekday",this.step=1),4*r>e&&(this.scale="hour",this.step=4),r>e&&(this.scale="hour",this.step=1),15*o>e&&(this.scale="minute",this.step=15),10*o>e&&(this.scale="minute",this.step=10),5*o>e&&(this.scale="minute",this.step=5),o>e&&(this.scale="minute",this.step=1),15*s>e&&(this.scale="second",this.step=15),10*s>e&&(this.scale="second",this.step=10),5*s>e&&(this.scale="second",this.step=5),s>e&&(this.scale="second",this.step=1),200*a>e&&(this.scale="millisecond",this.step=200),100*a>e&&(this.scale="millisecond",this.step=100),50*a>e&&(this.scale="millisecond",this.step=50),10*a>e&&(this.scale="millisecond",this.step=10),5*a>e&&(this.scale="millisecond",this.step=5),a>e&&(this.scale="millisecond",this.step=1)}},TimeStep.snap=function(e,t,i){var r=n(e);if("year"==t){var o=r.year()+Math.round(r.month()/12);r.year(Math.round(o/i)*i),r.month(0),r.date(0),r.hours(0),r.minutes(0),r.seconds(0),r.milliseconds(0)}else if("month"==t)r.date()>15?(r.date(1),r.add(1,"month")):r.date(1),r.hours(0),r.minutes(0),r.seconds(0),r.milliseconds(0);else if("day"==t){switch(i){case 5:case 2:r.hours(24*Math.round(r.hours()/24));break;default:r.hours(12*Math.round(r.hours()/12))}r.minutes(0),r.seconds(0),r.milliseconds(0)}else if("weekday"==t){switch(i){case 5:case 2:r.hours(12*Math.round(r.hours()/12));break;default:r.hours(6*Math.round(r.hours()/6))}r.minutes(0),r.seconds(0),r.milliseconds(0)}else if("hour"==t){switch(i){case 4:r.minutes(60*Math.round(r.minutes()/60));break;default:r.minutes(30*Math.round(r.minutes()/30))}r.seconds(0),r.milliseconds(0)}else if("minute"==t){switch(i){case 15:case 10:r.minutes(5*Math.round(r.minutes()/5)),r.seconds(0);break;case 5:r.seconds(60*Math.round(r.seconds()/60));break;default:r.seconds(30*Math.round(r.seconds()/30))}r.milliseconds(0)}else if("second"==t)switch(i){case 15:case 10:r.seconds(5*Math.round(r.seconds()/5)),r.milliseconds(0);break;case 5:r.milliseconds(1e3*Math.round(r.milliseconds()/1e3));break;default:r.milliseconds(500*Math.round(r.milliseconds()/500))}else if("millisecond"==t){var s=i>5?i/2:1;r.milliseconds(Math.round(r.milliseconds()/s)*s)}return r},TimeStep.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.switchedYear=!1,this.scale){case"year":case"month":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.switchedMonth=!1,this.scale){case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.switchedDay=!1,this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var e=this.moment(this.current);switch(this.scale){case"millisecond":return 0==e.milliseconds();case"second":return 0==e.seconds();case"minute":return 0==e.hours()&&0==e.minutes();case"hour":return 0==e.hours();case"weekday":case"day":return 1==e.date();case"month":return 0==e.month();case"year":return!1;default:return!1}},TimeStep.prototype.getLabelMinor=function(e){void 0==e&&(e=this.current);var t=this.format.minorLabels[this.scale];return t&&t.length>0?this.moment(e).format(t):""},TimeStep.prototype.getLabelMajor=function(e){void 0==e&&(e=this.current);var t=this.format.majorLabels[this.scale];return t&&t.length>0?this.moment(e).format(t):""},TimeStep.prototype.getClassName=function(){function even(e){return e/n%2==0?" vis-even":" vis-odd"}function today(t){return t.isSame(new Date,"day")?" vis-today":t.isSame(e().add(1,"day"),"day")?" vis-tomorrow":t.isSame(e().add(-1,"day"),"day")?" vis-yesterday":""}function currentWeek(e){return e.isSame(new Date,"week")?" vis-current-week":""}function currentMonth(e){return e.isSame(new Date,"month")?" vis-current-month":""}function currentYear(e){return e.isSame(new Date,"year")?" vis-current-year":""}var e=this.moment,t=this.moment(this.current),i=t.locale?t.locale("en"):t.lang("en"),n=this.step;switch(this.scale){case"millisecond":return even(i.milliseconds()).trim();case"second":return even(i.seconds()).trim();case"minute":return even(i.minutes()).trim();case"hour":var r=i.hours();return 4==this.step&&(r=r+"-h"+(r+4)),"vis-h"+r+today(i)+even(i.hours());case"weekday":return"vis-"+i.format("dddd").toLowerCase()+today(i)+currentWeek(i)+even(i.date());case"day":var o=i.date(),s=i.format("MMMM").toLowerCase();return"vis-day"+o+" vis-"+s+currentMonth(i)+even(o-1);case"month":return"vis-"+i.format("MMMM").toLowerCase()+currentMonth(i)+even(i.month());case"year":var a=i.year();return"vis-year"+a+currentYear(i)+even(a);default:return""}},e.exports=TimeStep},function(e,t,i){function Group(e,t,i){this.groupId=e,this.subgroups={},this.subgroupIndex=0,this.subgroupOrderer=t&&t.subgroupOrder,this.itemSet=i,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var n=this;this.itemSet.body.emitter.on("checkRangedItems",function(){n.checkRangedItems=!0}),this._create(),this.setData(t)}var n=i(1),r=i(37);i(38);Group.prototype._create=function(){var e=document.createElement("div");this.itemSet.options.groupEditable.order?e.className="vis-label draggable":e.className="vis-label",this.dom.label=e;var t=document.createElement("div");t.className="vis-inner",e.appendChild(t),this.dom.inner=t;var i=document.createElement("div");i.className="vis-group",i["timeline-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.innerHTML="?",this.dom.background.appendChild(this.dom.marker)},Group.prototype.setData=function(e){var t;if(t=this.itemSet.options&&this.itemSet.options.groupTemplate?this.itemSet.options.groupTemplate(e):e&&e.content,t instanceof Element){for(this.dom.inner.appendChild(t);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(t)}else void 0!==t&&null!==t?this.dom.inner.innerHTML=t:this.dom.inner.innerHTML=this.groupId||"";this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?n.removeClassName(this.dom.inner,"vis-hidden"):n.addClassName(this.dom.inner,"vis-hidden");var i=e&&e.className||null;i!=this.className&&(this.className&&(n.removeClassName(this.dom.label,this.className),n.removeClassName(this.dom.foreground,this.className),n.removeClassName(this.dom.background,this.className),n.removeClassName(this.dom.axis,this.className)),n.addClassName(this.dom.label,i),n.addClassName(this.dom.foreground,i),n.addClassName(this.dom.background,i),n.addClassName(this.dom.axis,i),this.className=i),this.style&&(n.removeCssText(this.dom.label,this.style),this.style=null),e&&e.style&&(n.addCssText(this.dom.label,e.style),this.style=e.style)},Group.prototype.getLabelWidth=function(){return this.props.label.width},Group.prototype.redraw=function(e,t,i){var o=!1,s=this.dom.marker.clientHeight;if(s!=this.lastMarkerHeight&&(this.lastMarkerHeight=s,n.forEach(this.items,function(e){e.dirty=!0,e.displayed&&e.redraw()}),i=!0),this._calculateSubGroupHeights(),"function"==typeof this.itemSet.options.order){if(i){var a=this,l=!1;n.forEach(this.items,function(e){e.displayed||(e.redraw(),a.visibleItems.push(e)),e.repositionX(l)});var u=this.orderedItems.byStart.slice().sort(function(e,t){return a.itemSet.options.order(e.data,t.data)});r.stack(u,t,!0)}this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,e)}else this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,e),this.itemSet.options.stack?r.stack(this.visibleItems,t,i):r.nostack(this.visibleItems,t,this.subgroups);var c=this._calculateHeight(t),h=this.dom.foreground;this.top=h.offsetTop,this.right=h.offsetLeft,this.width=h.offsetWidth,o=n.updateProperty(this,"height",c)||o,o=n.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||o,o=n.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||o,this.dom.background.style.height=c+"px",this.dom.foreground.style.height=c+"px",this.dom.label.style.height=c+"px";for(var p=0,d=this.visibleItems.length;p<d;p++){var f=this.visibleItems[p];f.repositionY(t)}return o},Group.prototype._calculateSubGroupHeights=function(){if(Object.keys(this.subgroups).length>0){var e=this;this.resetSubgroups(),n.forEach(this.visibleItems,function(t){void 0!==t.data.subgroup&&(e.subgroups[t.data.subgroup].height=Math.max(e.subgroups[t.data.subgroup].height,t.height),e.subgroups[t.data.subgroup].visible=!0)})}},Group.prototype._calculateHeight=function(e){var t,i=this.visibleItems;if(i.length>0){var r=i[0].top,o=i[0].top+i[0].height;if(n.forEach(i,function(e){r=Math.min(r,e.top),o=Math.max(o,e.top+e.height)}),r>e.axis){var s=r-e.axis;o-=s,n.forEach(i,function(e){e.top-=s})}t=o+e.item.vertical/2}else t=0;return t=Math.max(t,this.props.label.height);
},Group.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},Group.prototype.hide=function(){var e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);var t=this.dom.foreground;t.parentNode&&t.parentNode.removeChild(t);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var n=this.dom.axis;n.parentNode&&n.parentNode.removeChild(n)},Group.prototype.add=function(e){if(this.items[e.id]=e,e.setParent(this),void 0!==e.data.subgroup&&(void 0===this.subgroups[e.data.subgroup]&&(this.subgroups[e.data.subgroup]={height:0,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++),this.subgroups[e.data.subgroup].items.push(e)),this.orderSubgroups(),this.visibleItems.indexOf(e)==-1){var t=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,t)}},Group.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var e=[];if("string"==typeof this.subgroupOrderer){for(var t in this.subgroups)e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort(function(e,t){return e.sortField-t.sortField})}else if("function"==typeof this.subgroupOrderer){for(var t in this.subgroups)e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(e.length>0)for(var i=0;i<e.length;i++)this.subgroups[e[i].subgroup].index=i}},Group.prototype.resetSubgroups=function(){for(var e in this.subgroups)this.subgroups.hasOwnProperty(e)&&(this.subgroups[e].visible=!1)},Group.prototype.remove=function(e){delete this.items[e.id],e.setParent(null);var t=this.visibleItems.indexOf(e);if(t!=-1&&this.visibleItems.splice(t,1),void 0!==e.data.subgroup){var i=this.subgroups[e.data.subgroup];if(i){var n=i.items.indexOf(e);i.items.splice(n,1),i.items.length||(delete this.subgroups[e.data.subgroup],this.subgroupIndex--),this.orderSubgroups()}}},Group.prototype.removeFromDataSet=function(e){this.itemSet.removeItem(e.id)},Group.prototype.order=function(){for(var e=n.toArray(this.items),t=[],i=[],o=0;o<e.length;o++)void 0!==e[o].data.end&&i.push(e[o]),t.push(e[o]);this.orderedItems={byStart:t,byEnd:i},r.orderByStart(this.orderedItems.byStart),r.orderByEnd(this.orderedItems.byEnd)},Group.prototype._updateVisibleItems=function(e,t,i){var r,o,s=[],a={},l=(i.end-i.start)/4,u=i.start-l,c=i.end+l,h=function(e){return e<u?-1:e<=c?0:1};if(t.length>0)for(o=0;o<t.length;o++)this._checkIfVisibleWithReference(t[o],s,a,i);var p=n.binarySearchCustom(e.byStart,h,"data","start");if(this._traceVisible(p,e.byStart,s,a,function(e){return e.data.start<u||e.data.start>c}),1==this.checkRangedItems)for(this.checkRangedItems=!1,o=0;o<e.byEnd.length;o++)this._checkIfVisibleWithReference(e.byEnd[o],s,a,i);else{var d=n.binarySearchCustom(e.byEnd,h,"data","end");this._traceVisible(d,e.byEnd,s,a,function(e){return e.data.end<u||e.data.end>c})}for(o=0;o<s.length;o++)r=s[o],r.displayed||r.show(),r.repositionX();return s},Group.prototype._traceVisible=function(e,t,i,n,r){var o,s;if(e!=-1){for(s=e;s>=0&&(o=t[s],!r(o));s--)void 0===n[o.id]&&(n[o.id]=!0,i.push(o));for(s=e+1;s<t.length&&(o=t[s],!r(o));s++)void 0===n[o.id]&&(n[o.id]=!0,i.push(o))}},Group.prototype._checkIfVisible=function(e,t,i){e.isVisible(i)?(e.displayed||e.show(),e.repositionX(),t.push(e)):e.displayed&&e.hide()},Group.prototype._checkIfVisibleWithReference=function(e,t,i,n){e.isVisible(n)?void 0===i[e.id]&&(i[e.id]=!0,t.push(e)):e.displayed&&e.hide()},e.exports=Group},function(e,t){var i=.001;t.orderByStart=function(e){e.sort(function(e,t){return e.data.start-t.data.start})},t.orderByEnd=function(e){e.sort(function(e,t){var i="end"in e.data?e.data.end:e.data.start,n="end"in t.data?t.data.end:t.data.start;return i-n})},t.stack=function(e,i,n){var r,o;if(n)for(r=0,o=e.length;r<o;r++)e[r].top=null;for(r=0,o=e.length;r<o;r++){var s=e[r];if(s.stack&&null===s.top){s.top=i.axis;do{for(var a=null,l=0,u=e.length;l<u;l++){var c=e[l];if(null!==c.top&&c!==s&&c.stack&&t.collision(s,c,i.item,c.options.rtl)){a=c;break}}null!=a&&(s.top=a.top+a.height+i.item.vertical)}while(a)}}},t.nostack=function(e,t,i){var n,r,o;for(n=0,r=e.length;n<r;n++)if(void 0!==e[n].data.subgroup){o=t.axis;for(var s in i)i.hasOwnProperty(s)&&1==i[s].visible&&i[s].index<i[e[n].data.subgroup].index&&(o+=i[s].height+t.item.vertical);e[n].top=o}else e[n].top=t.axis},t.collision=function(e,t,n,r){return r?e.right-n.horizontal+i<t.right+t.width&&e.right+e.width+n.horizontal-i>t.right&&e.top-n.vertical+i<t.top+t.height&&e.top+e.height+n.vertical-i>t.top:e.left-n.horizontal+i<t.left+t.width&&e.left+e.width+n.horizontal-i>t.left&&e.top-n.vertical+i<t.top+t.height&&e.top+e.height+n.vertical-i>t.top}},function(e,t,i){function RangeItem(e,t,i){if(this.props={content:{width:0}},this.overflow=!1,this.options=i,e){if(void 0==e.start)throw new Error('Property "start" missing in item '+e.id);if(void 0==e.end)throw new Error('Property "end" missing in item '+e.id)}n.call(this,e,t,i)}var n=(i(20),i(39));RangeItem.prototype=new n(null,null,null),RangeItem.prototype.baseClassName="vis-item vis-range",RangeItem.prototype.isVisible=function(e){return this.data.start<e.end&&this.data.end>e.start},RangeItem.prototype.redraw=function(){var e=this.dom;if(e||(this.dom={},e=this.dom,e.box=document.createElement("div"),e.frame=document.createElement("div"),e.frame.className="vis-item-overflow",e.box.appendChild(e.frame),e.content=document.createElement("div"),e.content.className="vis-item-content",e.frame.appendChild(e.content),e.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!e.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(e.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var i=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,n=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly");e.box.className=this.baseClassName+n,this.overflow="hidden"!==window.getComputedStyle(e.frame).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dom.content.style.maxWidth="",this.dirty=!1}this._repaintDeleteButton(e.box),this._repaintDragLeft(),this._repaintDragRight()},RangeItem.prototype.show=function(){this.displayed||this.redraw()},RangeItem.prototype.hide=function(){if(this.displayed){var e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}},RangeItem.prototype.repositionX=function(e){var t,i,n=this.parent.width,r=this.conversion.toScreen(this.data.start),o=this.conversion.toScreen(this.data.end);void 0!==e&&e!==!0||(r<-n&&(r=-n),o>2*n&&(o=2*n));var s=Math.max(o-r,1);switch(this.overflow?(this.options.rtl?this.right=r:this.left=r,this.width=s+this.props.content.width,i=this.props.content.width):(this.options.rtl?this.right=r:this.left=r,this.width=s,i=Math.min(o-r,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=s+"px",this.options.align){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(s-i,0)+"px":this.dom.content.style.left=Math.max(s-i,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((s-i)/2,0)+"px":this.dom.content.style.left=Math.max((s-i)/2,0)+"px";break;default:t=this.overflow?o>0?Math.max(-r,0):-i:r<0?-r:0,this.options.rtl?this.dom.content.style.right=t+"px":this.dom.content.style.left=t+"px"}},RangeItem.prototype.repositionY=function(){var e=this.options.orientation.item,t=this.dom.box;"top"==e?t.style.top=this.top+"px":t.style.top=this.parent.height-this.top-this.height+"px"},RangeItem.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},RangeItem.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},e.exports=RangeItem},function(e,t,i){function Item(e,t,i){this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=t||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this.data&&this.data.hasOwnProperty("editable")&&"boolean"==typeof this.data.editable&&(this.editable=e.editable)}var n=i(20),r=i(1);Item.prototype.stack=!0,Item.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},Item.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},Item.prototype.setData=function(e){var t=void 0!=e.group&&this.data.group!=e.group;t&&this.parent.itemSet._moveToGroup(this,e.group),e.hasOwnProperty("editable")&&"boolean"==typeof e.editable&&(this.editable=e.editable),this.data=e,this.dirty=!0,this.displayed&&this.redraw()},Item.prototype.setParent=function(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e},Item.prototype.isVisible=function(e){return!1},Item.prototype.show=function(){return!1},Item.prototype.hide=function(){return!1},Item.prototype.redraw=function(){},Item.prototype.repositionX=function(){},Item.prototype.repositionY=function(){},Item.prototype._repaintDeleteButton=function(e){var t=(this.options.editable.remove||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&t&&!this.dom.deleteButton){var i=this,r=document.createElement("div");this.options.rtl?r.className="vis-delete-rtl":r.className="vis-delete",r.title="Delete this item",new n(r).on("tap",function(e){e.stopPropagation(),i.parent.removeFromDataSet(i)}),e.appendChild(r),this.dom.deleteButton=r}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},Item.prototype._updateContents=function(e){var t;if(this.options.template){var i=this.parent.itemSet.itemsData.get(this.id);t=this.options.template(i)}else t=this.data.content;var n=this._contentToString(this.content)!==this._contentToString(t);if(n){if(t instanceof Element)e.innerHTML="",e.appendChild(t);else if(void 0!=t)e.innerHTML=t;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=t}},Item.prototype._updateTitle=function(e){null!=this.data.title?e.title=this.data.title||"":e.removeAttribute("vis-title")},Item.prototype._updateDataAttributes=function(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var t=[];if(Array.isArray(this.options.dataAttributes))t=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;t=Object.keys(this.data)}for(var i=0;i<t.length;i++){var n=t[i],r=this.data[n];null!=r?e.setAttribute("data-"+n,r):e.removeAttribute("data-"+n)}}},Item.prototype._updateStyle=function(e){this.style&&(r.removeCssText(e,this.style),this.style=null),this.data.style&&(r.addCssText(e,this.data.style),this.style=this.data.style)},Item.prototype._contentToString=function(e){return"string"==typeof e?e:e&&"outerHTML"in e?e.outerHTML:e},Item.prototype.getWidthLeft=function(){return 0},Item.prototype.getWidthRight=function(){return 0},e.exports=Item},function(e,t,i){function BackgroundGroup(e,t,i){n.call(this,e,t,i),this.width=0,this.height=0,this.top=0,this.left=0}var n=(i(1),i(36));BackgroundGroup.prototype=Object.create(n.prototype),BackgroundGroup.prototype.redraw=function(e,t,i){var n=!1;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var r=0,o=this.visibleItems.length;r<o;r++){var s=this.visibleItems[r];s.repositionY(t)}return n},BackgroundGroup.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},e.exports=BackgroundGroup},function(e,t,i){function BoxItem(e,t,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=i,e&&void 0==e.start)throw new Error('Property "start" missing in item '+e);n.call(this,e,t,i)}var n=i(39);i(1);BoxItem.prototype=new n(null,null,null),BoxItem.prototype.isVisible=function(e){var t=(e.end-e.start)/4;return this.data.start>e.start-t&&this.data.start<e.end+t},BoxItem.prototype.redraw=function(){var e=this.dom;if(e||(this.dom={},e=this.dom,e.box=document.createElement("DIV"),e.content=document.createElement("DIV"),e.content.className="vis-item-content",e.box.appendChild(e.content),e.line=document.createElement("DIV"),e.line.className="vis-line",e.dot=document.createElement("DIV"),e.dot.className="vis-dot",e.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!e.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(e.box)}if(!e.line.parentNode){var i=this.parent.dom.background;if(!i)throw new Error("Cannot redraw item: parent has no background container element");i.appendChild(e.line)}if(!e.dot.parentNode){var n=this.parent.dom.axis;if(!i)throw new Error("Cannot redraw item: parent has no axis container element");n.appendChild(e.dot)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var r=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,o=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(r?" vis-editable":" vis-readonly");e.box.className="vis-item vis-box"+o,e.line.className="vis-item vis-line"+o,e.dot.className="vis-item vis-dot"+o,this.props.dot.height=e.dot.offsetHeight,this.props.dot.width=e.dot.offsetWidth,this.props.line.width=e.line.offsetWidth,this.width=e.box.offsetWidth,this.height=e.box.offsetHeight,this.dirty=!1}this._repaintDeleteButton(e.box)},BoxItem.prototype.show=function(){this.displayed||this.redraw()},BoxItem.prototype.hide=function(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}},BoxItem.prototype.repositionX=function(){var e=this.conversion.toScreen(this.data.start),t=this.options.align;"right"==t?this.options.rtl?(this.right=e-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=e-this.props.line.width+"px",this.dom.dot.style.right=e-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=e-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=e-this.props.line.width+"px",this.dom.dot.style.left=e-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==t?this.options.rtl?(this.right=e,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=e+"px",this.dom.dot.style.right=e+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=e,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=e+"px",this.dom.dot.style.left=e+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=e-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=e-this.props.line.width+"px",this.dom.dot.style.right=e-this.props.dot.width/2+"px"):(this.left=e-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=e-this.props.line.width/2+"px",this.dom.dot.style.left=e-this.props.dot.width/2+"px")},BoxItem.prototype.repositionY=function(){var e=this.options.orientation.item,t=this.dom.box,i=this.dom.line,n=this.dom.dot;if("top"==e)t.style.top=(this.top||0)+"px",i.style.top="0",i.style.height=this.parent.top+this.top+1+"px",i.style.bottom="";else{var r=this.parent.itemSet.props.height,o=r-this.parent.top-this.parent.height+this.top;t.style.top=(this.parent.height-this.top-this.height||0)+"px",i.style.top=r-o+"px",i.style.bottom="0"}n.style.top=-this.props.dot.height/2+"px"},BoxItem.prototype.getWidthLeft=function(){return this.width/2},BoxItem.prototype.getWidthRight=function(){return this.width/2},e.exports=BoxItem},function(e,t,i){function PointItem(e,t,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=i,e&&void 0==e.start)throw new Error('Property "start" missing in item '+e);n.call(this,e,t,i)}var n=i(39);PointItem.prototype=new n(null,null,null),PointItem.prototype.isVisible=function(e){var t=(e.end-e.start)/4;return this.data.start>e.start-t&&this.data.start<e.end+t},PointItem.prototype.redraw=function(){var e=this.dom;if(e||(this.dom={},e=this.dom,e.point=document.createElement("div"),e.content=document.createElement("div"),e.content.className="vis-item-content",e.point.appendChild(e.content),e.dot=document.createElement("div"),e.point.appendChild(e.dot),e.point["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!e.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(e.point)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.point),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var i=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,n=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly");e.point.className="vis-item vis-point"+n,e.dot.className="vis-item vis-dot"+n,this.props.dot.width=e.dot.offsetWidth,this.props.dot.height=e.dot.offsetHeight,this.props.content.height=e.content.offsetHeight,this.options.rtl?e.content.style.marginRight=2*this.props.dot.width+"px":e.content.style.marginLeft=2*this.props.dot.width+"px",this.width=e.point.offsetWidth,this.height=e.point.offsetHeight,e.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?e.dot.style.right=this.props.dot.width/2+"px":e.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1}this._repaintDeleteButton(e.point)},PointItem.prototype.show=function(){this.displayed||this.redraw()},PointItem.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},PointItem.prototype.repositionX=function(){var e=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=e-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=e-this.props.dot.width,this.dom.point.style.left=this.left+"px")},PointItem.prototype.repositionY=function(){var e=this.options.orientation.item,t=this.dom.point;"top"==e?t.style.top=this.top+"px":t.style.top=this.parent.height-this.top-this.height+"px"},PointItem.prototype.getWidthLeft=function(){return this.props.dot.width},PointItem.prototype.getWidthRight=function(){return this.props.dot.width},e.exports=PointItem},function(e,t,i){function BackgroundItem(e,t,i){if(this.props={content:{width:0}},this.overflow=!1,e){if(void 0==e.start)throw new Error('Property "start" missing in item '+e.id);if(void 0==e.end)throw new Error('Property "end" missing in item '+e.id)}n.call(this,e,t,i)}var n=(i(20),i(39)),r=i(40),o=i(38);BackgroundItem.prototype=new n(null,null,null),BackgroundItem.prototype.baseClassName="vis-item vis-background",BackgroundItem.prototype.stack=!1,BackgroundItem.prototype.isVisible=function(e){return this.data.start<e.end&&this.data.end>e.start},BackgroundItem.prototype.redraw=function(){var e=this.dom;if(e||(this.dom={},e=this.dom,e.box=document.createElement("div"),e.frame=document.createElement("div"),e.frame.className="vis-item-overflow",e.box.appendChild(e.frame),e.content=document.createElement("div"),e.content.className="vis-item-content",e.frame.appendChild(e.content),this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!e.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(e.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");e.box.className=this.baseClassName+i,this.overflow="hidden"!==window.getComputedStyle(e.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1}},BackgroundItem.prototype.show=o.prototype.show,BackgroundItem.prototype.hide=o.prototype.hide,BackgroundItem.prototype.repositionX=o.prototype.repositionX,BackgroundItem.prototype.repositionY=function(e){var t="top"===this.options.orientation.item;this.dom.content.style.top=t?"":"0",this.dom.content.style.bottom=t?"0":"";var i;if(void 0!==this.data.subgroup){var n=this.data.subgroup,o=this.parent.subgroups,s=o[n].index;if(1==t){i=this.parent.subgroups[n].height+e.item.vertical,i+=0==s?e.axis-.5*e.item.vertical:0;var a=this.parent.top;for(var l in o)o.hasOwnProperty(l)&&1==o[l].visible&&o[l].index<s&&(a+=o[l].height+e.item.vertical);a+=0!=s?e.axis-.5*e.item.vertical:0,this.dom.box.style.top=a+"px",this.dom.box.style.bottom=""}else{var a=this.parent.top,u=0;for(var l in o)if(o.hasOwnProperty(l)&&1==o[l].visible){var c=o[l].height+e.item.vertical;u+=c,o[l].index>s&&(a+=c)}i=this.parent.subgroups[n].height+e.item.vertical,this.dom.box.style.top=this.parent.height-u+a+"px",this.dom.box.style.bottom=""}}else this.parent instanceof r?(i=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.top=t?"0":"",this.dom.box.style.bottom=t?"":"0"):(i=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=i+"px"},e.exports=BackgroundItem},function(e,t,i){function TimeAxis(e,t){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:s.FORMAT,moment:l,timeAxis:null},this.options=r.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(t)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=i(1),o=i(31),s=i(35),a=i(32),l=i(2);TimeAxis.prototype=new o,TimeAxis.prototype.setOptions=function(e){e&&(r.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e),r.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&("string"==typeof e.orientation?this.options.orientation.axis=e.orientation:"object"===n(e.orientation)&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&("function"==typeof l.locale?l.locale(e.locale):l.lang(e.locale)))},TimeAxis.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},TimeAxis.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},TimeAxis.prototype.redraw=function(){var e=this.props,t=this.dom.foreground,i=this.dom.background,n="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,r=t.parentNode!==n;this._calculateCharSize();var o=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,s=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;e.minorLabelHeight=o?e.minorCharHeight:0,e.majorLabelHeight=s?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=t.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;var a=t.nextSibling,l=i.nextSibling;return t.parentNode&&t.parentNode.removeChild(t),i.parentNode&&i.parentNode.removeChild(i),t.style.height=this.props.height+"px",this._repaintLabels(),a?n.insertBefore(t,a):n.appendChild(t),l?this.body.dom.backgroundVertical.insertBefore(i,l):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||r},TimeAxis.prototype._repaintLabels=function(){var e=this.options.orientation.axis,t=r.convert(this.body.range.start,"Number"),i=r.convert(this.body.range.end,"Number"),n=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),o=n-a.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,n);o-=this.body.util.toTime(0).valueOf();var l=new s(new Date(t),new Date(i),o,this.body.hiddenDates);l.setMoment(this.options.moment),this.options.format&&l.setFormat(this.options.format),this.options.timeAxis&&l.setScale(this.options.timeAxis),this.step=l;var c=this.dom;c.redundant.lines=c.lines,c.redundant.majorTexts=c.majorTexts,c.redundant.minorTexts=c.minorTexts,c.lines=[],c.majorTexts=[],c.minorTexts=[];var h,p,d,f,m,y,v,g,_,b,w=0,C=void 0,x=0,E=1e3;for(l.start(),p=l.getCurrent(),f=this.body.util.toScreen(p);l.hasNext()&&x<E;){x++,m=l.isMajor(),b=l.getClassName(),_=l.getLabelMinor(),h=p,d=f,l.next(),p=l.getCurrent(),y=l.isMajor(),f=this.body.util.toScreen(p),v=w,w=f-d;var S=w>=.4*v;if(this.options.showMinorLabels&&S){var P=this._repaintMinorText(d,_,e,b);P.style.width=w+"px"}m&&this.options.showMajorLabels?(d>0&&(void 0==C&&(C=d),P=this._repaintMajorText(d,l.getLabelMajor(),e,b)),g=this._repaintMajorLine(d,w,e,b)):S?g=this._repaintMinorLine(d,w,e,b):g&&(g.style.width=parseInt(g.style.width)+w+"px")}if(x!==E||u||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to "+E+" lines."),u=!0),this.options.showMajorLabels){var k=this.body.util.toTime(0),T=l.getLabelMajor(k),A=T.length*(this.props.majorCharWidth||10)+10;(void 0==C||A<C)&&this._repaintMajorText(0,T,e,b)}r.forEach(this.dom.redundant,function(e){for(;e.length;){var t=e.pop();t&&t.parentNode&&t.parentNode.removeChild(t)}})},TimeAxis.prototype._repaintMinorText=function(e,t,i,n){var r=this.dom.redundant.minorTexts.shift();if(!r){var o=document.createTextNode("");r=document.createElement("div"),r.appendChild(o),this.dom.foreground.appendChild(r)}return this.dom.minorTexts.push(r),r.childNodes[0].nodeValue=t,r.style.top="top"==i?this.props.majorLabelHeight+"px":"0",this.options.rtl?(r.style.left="",r.style.right=e+"px"):r.style.left=e+"px",r.className="vis-text vis-minor "+n,r},TimeAxis.prototype._repaintMajorText=function(e,t,i,n){var r=this.dom.redundant.majorTexts.shift();if(!r){var o=document.createTextNode(t);r=document.createElement("div"),r.appendChild(o),this.dom.foreground.appendChild(r)}return this.dom.majorTexts.push(r),r.childNodes[0].nodeValue=t,r.className="vis-text vis-major "+n,r.style.top="top"==i?"0":this.props.minorLabelHeight+"px",this.options.rtl?(r.style.left="",r.style.right=e+"px"):r.style.left=e+"px",r},TimeAxis.prototype._repaintMinorLine=function(e,t,i,n){var r=this.dom.redundant.lines.shift();r||(r=document.createElement("div"),this.dom.background.appendChild(r)),this.dom.lines.push(r);var o=this.props;return"top"==i?r.style.top=o.majorLabelHeight+"px":r.style.top=this.body.domProps.top.height+"px",r.style.height=o.minorLineHeight+"px",this.options.rtl?(r.style.left="",r.style.right=e-o.minorLineWidth/2+"px",r.className="vis-grid vis-vertical-rtl vis-minor "+n):(r.style.left=e-o.minorLineWidth/2+"px",r.className="vis-grid vis-vertical vis-minor "+n),r.style.width=t+"px",r},TimeAxis.prototype._repaintMajorLine=function(e,t,i,n){var r=this.dom.redundant.lines.shift();r||(r=document.createElement("div"),this.dom.background.appendChild(r)),this.dom.lines.push(r);var o=this.props;return"top"==i?r.style.top="0":r.style.top=this.body.domProps.top.height+"px",this.options.rtl?(r.style.left="",r.style.right=e-o.majorLineWidth/2+"px",r.className="vis-grid vis-vertical-rtl vis-major "+n):(r.style.left=e-o.majorLineWidth/2+"px",r.className="vis-grid vis-vertical vis-major "+n),r.style.height=o.majorLineHeight+"px",r.style.width=t+"px",r},TimeAxis.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var u=!1;e.exports=TimeAxis},function(e,t,i){function Activator(e){this.active=!1,this.dom={container:e},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=o(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var t=this,i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];i.forEach(function(e){t.hammer.on(e,function(e){e.stopPropagation()})}),document&&document.body&&(this.onClick=function(i){_hasParent(i.target,e)||t.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=n(),this.escListener=this.deactivate.bind(this)}function _hasParent(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}var n=i(23),r=i(13),o=i(20),s=i(1);r(Activator.prototype),Activator.current=null,Activator.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),
this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},Activator.prototype.activate=function(){Activator.current&&Activator.current.deactivate(),Activator.current=this,this.active=!0,this.dom.overlay.style.display="none",s.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},Activator.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",s.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},Activator.prototype._onTapOverlay=function(e){this.activate(),e.stopPropagation()},e.exports=Activator},function(e,t,i){function CustomTime(e,t){this.body=e,this.defaultOptions={moment:s,locales:a,locale:"en",id:void 0,title:void 0},this.options=r.extend({},this.defaultOptions),t&&t.time?this.customTime=t.time:this.customTime=new Date,this.eventParams={},this.setOptions(t),this._create()}var n=i(20),r=i(1),o=i(31),s=i(2),a=i(47);CustomTime.prototype=new o,CustomTime.prototype.setOptions=function(e){e&&r.selectiveExtend(["moment","locale","locales","id"],this.options,e)},CustomTime.prototype._create=function(){var e=document.createElement("div");e["custom-time"]=this,e.className="vis-custom-time "+(this.options.id||""),e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e;var t=document.createElement("div");t.style.position="relative",t.style.top="0px",t.style.left="-10px",t.style.height="100%",t.style.width="20px",e.appendChild(t),this.hammer=new n(t),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:n.DIRECTION_HORIZONTAL})},CustomTime.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},CustomTime.prototype.redraw=function(){var e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));var t=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline.html#Localization"),this.warned=!0),i=this.options.locales.en);var n=this.options.title;return void 0===n&&(n=i.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"),n=n.charAt(0).toUpperCase()+n.substring(1)),this.bar.style.left=t+"px",this.bar.title=n,!1},CustomTime.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},CustomTime.prototype.setCustomTime=function(e){this.customTime=r.convert(e,"Date"),this.redraw()},CustomTime.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},CustomTime.prototype.setCustomTitle=function(e){this.options.title=e},CustomTime.prototype._onDragStart=function(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()},CustomTime.prototype._onDrag=function(e){if(this.eventParams.dragging){var t=this.body.util.toScreen(this.eventParams.customTime)+e.deltaX,i=this.body.util.toTime(t);this.setCustomTime(i),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf())}),e.stopPropagation()}},CustomTime.prototype._onDragEnd=function(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf())}),e.stopPropagation())},CustomTime.customTimeFromTarget=function(e){for(var t=e.target;t;){if(t.hasOwnProperty("custom-time"))return t["custom-time"];t=t.parentNode}return null},e.exports=CustomTime},function(e,t){t.en={current:"current",time:"time"},t.en_EN=t.en,t.en_US=t.en,t.nl={current:"huidige",time:"tijd"},t.nl_NL=t.nl,t.nl_BE=t.nl},function(e,t,i){function CurrentTime(e,t){this.body=e,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:o,locales:s,locale:"en"},this.options=n.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(t)}var n=i(1),r=i(31),o=i(2),s=i(47);CurrentTime.prototype=new r,CurrentTime.prototype._create=function(){var e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e},CurrentTime.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},CurrentTime.prototype.setOptions=function(e){e&&n.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,e)},CurrentTime.prototype.redraw=function(){if(this.options.showCurrentTime){var e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar),this.start());var t=this.options.moment((new Date).valueOf()+this.offset),i=this.body.util.toScreen(t),n=this.options.locales[this.options.locale];n||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),n=this.options.locales.en);var r=n.current+" "+n.time+": "+t.format("dddd, MMMM Do YYYY, H:mm:ss");r=r.charAt(0).toUpperCase()+r.substring(1),this.options.rtl?this.bar.style.right=i+"px":this.bar.style.left=i+"px",this.bar.title=r}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},CurrentTime.prototype.start=function(){function update(){e.stop();var t=e.body.range.conversion(e.body.domProps.center.width).scale,i=1/t/10;i<30&&(i=30),i>1e3&&(i=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=setTimeout(update,i)}var e=this;update()},CurrentTime.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},CurrentTime.prototype.setCurrentTime=function(e){var t=n.convert(e,"Date").valueOf(),i=(new Date).valueOf();this.offset=t-i,this.redraw()},CurrentTime.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},e.exports=CurrentTime},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i="string",n="boolean",r="number",o="array",s="date",a="object",l="dom",u="moment",c="any",h={configure:{enabled:{"boolean":n},filter:{"boolean":n,"function":"function"},container:{dom:l},__type__:{object:a,"boolean":n,"function":"function"}},align:{string:i},rtl:{"boolean":n,undefined:"undefined"},autoResize:{"boolean":n},throttleRedraw:{number:r},clickToUse:{"boolean":n},dataAttributes:{string:i,array:o},editable:{add:{"boolean":n,undefined:"undefined"},remove:{"boolean":n,undefined:"undefined"},updateGroup:{"boolean":n,undefined:"undefined"},updateTime:{"boolean":n,undefined:"undefined"},__type__:{"boolean":n,object:a}},end:{number:r,date:s,string:i,moment:u},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},moment:{"function":"function"},groupOrder:{string:i,"function":"function"},groupEditable:{add:{"boolean":n,undefined:"undefined"},remove:{"boolean":n,undefined:"undefined"},order:{"boolean":n,undefined:"undefined"},__type__:{"boolean":n,object:a}},groupOrderSwap:{"function":"function"},height:{string:i,number:r},hiddenDates:{start:{date:s,number:r,string:i,moment:u},end:{date:s,number:r,string:i,moment:u},repeat:{string:i},__type__:{object:a,array:o}},itemsAlwaysDraggable:{"boolean":n},locale:{string:i},locales:{__any__:{any:c},__type__:{object:a}},margin:{axis:{number:r},item:{horizontal:{number:r,undefined:"undefined"},vertical:{number:r,undefined:"undefined"},__type__:{object:a,number:r}},__type__:{object:a,number:r}},max:{date:s,number:r,string:i,moment:u},maxHeight:{number:r,string:i},maxMinorChars:{number:r},min:{date:s,number:r,string:i,moment:u},minHeight:{number:r,string:i},moveable:{"boolean":n},multiselect:{"boolean":n},multiselectPerGroup:{"boolean":n},onAdd:{"function":"function"},onUpdate:{"function":"function"},onMove:{"function":"function"},onMoving:{"function":"function"},onRemove:{"function":"function"},onAddGroup:{"function":"function"},onMoveGroup:{"function":"function"},onRemoveGroup:{"function":"function"},order:{"function":"function"},orientation:{axis:{string:i,undefined:"undefined"},item:{string:i,undefined:"undefined"},__type__:{string:i,object:a}},selectable:{"boolean":n},showCurrentTime:{"boolean":n},showMajorLabels:{"boolean":n},showMinorLabels:{"boolean":n},stack:{"boolean":n},snap:{"function":"function","null":"null"},start:{date:s,number:r,string:i,moment:u},template:{"function":"function"},groupTemplate:{"function":"function"},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:a}},type:{string:i},width:{string:i,number:r},zoomable:{"boolean":n},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},__type__:{object:a}},p={global:{align:["center","left","right"],direction:!1,autoResize:!0,throttleRedraw:[10,0,1e3,10],clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,start:"",type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};t.allOptions=h,t.configureOptions=p},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function Graph2d(e,t,i,n){if(!(Array.isArray(i)||i instanceof u||i instanceof c)&&i instanceof Object){var r=n;n=i,i=r}var o=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:a,width:null,height:null,maxHeight:null,minHeight:null},this.options=l.deepExtend({},this.defaultOptions),this._create(e),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:o._toScreen.bind(o),toGlobalScreen:o._toGlobalScreen.bind(o),toTime:o._toTime.bind(o),toGlobalTime:o._toGlobalTime.bind(o)}},this.range=new h(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new d(this.body),this.components.push(this.timeAxis),this.currentTime=new f(this.body),this.components.push(this.currentTime),this.linegraph=new y(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(e){o.emit("click",o.getEventProperties(e))}),this.on("doubletap",function(e){o.emit("doubleClick",o.getEventProperties(e))}),this.dom.root.oncontextmenu=function(e){o.emit("contextmenu",o.getEventProperties(e))},n&&this.setOptions(n),i&&this.setGroups(i),t&&this.setItems(t),this._redraw()}var n=i(26),r=_interopRequireDefault(n),o=i(29),s=_interopRequireDefault(o),a=(i(13),i(20),i(2)),l=i(1),u=i(9),c=i(11),h=i(30),p=i(33),d=i(44),f=i(48),m=i(46),y=i(51),v=i(29).printStyle,g=i(59).allOptions,_=i(59).configureOptions;Graph2d.prototype=new p,Graph2d.prototype.setOptions=function(e){var t=s.default.validate(e,g);t===!0&&console.log("%cErrors have been found in the supplied options object.",v),p.prototype.setOptions.call(this,e)},Graph2d.prototype.setItems=function(e){var t,i=null==this.itemsData;if(t=e?e instanceof u||e instanceof c?e:new u(e,{type:{start:"Date",end:"Date"}}):null,this.itemsData=t,this.linegraph&&this.linegraph.setItems(t),i)if(void 0!=this.options.start||void 0!=this.options.end){var n=void 0!=this.options.start?this.options.start:null,r=void 0!=this.options.end?this.options.end:null;this.setWindow(n,r,{animation:!1})}else this.fit({animation:!1})},Graph2d.prototype.setGroups=function(e){var t;t=e?e instanceof u||e instanceof c?e:new u(e):null,this.groupsData=t,this.linegraph.setGroups(t)},Graph2d.prototype.getLegend=function(e,t,i){return void 0===t&&(t=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[e]?this.linegraph.groups[e].getLegend(t,i):"cannot find group:'"+e+"'"},Graph2d.prototype.isGroupVisible=function(e){return void 0!==this.linegraph.groups[e]&&(this.linegraph.groups[e].visible&&(void 0===this.linegraph.options.groups.visibility[e]||1==this.linegraph.options.groups.visibility[e]))},Graph2d.prototype.getDataRange=function(){var e=null,t=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var n=0;n<this.linegraph.groups[i].itemsData.length;n++){var r=this.linegraph.groups[i].itemsData[n],o=l.convert(r.x,"Date").valueOf();e=null==e?o:e>o?o:e,t=null==t?o:t<o?o:t}return{min:null!=e?new Date(e):null,max:null!=t?new Date(t):null}},Graph2d.prototype.getEventProperties=function(e){var t=e.center?e.center.x:e.clientX,i=e.center?e.center.y:e.clientY,n=t-l.getAbsoluteLeft(this.dom.centerContainer),r=i-l.getAbsoluteTop(this.dom.centerContainer),o=this._toTime(n),s=m.customTimeFromTarget(e),a=l.getTarget(e),u=null;l.hasParent(a,this.timeAxis.dom.foreground)?u="axis":this.timeAxis2&&l.hasParent(a,this.timeAxis2.dom.foreground)?u="axis":l.hasParent(a,this.linegraph.yAxisLeft.dom.frame)?u="data-axis":l.hasParent(a,this.linegraph.yAxisRight.dom.frame)?u="data-axis":l.hasParent(a,this.linegraph.legendLeft.dom.frame)?u="legend":l.hasParent(a,this.linegraph.legendRight.dom.frame)?u="legend":null!=s?u="custom-time":l.hasParent(a,this.currentTime.bar)?u="current-time":l.hasParent(a,this.dom.center)&&(u="background");var c=[],h=this.linegraph.yAxisLeft,p=this.linegraph.yAxisRight;return h.hidden||c.push(h.screenToValue(r)),p.hidden||c.push(p.screenToValue(r)),{event:e,what:u,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:n,y:r,time:o,value:c}},Graph2d.prototype._createConfigurator=function(){return new r.default(this,this.dom.container,_)},e.exports=Graph2d},function(e,t,i){function LineGraph(e,t){this.id=r.randomUUID(),this.body=e,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=r.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(e,t,n){i._onAdd(t.items)},update:function(e,t,n){i._onUpdate(t.items)},remove:function(e,t,n){i._onRemove(t.items)}},this.groupListeners={add:function(e,t,n){i._onAddGroups(t.items)},update:function(e,t,n){i._onUpdateGroups(t.items)},remove:function(e,t,n){i._onRemoveGroups(t.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(t),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start,i.svg.style.left=r.option.asSize(-i.props.width),i.forceGraphUpdate=!0,i.redraw.call(i)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=i(1),o=i(8),s=i(9),a=i(11),l=i(31),u=i(52),c=i(54),h=i(58),p=i(55),d=i(57),f=i(56),m="__ungrouped__";LineGraph.prototype=new l,LineGraph.prototype._create=function(){var e=document.createElement("div");e.className="vis-line-graph",this.dom.frame=e,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",e.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new u(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new u(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new h(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new h(this.body,this.options.legend,"right",this.options.groups),this.show()},LineGraph.prototype.setOptions=function(e){if(e){var t=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];void 0===e.graphHeight&&void 0!==e.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==e.graphHeight&&parseInt((e.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),r.selectiveDeepExtend(t,this.options,e),r.mergeOptions(this.options,e,"interpolation"),r.mergeOptions(this.options,e,"drawPoints"),r.mergeOptions(this.options,e,"shaded"),r.mergeOptions(this.options,e,"legend"),e.interpolation&&"object"==n(e.interpolation)&&e.interpolation.parametrization&&("uniform"==e.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==e.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==e.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==e.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(m)&&this.groups[m].setOptions(e)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},LineGraph.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},LineGraph.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},LineGraph.prototype.setItems=function(e){var t,i=this,n=this.itemsData;if(e){if(!(e instanceof s||e instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=e}else this.itemsData=null;if(n&&(r.forEach(this.itemListeners,function(e,t){n.off(t,e)}),t=n.getIds(),this._onRemove(t)),this.itemsData){var o=this.id;r.forEach(this.itemListeners,function(e,t){i.itemsData.on(t,e,o)}),t=this.itemsData.getIds(),this._onAdd(t)}},LineGraph.prototype.setGroups=function(e){var t,i=this;if(this.groupsData){r.forEach(this.groupListeners,function(e,t){i.groupsData.off(t,e)}),t=this.groupsData.getIds(),this.groupsData=null;for(var n=0;n<t.length;n++)this._removeGroup(t[n])}if(e){if(!(e instanceof s||e instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=e}else this.groupsData=null;if(this.groupsData){var o=this.id;r.forEach(this.groupListeners,function(e,t){i.groupsData.on(t,e,o)}),t=this.groupsData.getIds(),this._onAddGroups(t)}},LineGraph.prototype._onUpdate=function(e){this._updateAllGroupData()},LineGraph.prototype._onAdd=function(e){this._onUpdate(e)},LineGraph.prototype._onRemove=function(e){this._onUpdate(e)},LineGraph.prototype._onUpdateGroups=function(e){this._updateAllGroupData()},LineGraph.prototype._onAddGroups=function(e){this._onUpdateGroups(e)},LineGraph.prototype._onRemoveGroups=function(e){for(var t=0;t<e.length;t++)this._removeGroup(e[t]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},LineGraph.prototype._removeGroup=function(e){this.groups.hasOwnProperty(e)&&("right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e),this.legendLeft.redraw()),delete this.groups[e])},LineGraph.prototype._updateGroup=function(e,t){this.groups.hasOwnProperty(t)?(this.groups[t].update(e),"right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.updateGroup(t,this.groups[t]),this.legendRight.updateGroup(t,this.groups[t]),this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t)):(this.yAxisLeft.updateGroup(t,this.groups[t]),this.legendLeft.updateGroup(t,this.groups[t]),this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t))):(this.groups[t]=new c(e,t,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.addGroup(t,this.groups[t]),this.legendRight.addGroup(t,this.groups[t])):(this.yAxisLeft.addGroup(t,this.groups[t]),this.legendLeft.addGroup(t,this.groups[t]))),this.legendLeft.redraw(),this.legendRight.redraw()},LineGraph.prototype._updateAllGroupData=function(){if(null!=this.itemsData){for(var e={},t=this.itemsData.get(),i={},n=0;n<t.length;n++){var o=t[n],s=o.group;null!==s&&void 0!==s||(s=m),i.hasOwnProperty(s)?i[s]++:i[s]=1}for(var n=0;n<t.length;n++){var o=t[n],s=o.group;null!==s&&void 0!==s||(s=m),e.hasOwnProperty(s)||(e[s]=new Array(i[s]));var a=r.bridgeObject(o);a.x=r.convert(o.x,"Date"),a.orginalY=o.y,a.y=Number(o.y);var l=e[s].length-i[s]--;e[s][l]=a}for(var s in this.groups)this.groups.hasOwnProperty(s)&&(e.hasOwnProperty(s)||(e[s]=new Array(0)));for(var s in e)if(e.hasOwnProperty(s))if(0==e[s].length)this.groups.hasOwnProperty(s)&&this._removeGroup(s);else{var u=void 0;void 0!=this.groupsData&&(u=this.groupsData.get(s)),void 0==u&&(u={id:s,content:this.options.defaultGroup+s}),this._updateGroup(u,s),this.groups[s].setItems(e[s])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},LineGraph.prototype.redraw=function(){var e=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,e=this._isResized()||e;var t=this.body.range.end-this.body.range.start,i=t!=this.lastVisibleInterval;if(this.lastVisibleInterval=t,1==e&&(this.svg.style.width=r.option.asSize(3*this.props.width),this.svg.style.left=r.option.asSize(-this.props.width),(this.options.height+"").indexOf("%")==-1&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==e||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)e=this._updateGraph()||e,this.forceGraphUpdate=!1;else if(0!=this.lastStart){var n=this.body.range.start-this.lastStart,o=this.body.range.end-this.body.range.start;if(0!=this.props.width){var s=this.props.width/o,a=n*s;this.svg.style.left=-this.props.width-a+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),e},LineGraph.prototype._getSortedGroupIds=function(){var e=[];for(var t in this.groups)if(this.groups.hasOwnProperty(t)){var i=this.groups[t];1!=i.visible||void 0!==this.options.groups.visibility[t]&&1!=this.options.groups.visibility[t]||e.push({id:t,zIndex:i.options.zIndex})}r.insertSort(e,function(e,t){var i=e.zIndex,n=t.zIndex;return void 0===i&&(i=0),void 0===n&&(n=0),i==n?0:i<n?-1:1});for(var n=new Array(e.length),o=0;o<e.length;o++)n[o]=e[o].id;return n},LineGraph.prototype._updateGraph=function(){if(o.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var e,t,i={},n=!1,r=this.body.util.toGlobalTime(-this.body.domProps.root.width),s=this.body.util.toGlobalTime(2*this.body.domProps.root.width),a=this._getSortedGroupIds();if(a.length>0){var l={};for(this._getRelevantData(a,l,r,s),this._applySampling(a,l),t=0;t<a.length;t++)this._convertXcoordinates(l[a[t]]);if(this._getYRanges(a,l,i),n=this._updateYAxis(a,i),1==n)return o.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var u=void 0;for(t=0;t<a.length;t++)e=this.groups[a[t]],this.options.stack===!0&&"line"===this.options.style&&(void 0!=e.options.excludeFromStacking&&e.options.excludeFromStacking||(void 0!=u&&(this._stack(l[e.id],l[u.id]),1==e.options.shaded.enabled&&"group"!==e.options.shaded.orientation&&("top"==e.options.shaded.orientation&&"group"!==u.options.shaded.orientation?(u.options.shaded.orientation="group",u.options.shaded.groupId=e.id):(e.options.shaded.orientation="group",e.options.shaded.groupId=u.id))),u=e)),this._convertYcoordinates(l[a[t]],e);var c={};for(t=0;t<a.length;t++)if(e=this.groups[a[t]],"line"===e.options.style&&1==e.options.shaded.enabled){var h=l[a[t]];if(null==h||0==h.length)continue;if(c.hasOwnProperty(a[t])||(c[a[t]]=d.calcPath(h,e)),"group"===e.options.shaded.orientation){var m=e.options.shaded.groupId;if(a.indexOf(m)===-1){console.log(e.id+": Unknown shading group target given:"+m);continue}c.hasOwnProperty(m)||(c[m]=d.calcPath(l[m],this.groups[m])),d.drawShading(c[a[t]],e,c[m],this.framework)}else d.drawShading(c[a[t]],e,void 0,this.framework)}for(p.draw(a,l,this.framework),t=0;t<a.length;t++)if(e=this.groups[a[t]],l[a[t]].length>0)switch(e.options.style){case"line":c.hasOwnProperty(a[t])||(c[a[t]]=d.calcPath(l[a[t]],e)),d.draw(c[a[t]],e,this.framework);case"point":case"points":"point"!=e.options.style&&"points"!=e.options.style&&1!=e.options.drawPoints.enabled||f.draw(l[a[t]],e,this.framework);break;case"bar":}}}return o.cleanupElements(this.svgElements),!1},LineGraph.prototype._stack=function(e,t){var i,n,r,o,s;i=0;for(var a=0;a<e.length;a++){o=void 0,s=void 0;for(var l=i;l<t.length;l++){if(t[l].x===e[a].x){o=t[l],s=t[l],i=l;break}if(t[l].x>e[a].x){s=t[l],o=0==l?s:t[l-1],i=l;break}}void 0===s&&(o=t[t.length-1],s=t[t.length-1]),n=s.x-o.x,r=s.y-o.y,0==n?e[a].y=e[a].orginalY+s.y:e[a].y=e[a].orginalY+r/n*(e[a].x-o.x)+o.y}},LineGraph.prototype._getRelevantData=function(e,t,i,n){var o,s,a,l;if(e.length>0)for(s=0;s<e.length;s++){o=this.groups[e[s]];var u=o.getItems();if(1==o.options.sort){var c=function(e,t){return e.getTime()==t.getTime()?0:e<t?-1:1},h=Math.max(0,r.binarySearchValue(u,i,"x","before",c)),p=Math.min(u.length,r.binarySearchValue(u,n,"x","after",c)+1);p<=0&&(p=u.length);var d=new Array(p-h);for(a=h;a<p;a++)l=o.itemsData[a],d[a-h]=l;t[e[s]]=d}else t[e[s]]=o.itemsData}},LineGraph.prototype._applySampling=function(e,t){var i;if(e.length>0)for(var n=0;n<e.length;n++)if(i=this.groups[e[n]],1==i.options.sampling){var r=t[e[n]];if(r.length>0){var o=1,s=r.length,a=this.body.util.toGlobalScreen(r[r.length-1].x)-this.body.util.toGlobalScreen(r[0].x),l=s/a;o=Math.min(Math.ceil(.2*s),Math.max(1,Math.round(l)));for(var u=new Array(s),c=0;c<s;c+=o){var h=Math.round(c/o);u[h]=r[c]}t[e[n]]=u.splice(0,Math.round(s/o))}}},LineGraph.prototype._getYRanges=function(e,t,i){var n,r,o,s,a=[],l=[];if(e.length>0){for(o=0;o<e.length;o++)n=t[e[o]],s=this.groups[e[o]].options,n.length>0&&(r=this.groups[e[o]],s.stack===!0&&"bar"===s.style?"left"===s.yAxisOrientation?a=a.concat(r.getItems()):l=l.concat(r.getItems()):i[e[o]]=r.getYRange(n,e[o]));p.getStackedYRange(a,i,e,"__barStackLeft","left"),p.getStackedYRange(l,i,e,"__barStackRight","right")}},LineGraph.prototype._updateYAxis=function(e,t){var i,n,r=!1,o=!1,s=!1,a=1e9,l=1e9,u=-1e9,c=-1e9;if(e.length>0){for(var h=0;h<e.length;h++){var p=this.groups[e[h]];p&&"right"!=p.options.yAxisOrientation?(o=!0,a=1e9,u=-1e9):p&&p.options.yAxisOrientation&&(s=!0,l=1e9,c=-1e9)}for(var h=0;h<e.length;h++)t.hasOwnProperty(e[h])&&t[e[h]].ignore!==!0&&(i=t[e[h]].min,n=t[e[h]].max,"right"!=t[e[h]].yAxisOrientation?(o=!0,a=a>i?i:a,u=u<n?n:u):(s=!0,l=l>i?i:l,c=c<n?n:c));1==o&&this.yAxisLeft.setRange(a,u),1==s&&this.yAxisRight.setRange(l,c)}r=this._toggleAxisVisiblity(o,this.yAxisLeft)||r,r=this._toggleAxisVisiblity(s,this.yAxisRight)||r,1==s&&1==o?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!o,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(1==s?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,r=this.yAxisLeft.redraw()||r,r=this.yAxisRight.redraw()||r):r=this.yAxisRight.redraw()||r;for(var d=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"],h=0;h<d.length;h++)e.indexOf(d[h])!=-1&&e.splice(e.indexOf(d[h]),1);return r},LineGraph.prototype._toggleAxisVisiblity=function(e,t){var i=!1;return 0==e?t.dom.frame.parentNode&&0==t.hidden&&(t.hide(),i=!0):t.dom.frame.parentNode||1!=t.hidden||(t.show(),i=!0),i},LineGraph.prototype._convertXcoordinates=function(e){for(var t=this.body.util.toScreen,i=0;i<e.length;i++)e[i].screen_x=t(e[i].x)+this.props.width,e[i].screen_y=e[i].y},LineGraph.prototype._convertYcoordinates=function(e,t){var i=this.yAxisLeft,n=Number(this.svg.style.height.replace("px",""));"right"==t.options.yAxisOrientation&&(i=this.yAxisRight);for(var r=0;r<e.length;r++)e[r].screen_y=Math.round(i.convertValue(e[r].y));t.setZeroPosition(Math.min(n,i.convertValue(0)))},e.exports=LineGraph},function(e,t,i){function DataAxis(e,t,i,r){this.id=n.randomUUID(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(e){return""+parseFloat(e.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(e){return""+parseFloat(e.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=r,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=n.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(t),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var o=this;this.body.emitter.on("verticalDrag",function(){o.dom.lineContainer.style.top=o.body.domProps.scrollTop+"px"})}var n=i(1),r=i(8),o=i(31),s=i(53);DataAxis.prototype=new o,DataAxis.prototype.addGroup=function(e,t){this.groups.hasOwnProperty(e)||(this.groups[e]=t),this.amountOfGroups+=1},DataAxis.prototype.updateGroup=function(e,t){
this.groups.hasOwnProperty(e)||(this.amountOfGroups+=1),this.groups[e]=t},DataAxis.prototype.removeGroup=function(e){this.groups.hasOwnProperty(e)&&(delete this.groups[e],this.amountOfGroups-=1)},DataAxis.prototype.setOptions=function(e){if(e){var t=!1;this.options.orientation!=e.orientation&&void 0!==e.orientation&&(t=!0);var i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];n.selectiveDeepExtend(i,this.options,e),this.minWidth=Number((""+this.options.width).replace("px","")),t===!0&&this.dom.frame&&(this.hide(),this.show())}},DataAxis.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},DataAxis.prototype._redrawGroupIcons=function(){r.prepareElements(this.svgElements);var e,t=this.options.iconWidth,i=15,n=4,o=n+.5*i;e="left"===this.options.orientation?n:this.width-t-n;var s=Object.keys(this.groups);s.sort(function(e,t){return e<t?-1:1});for(var a=0;a<s.length;a++){var l=s[a];this.groups[l].visible!==!0||void 0!==this.linegraphOptions.visibility[l]&&this.linegraphOptions.visibility[l]!==!0||(this.groups[l].getLegend(t,i,this.framework,e,o),o+=i+n)}r.cleanupElements(this.svgElements),this.iconsRemoved=!1},DataAxis.prototype._cleanupIcons=function(){this.iconsRemoved===!1&&(r.prepareElements(this.svgElements),r.cleanupElements(this.svgElements),this.iconsRemoved=!0)},DataAxis.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||(this.options.rtl?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.left.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},DataAxis.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},DataAxis.prototype.setRange=function(e,t){this.range.start=e,this.range.end=t},DataAxis.prototype.redraw=function(){var e=!1,t=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var i in this.groups)this.groups.hasOwnProperty(i)&&(this.groups[i].visible!==!0||void 0!==this.linegraphOptions.visibility[i]&&this.linegraphOptions.visibility[i]!==!0||t++);if(0===this.amountOfGroups||0===t)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=this.options.visible===!0?Number((""+this.options.width).replace("px","")):0;var n=this.props,r=this.dom.frame;r.className="vis-data-axis",this._calculateCharSize();var o=this.options.orientation,s=this.options.showMinorLabels,a=this.options.showMajorLabels;n.minorLabelHeight=s?n.minorCharHeight:0,n.majorLabelHeight=a?n.majorCharHeight:0,n.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,n.minorLineHeight=1,n.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,n.majorLineHeight=1,"left"===o?(r.style.top="0",r.style.left="0",r.style.bottom="",r.style.width=this.width+"px",r.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(r.style.top="",r.style.bottom="0",r.style.left="0",r.style.width=this.width+"px",r.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(o)}return e},DataAxis.prototype._redrawLabels=function(){var e=this,t=!1;r.prepareElements(this.DOMelements.lines),r.prepareElements(this.DOMelements.labels);var i=this.options.orientation,n=void 0!=this.options[i].range?this.options[i].range:{},o=!0;void 0!=n.max&&(this.range.end=n.max,o=!1);var a=!0;void 0!=n.min&&(this.range.start=n.min,a=!1),this.scale=new s(this.range.start,this.range.end,a,o,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[i].format),this.master===!1&&void 0!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0;var l=this.scale.getLines();l.forEach(function(t){var n=t.y,r=t.major;e.options.showMinorLabels&&r===!1&&e._redrawLabel(n-2,t.val,i,"vis-y-axis vis-minor",e.props.minorCharHeight),r&&n>=0&&e._redrawLabel(n-2,t.val,i,"vis-y-axis vis-major",e.props.majorCharHeight),e.master===!0&&(r?e._redrawLine(n,i,"vis-grid vis-horizontal vis-major",e.options.majorLinesOffset,e.props.majorLineWidth):e._redrawLine(n,i,"vis-grid vis-horizontal vis-minor",e.options.minorLinesOffset,e.props.minorLineWidth))});var u=0;void 0!==this.options[i].title&&void 0!==this.options[i].title.text&&(u=this.props.titleCharHeight);var c=this.options.icons===!0?Math.max(this.options.iconWidth,u)+this.options.labelOffsetX+15:u+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-c&&this.options.visible===!0?(this.width=this.maxLabelSize+c,this.options.width=this.width+"px",r.cleanupElements(this.DOMelements.lines),r.cleanupElements(this.DOMelements.labels),this.redraw(),t=!0):this.maxLabelSize<this.width-c&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+c),this.options.width=this.width+"px",r.cleanupElements(this.DOMelements.lines),r.cleanupElements(this.DOMelements.labels),this.redraw(),t=!0):(r.cleanupElements(this.DOMelements.lines),r.cleanupElements(this.DOMelements.labels),t=!1),t},DataAxis.prototype.convertValue=function(e){return this.scale.convertValue(e)},DataAxis.prototype.screenToValue=function(e){return this.scale.screenToValue(e)},DataAxis.prototype._redrawLabel=function(e,t,i,n,o){var s=r.getDOMElement("div",this.DOMelements.labels,this.dom.frame);s.className=n,s.innerHTML=t,"left"===i?(s.style.left="-"+this.options.labelOffsetX+"px",s.style.textAlign="right"):(s.style.right="-"+this.options.labelOffsetX+"px",s.style.textAlign="left"),s.style.top=e-.5*o+this.options.labelOffsetY+"px",t+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<t.length*a&&(this.maxLabelSize=t.length*a)},DataAxis.prototype._redrawLine=function(e,t,i,n,o){if(this.master===!0){var s=r.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);s.className=i,s.innerHTML="","left"===t?s.style.left=this.width-n+"px":s.style.right=this.width-n+"px",s.style.width=o+"px",s.style.top=e+"px"}},DataAxis.prototype._redrawTitle=function(e){if(r.prepareElements(this.DOMelements.title),void 0!==this.options[e].title&&void 0!==this.options[e].title.text){var t=r.getDOMElement("div",this.DOMelements.title,this.dom.frame);t.className="vis-y-axis vis-title vis-"+e,t.innerHTML=this.options[e].title.text,void 0!==this.options[e].title.style&&n.addCssText(t,this.options[e].title.style),"left"===e?t.style.left=this.props.titleCharHeight+"px":t.style.right=this.props.titleCharHeight+"px",t.style.width=this.height+"px"}r.cleanupElements(this.DOMelements.title)},DataAxis.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-minor vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.minorCharHeight=t.clientHeight,this.props.minorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0"),n=document.createElement("div");n.className="vis-y-axis vis-major vis-measure",n.appendChild(i),this.dom.frame.appendChild(n),this.props.majorCharHeight=n.clientHeight,this.props.majorCharWidth=n.clientWidth,this.dom.frame.removeChild(n)}if(!("titleCharHeight"in this.props)){var r=document.createTextNode("0"),o=document.createElement("div");o.className="vis-y-axis vis-title vis-measure",o.appendChild(r),this.dom.frame.appendChild(o),this.props.titleCharHeight=o.clientHeight,this.props.titleCharWidth=o.clientWidth,this.dom.frame.removeChild(o)}},e.exports=DataAxis},function(e,t){function DataScale(e,t,i,n,r,o){var s=!(arguments.length<=6||void 0===arguments[6])&&arguments[6],a=!(arguments.length<=7||void 0===arguments[7])&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=r,this.majorCharHeight=o,this._start=e,this._end=t,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=s,this.autoScaleStart=i,this.autoScaleEnd=n,this.formattingFunction=a,i||n){var l=this,u=function(e){var t=e-e%(l.magnitudefactor*l.minorSteps[l.minorStepIdx]);return e%(l.magnitudefactor*l.minorSteps[l.minorStepIdx])>.5*(l.magnitudefactor*l.minorSteps[l.minorStepIdx])?t+l.magnitudefactor*l.minorSteps[l.minorStepIdx]:t};i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=u(this._start)),n&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=u(this._end)),this.determineScale()}}DataScale.prototype.setCharHeight=function(e){this.majorCharHeight=e},DataScale.prototype.setHeight=function(e){this.containerHeight=e},DataScale.prototype.determineScale=function(){var e=this._end-this._start;this.scale=this.containerHeight/e;var t=this.majorCharHeight/this.scale,i=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);var n=0;i<0&&(n=i);for(var r=!1,o=n;Math.abs(o)<=Math.abs(i);o++){this.magnitudefactor=Math.pow(10,o);for(var s=0;s<this.minorSteps.length;s++){var a=this.magnitudefactor*this.minorSteps[s];if(a>=t){r=!0,this.minorStepIdx=s;break}}if(r===!0)break}},DataScale.prototype.is_major=function(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0},DataScale.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},DataScale.prototype.getFirstMajor=function(){var e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)},DataScale.prototype.formatValue=function(e){var t=e.toPrecision(5);return"function"==typeof this.formattingFunction&&(t=this.formattingFunction(e)),"number"==typeof t?""+t:"string"==typeof t?t:e.toPrecision(5)},DataScale.prototype.getLines=function(){for(var e=[],t=this.getStep(),i=(t-this._start%t)%t,n=this._start+i;this._end-n>1e-5;n+=t)n!=this._start&&e.push({major:this.is_major(n),y:this.convertValue(n),val:this.formatValue(n)});return e},DataScale.prototype.followScale=function(e){var t=this.minorStepIdx,i=this._start,n=this._end,r=this,o=function(){r.magnitudefactor*=2},s=function(){r.magnitudefactor/=2};e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1||(e.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==t?o():(o(),o())):(this.minorStepIdx=2,1==t?s():(s(),s())));for(var a=(e.getLines(),e.convertValue(0)),l=e.getStep()*e.scale,u=!1,c=0;!u&&c++<5;){this.scale=l/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var h=this.containerHeight/this.scale;this._start=i,this._end=this._start+h;var p=this._end*this.scale,d=this.magnitudefactor*this.majorSteps[this.minorStepIdx],f=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){var m=a-p;this._end+=m/this.scale,this._start=this._end-h}else this.autoScaleStart?(this._start-=f/this.scale,this._end=this._start+h):(this._start+=d-f/this.scale,this._end=this._start+h);if(!this.autoScaleEnd&&this._end>n+1e-5)s(),u=!1;else{if(!this.autoScaleStart&&this._start<i-1e-5){if(!(this.zeroAlign&&i>=0)){s(),u=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&h<n-i?(o(),u=!1):u=!0}}},DataScale.prototype.convertValue=function(e){return this.containerHeight-(e-this._start)*this.scale},DataScale.prototype.screenToValue=function(e){return(this.containerHeight-e)/this.scale+this._start},e.exports=DataScale},function(e,t,i){function GraphGroup(e,t,i,n){this.id=t;var o=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=r.selectiveBridgeObject(o,i),this.usingDefaultStyle=void 0===e.className,this.groupsUsingDefaultStyles=n,this.zeroPosition=0,this.update(e),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===e.visible||e.visible}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=i(1),o=(i(8),i(55)),s=i(57),a=i(56);GraphGroup.prototype.setItems=function(e){null!=e?(this.itemsData=e,1==this.options.sort&&r.insertSort(this.itemsData,function(e,t){return e.x>t.x?1:-1})):this.itemsData=[]},GraphGroup.prototype.getItems=function(){return this.itemsData},GraphGroup.prototype.setZeroPosition=function(e){this.zeroPosition=e},GraphGroup.prototype.setOptions=function(e){if(void 0!==e){var t=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];r.selectiveDeepExtend(t,this.options,e),"function"==typeof e.drawPoints&&(e.drawPoints={onRender:e.drawPoints}),r.mergeOptions(this.options,e,"interpolation"),r.mergeOptions(this.options,e,"drawPoints"),r.mergeOptions(this.options,e,"shaded"),e.interpolation&&"object"==n(e.interpolation)&&e.interpolation.parametrization&&("uniform"==e.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==e.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}},GraphGroup.prototype.update=function(e){this.group=e,this.content=e.content||"graph",this.className=e.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===e.visible||e.visible,this.style=e.style,this.setOptions(e.options)},GraphGroup.prototype.getLegend=function(e,t,i,n,r){if(void 0==i||null==i){var l=document.createElementNS("http://www.w3.org/2000/svg","svg");i={svg:l,svgElements:{},options:this.options,groups:[this]}}switch(void 0!=n&&null!=n||(n=0),void 0!=r&&null!=r||(r=.5*t),this.options.style){case"line":s.drawIcon(this,n,r,e,t,i);break;case"points":case"point":a.drawIcon(this,n,r,e,t,i);break;case"bar":o.drawIcon(this,n,r,e,t,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},GraphGroup.prototype.getYRange=function(e){for(var t=e[0].y,i=e[0].y,n=0;n<e.length;n++)t=t>e[n].y?e[n].y:t,i=i<e[n].y?e[n].y:i;return{min:t,max:i,yAxisOrientation:this.options.yAxisOrientation}},e.exports=GraphGroup},function(e,t,i){function Bargraph(e,t){}var n=i(8),r=i(56);Bargraph.drawIcon=function(e,t,i,r,o,s){var a=.5*o,l=n.getSVGElement("rect",s.svgElements,s.svg);l.setAttributeNS(null,"x",t),l.setAttributeNS(null,"y",i-a),l.setAttributeNS(null,"width",r),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline");var u=Math.round(.3*r),c=e.options.barChart.width,h=c/u,p=Math.round(.4*o),d=Math.round(.75*o),f=Math.round((r-2*u)/3);if(n.drawBar(t+.5*u+f,i+a-p-1,u,p,e.className+" vis-bar",s.svgElements,s.svg,e.style),n.drawBar(t+1.5*u+f+2,i+a-d-1,u,d,e.className+" vis-bar",s.svgElements,s.svg,e.style),1==e.options.drawPoints.enabled){var m={style:e.options.drawPoints.style,styles:e.options.drawPoints.styles,size:e.options.drawPoints.size/h,className:e.className};n.drawPoint(t+.5*u+f,i+a-p-1,m,s.svgElements,s.svg),n.drawPoint(t+1.5*u+f+2,i+a-d-1,m,s.svgElements,s.svg)}},Bargraph.draw=function(e,t,i){var o,s,a,l,u,c,h=[],p={},d=0;for(u=0;u<e.length;u++)if(l=i.groups[e[u]],"bar"===l.options.style&&l.visible===!0&&(void 0===i.options.groups.visibility[e[u]]||i.options.groups.visibility[e[u]]===!0))for(c=0;c<t[e[u]].length;c++)h.push({screen_x:t[e[u]][c].screen_x,screen_y:t[e[u]][c].screen_y,x:t[e[u]][c].x,y:t[e[u]][c].y,groupId:e[u],label:t[e[u]][c].label}),d+=1;if(0!==d)for(h.sort(function(e,t){return e.screen_x===t.screen_x?e.groupId<t.groupId?-1:1:e.screen_x-t.screen_x}),Bargraph._getDataIntersections(p,h),u=0;u<h.length;u++){l=i.groups[h[u].groupId];var f=void 0!=l.options.barChart.minWidth?l.options.barChart.minWidth:.1*l.options.barChart.width;s=h[u].screen_x;var m=0;if(void 0===p[s])u+1<h.length&&(o=Math.abs(h[u+1].screen_x-s)),a=Bargraph._getSafeDrawData(o,l,f);else{var y=u+(p[s].amount-p[s].resolved);u-(p[s].resolved+1);y<h.length&&(o=Math.abs(h[y].screen_x-s)),a=Bargraph._getSafeDrawData(o,l,f),p[s].resolved+=1,l.options.stack===!0&&l.options.excludeFromStacking!==!0?h[u].screen_y<l.zeroPosition?(m=p[s].accumulatedNegative,p[s].accumulatedNegative+=l.zeroPosition-h[u].screen_y):(m=p[s].accumulatedPositive,p[s].accumulatedPositive+=l.zeroPosition-h[u].screen_y):l.options.barChart.sideBySide===!0&&(a.width=a.width/p[s].amount,a.offset+=p[s].resolved*a.width-.5*a.width*(p[s].amount+1))}if(n.drawBar(h[u].screen_x+a.offset,h[u].screen_y-m,a.width,l.zeroPosition-h[u].screen_y,l.className+" vis-bar",i.svgElements,i.svg,l.style),l.options.drawPoints.enabled===!0){var v={screen_x:h[u].screen_x,screen_y:h[u].screen_y-m,x:h[u].x,y:h[u].y,groupId:h[u].groupId,label:h[u].label};r.draw([v],l,i,a.offset)}}},Bargraph._getDataIntersections=function(e,t){for(var i,n=0;n<t.length;n++)n+1<t.length&&(i=Math.abs(t[n+1].screen_x-t[n].screen_x)),n>0&&(i=Math.min(i,Math.abs(t[n-1].screen_x-t[n].screen_x))),0===i&&(void 0===e[t[n].screen_x]&&(e[t[n].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),e[t[n].screen_x].amount+=1)},Bargraph._getSafeDrawData=function(e,t,i){var n,r;return e<t.options.barChart.width&&e>0?(n=e<i?i:e,r=0,"left"===t.options.barChart.align?r-=.5*e:"right"===t.options.barChart.align&&(r+=.5*e)):(n=t.options.barChart.width,r=0,"left"===t.options.barChart.align?r-=.5*t.options.barChart.width:"right"===t.options.barChart.align&&(r+=.5*t.options.barChart.width)),{width:n,offset:r}},Bargraph.getStackedYRange=function(e,t,i,n,r){if(e.length>0){e.sort(function(e,t){return e.screen_x===t.screen_x?e.groupId<t.groupId?-1:1:e.screen_x-t.screen_x});var o={};Bargraph._getDataIntersections(o,e),t[n]=Bargraph._getStackedYRange(o,e),t[n].yAxisOrientation=r,i.push(n)}},Bargraph._getStackedYRange=function(e,t){for(var i,n=t[0].screen_y,r=t[0].screen_y,o=0;o<t.length;o++)i=t[o].screen_x,void 0===e[i]?(n=n>t[o].screen_y?t[o].screen_y:n,r=r<t[o].screen_y?t[o].screen_y:r):t[o].screen_y<0?e[i].accumulatedNegative+=t[o].screen_y:e[i].accumulatedPositive+=t[o].screen_y;for(var s in e)e.hasOwnProperty(s)&&(n=n>e[s].accumulatedNegative?e[s].accumulatedNegative:n,n=n>e[s].accumulatedPositive?e[s].accumulatedPositive:n,r=r<e[s].accumulatedNegative?e[s].accumulatedNegative:r,r=r<e[s].accumulatedPositive?e[s].accumulatedPositive:r);return{min:n,max:r}},e.exports=Bargraph},function(e,t,i){function Points(e,t){}function getGroupTemplate(e,t){return t="undefined"==typeof t?{}:t,{style:t.style||e.options.drawPoints.style,styles:t.styles||e.options.drawPoints.styles,size:t.size||e.options.drawPoints.size,className:t.className||e.className}}function getCallback(e,t){var i=void 0;return e.options&&e.options.drawPoints&&e.options.drawPoints.onRender&&"function"==typeof e.options.drawPoints.onRender&&(i=e.options.drawPoints.onRender),t.group.options&&t.group.options.drawPoints&&t.group.options.drawPoints.onRender&&"function"==typeof t.group.options.drawPoints.onRender&&(i=t.group.options.drawPoints.onRender),i}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=i(8);Points.draw=function(e,t,i,o){o=o||0;for(var s=getCallback(i,t),a=0;a<e.length;a++)if(s){var l=s(e[a],t);l!==!0&&"object"!==("undefined"==typeof l?"undefined":n(l))||r.drawPoint(e[a].screen_x+o,e[a].screen_y,getGroupTemplate(t,l),i.svgElements,i.svg,e[a].label)}else r.drawPoint(e[a].screen_x+o,e[a].screen_y,getGroupTemplate(t),i.svgElements,i.svg,e[a].label)},Points.drawIcon=function(e,t,i,n,o,s){var a=.5*o,l=r.getSVGElement("rect",s.svgElements,s.svg);l.setAttributeNS(null,"x",t),l.setAttributeNS(null,"y",i-a),l.setAttributeNS(null,"width",n),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline"),r.drawPoint(t+.5*n,i,getGroupTemplate(e),s.svgElements,s.svg)},e.exports=Points},function(e,t,i){function Line(e,t){}var n=i(8);Line.calcPath=function(e,t){if(null!=e&&e.length>0){var i=[];return i=1==t.options.interpolation.enabled?Line._catmullRom(e,t):Line._linear(e)}},Line.drawIcon=function(e,t,i,r,o,s){var a,l,u=.5*o,c=n.getSVGElement("rect",s.svgElements,s.svg);if(c.setAttributeNS(null,"x",t),c.setAttributeNS(null,"y",i-u),c.setAttributeNS(null,"width",r),c.setAttributeNS(null,"height",2*u),c.setAttributeNS(null,"class","vis-outline"),a=n.getSVGElement("path",s.svgElements,s.svg),a.setAttributeNS(null,"class",e.className),void 0!==e.style&&a.setAttributeNS(null,"style",e.style),a.setAttributeNS(null,"d","M"+t+","+i+" L"+(t+r)+","+i),1==e.options.shaded.enabled&&(l=n.getSVGElement("path",s.svgElements,s.svg),"top"==e.options.shaded.orientation?l.setAttributeNS(null,"d","M"+t+", "+(i-u)+"L"+t+","+i+" L"+(t+r)+","+i+" L"+(t+r)+","+(i-u)):l.setAttributeNS(null,"d","M"+t+","+i+" L"+t+","+(i+u)+" L"+(t+r)+","+(i+u)+"L"+(t+r)+","+i),l.setAttributeNS(null,"class",e.className+" vis-icon-fill"),void 0!==e.options.shaded.style&&""!==e.options.shaded.style&&l.setAttributeNS(null,"style",e.options.shaded.style)),1==e.options.drawPoints.enabled){var h={style:e.options.drawPoints.style,styles:e.options.drawPoints.styles,size:e.options.drawPoints.size,className:e.className};n.drawPoint(t+.5*r,i,h,s.svgElements,s.svg)}},Line.drawShading=function(e,t,i,r){if(1==t.options.shaded.enabled){var o=Number(r.svg.style.height.replace("px","")),s=n.getSVGElement("path",r.svgElements,r.svg),a="L";1==t.options.interpolation.enabled&&(a="C");var l,u=0;u="top"==t.options.shaded.orientation?0:"bottom"==t.options.shaded.orientation?o:Math.min(Math.max(0,t.zeroPosition),o),l="group"==t.options.shaded.orientation&&null!=i&&void 0!=i?"M"+e[0][0]+","+e[0][1]+" "+this.serializePath(e,a,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,a,!0)+i[0][0]+","+i[0][1]+" Z":"M"+e[0][0]+","+e[0][1]+" "+this.serializePath(e,a,!1)+" V"+u+" H"+e[0][0]+" Z",s.setAttributeNS(null,"class",t.className+" vis-fill"),void 0!==t.options.shaded.style&&s.setAttributeNS(null,"style",t.options.shaded.style),s.setAttributeNS(null,"d",l)}},Line.draw=function(e,t,i){if(null!=e&&void 0!=e){var r=n.getSVGElement("path",i.svgElements,i.svg);r.setAttributeNS(null,"class",t.className),void 0!==t.style&&r.setAttributeNS(null,"style",t.style);var o="L";1==t.options.interpolation.enabled&&(o="C"),r.setAttributeNS(null,"d","M"+e[0][0]+","+e[0][1]+" "+this.serializePath(e,o,!1))}},Line.serializePath=function(e,t,i){if(e.length<2)return"";var n=t;if(i)for(var r=e.length-2;r>0;r--)n+=e[r][0]+","+e[r][1]+" ";else for(var r=1;r<e.length;r++)n+=e[r][0]+","+e[r][1]+" ";return n},Line._catmullRomUniform=function(e){var t,i,n,r,o,s,a=[];a.push([Math.round(e[0].screen_x),Math.round(e[0].screen_y)]);for(var l=1/6,u=e.length,c=0;c<u-1;c++)t=0==c?e[0]:e[c-1],i=e[c],n=e[c+1],r=c+2<u?e[c+2]:n,o={screen_x:(-t.screen_x+6*i.screen_x+n.screen_x)*l,screen_y:(-t.screen_y+6*i.screen_y+n.screen_y)*l},s={screen_x:(i.screen_x+6*n.screen_x-r.screen_x)*l,screen_y:(i.screen_y+6*n.screen_y-r.screen_y)*l},a.push([o.screen_x,o.screen_y]),a.push([s.screen_x,s.screen_y]),a.push([n.screen_x,n.screen_y]);return a},Line._catmullRom=function(e,t){var i=t.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(e);var n,r,o,s,a,l,u,c,h,p,d,f,m,y,v,g,_,b,w,C=[];C.push([Math.round(e[0].screen_x),Math.round(e[0].screen_y)]);for(var x=e.length,E=0;E<x-1;E++)n=0==E?e[0]:e[E-1],r=e[E],o=e[E+1],s=E+2<x?e[E+2]:o,u=Math.sqrt(Math.pow(n.screen_x-r.screen_x,2)+Math.pow(n.screen_y-r.screen_y,2)),c=Math.sqrt(Math.pow(r.screen_x-o.screen_x,2)+Math.pow(r.screen_y-o.screen_y,2)),h=Math.sqrt(Math.pow(o.screen_x-s.screen_x,2)+Math.pow(o.screen_y-s.screen_y,2)),y=Math.pow(h,i),g=Math.pow(h,2*i),v=Math.pow(c,i),_=Math.pow(c,2*i),w=Math.pow(u,i),b=Math.pow(u,2*i),p=2*b+3*w*v+_,d=2*g+3*y*v+_,f=3*w*(w+v),f>0&&(f=1/f),m=3*y*(y+v),m>0&&(m=1/m),a={screen_x:(-_*n.screen_x+p*r.screen_x+b*o.screen_x)*f,screen_y:(-_*n.screen_y+p*r.screen_y+b*o.screen_y)*f},l={screen_x:(g*r.screen_x+d*o.screen_x-_*s.screen_x)*m,screen_y:(g*r.screen_y+d*o.screen_y-_*s.screen_y)*m},0==a.screen_x&&0==a.screen_y&&(a=r),0==l.screen_x&&0==l.screen_y&&(l=o),C.push([a.screen_x,a.screen_y]),C.push([l.screen_x,l.screen_y]),C.push([o.screen_x,o.screen_y]);return C},Line._linear=function(e){for(var t=[],i=0;i<e.length;i++)t.push([e[i].screen_x,e[i].screen_y]);return t},e.exports=Line},function(e,t,i){function Legend(e,t,i,r){this.body=e,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=n.extend({},this.defaultOptions),this.linegraphOptions=r,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(t)}var n=i(1),r=i(8),o=i(31);Legend.prototype=new o,Legend.prototype.clear=function(){this.groups={},this.amountOfGroups=0},Legend.prototype.addGroup=function(e,t){1!=t.options.excludeFromLegend&&(this.groups.hasOwnProperty(e)||(this.groups[e]=t),this.amountOfGroups+=1)},Legend.prototype.updateGroup=function(e,t){this.groups[e]=t},Legend.prototype.removeGroup=function(e){this.groups.hasOwnProperty(e)&&(delete this.groups[e],this.amountOfGroups-=1)},Legend.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},Legend.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},Legend.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},Legend.prototype.setOptions=function(e){var t=["enabled","orientation","icons","left","right"];n.selectiveDeepExtend(t,this.options,e)},Legend.prototype.redraw=function(){var e=0,t=Object.keys(this.groups);t.sort(function(e,t){return e<t?-1:1});for(var i=0;i<t.length;i++){var n=t[i];1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||e++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==e)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var r=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+r+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());for(var o="",i=0;i<t.length;i++){var n=t[i];1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||(o+=this.groups[n].content+"<br />")}this.dom.textArea.innerHTML=o,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},Legend.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var e=Object.keys(this.groups);e.sort(function(e,t){return e<t?-1:1}),r.resetElements(this.svgElements);var t=window.getComputedStyle(this.dom.frame).paddingTop,i=Number(t.replace("px","")),n=i,o=this.options.iconSize,s=.75*this.options.iconSize,a=i+.5*s+3;this.svg.style.width=o+5+i+"px";for(var l=0;l<e.length;l++){var u=e[l];1!=this.groups[u].visible||void 0!==this.linegraphOptions.visibility[u]&&1!=this.linegraphOptions.visibility[u]||(this.groups[u].getLegend(o,s,this.framework,n,a),a+=s+this.options.iconSpacing)}}},e.exports=Legend},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i="string",n="boolean",r="number",o="array",s="date",a="object",l="dom",u="moment",c="any",h={configure:{enabled:{"boolean":n},filter:{"boolean":n,"function":"function"},container:{dom:l},__type__:{object:a,"boolean":n,"function":"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:i},sort:{"boolean":n},sampling:{"boolean":n},stack:{"boolean":n},graphHeight:{string:i,number:r},shaded:{enabled:{"boolean":n},orientation:{string:["bottom","top","zero","group"]},groupId:{object:a},__type__:{"boolean":n,object:a}},style:{string:["line","bar","points"]},barChart:{width:{number:r},minWidth:{number:r},sideBySide:{"boolean":n},align:{string:["left","center","right"]},__type__:{object:a}},interpolation:{enabled:{"boolean":n},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:r},__type__:{object:a,"boolean":n}},drawPoints:{enabled:{"boolean":n},onRender:{"function":"function"},size:{number:r},style:{string:["square","circle"]},__type__:{object:a,"boolean":n,"function":"function"}},dataAxis:{showMinorLabels:{"boolean":n},showMajorLabels:{"boolean":n},icons:{"boolean":n},width:{string:i,number:r},visible:{"boolean":n},alignZeros:{"boolean":n},left:{range:{min:{number:r},max:{number:r},__type__:{object:a}},format:{"function":"function"},title:{text:{string:i,number:r},style:{string:i},__type__:{object:a}},__type__:{object:a}},right:{range:{min:{number:r},max:{number:r},__type__:{object:a}},format:{"function":"function"},title:{text:{string:i,number:r},style:{string:i},__type__:{object:a}},__type__:{object:a}},__type__:{object:a}},legend:{enabled:{"boolean":n},icons:{"boolean":n},left:{visible:{"boolean":n},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a
}},right:{visible:{"boolean":n},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a}},__type__:{object:a,"boolean":n}},groups:{visibility:{any:c},__type__:{object:a}},autoResize:{"boolean":n},throttleRedraw:{number:r},clickToUse:{"boolean":n},end:{number:r,date:s,string:i,moment:u},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},moment:{"function":"function"},height:{string:i,number:r},hiddenDates:{start:{date:s,number:r,string:i,moment:u},end:{date:s,number:r,string:i,moment:u},repeat:{string:i},__type__:{object:a,array:o}},locale:{string:i},locales:{__any__:{any:c},__type__:{object:a}},max:{date:s,number:r,string:i,moment:u},maxHeight:{number:r,string:i},maxMinorChars:{number:r},min:{date:s,number:r,string:i,moment:u},minHeight:{number:r,string:i},moveable:{"boolean":n},multiselect:{"boolean":n},orientation:{string:i},showCurrentTime:{"boolean":n},showMajorLabels:{"boolean":n},showMinorLabels:{"boolean":n},start:{date:s,number:r,string:i,moment:u},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:a}},width:{string:i,number:r},zoomable:{"boolean":n},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},zIndex:{number:r},__type__:{object:a}},p={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,throttleRedraw:[10,0,1e3,10],clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};t.allOptions=h,t.configureOptions=p},function(e,t,i){t.util=i(1),t.DOMutil=i(8),t.DataSet=i(9),t.DataView=i(11),t.Queue=i(10),t.Network=i(61),t.network={Images:i(62),dotparser:i(118),gephiParser:i(119),allOptions:i(114)},t.network.convertDot=function(e){return t.network.dotparser.DOTToGraph(e)},t.network.convertGephi=function(e,i){return t.network.gephiParser.parseGephi(e,i)},t.moment=i(2),t.Hammer=i(20),t.keycharm=i(23)},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function Network(e,t,i){var n=this;if(!(this instanceof Network))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:z,clickToUse:!1},V.extend(this.options,this.defaultOptions),this.body={container:e,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new r.default(function(){return n.body.emitter.emit("_requestRedraw")}),this.groups=new s.default,this.canvas=new g.default(this.body),this.selectionHandler=new E.default(this.body,this.canvas),this.interactionHandler=new C.default(this.body,this.canvas,this.selectionHandler),this.view=new b.default(this.body,this.canvas),this.renderer=new y.default(this.body,this.canvas),this.physics=new p.default(this.body),this.layoutEngine=new P.default(this.body),this.clustering=new f.default(this.body),this.manipulation=new T.default(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new l.default(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new c.default(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new N.default(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(t)}var n=i(62),r=_interopRequireDefault(n),o=i(63),s=_interopRequireDefault(o),a=i(64),l=_interopRequireDefault(a),u=i(84),c=_interopRequireDefault(u),h=i(93),p=_interopRequireDefault(h),d=i(102),f=_interopRequireDefault(d),m=i(105),y=_interopRequireDefault(m),v=i(106),g=_interopRequireDefault(v),_=i(107),b=_interopRequireDefault(_),w=i(108),C=_interopRequireDefault(w),x=i(111),E=_interopRequireDefault(x),S=i(112),P=_interopRequireDefault(S),k=i(113),T=_interopRequireDefault(k),A=i(26),D=_interopRequireDefault(A),M=i(29),O=_interopRequireDefault(M),I=i(114),R=i(115),N=_interopRequireDefault(R);i(117);var L=i(13),V=i(1),F=(i(9),i(11),i(118)),j=i(119),B=i(45),z=i(120);L(Network.prototype),Network.prototype.setOptions=function(e){var t=this;if(void 0!==e){var i=O.default.validate(e,I.allOptions);i===!0&&console.log("%cErrors have been found in the supplied options object.",M.printStyle);var n=["locale","locales","clickToUse"];if(V.selectiveDeepExtend(n,this.options,e),e=this.layoutEngine.setOptions(e.layout,e),this.canvas.setOptions(e),this.groups.setOptions(e.groups),this.nodesHandler.setOptions(e.nodes),this.edgesHandler.setOptions(e.edges),this.physics.setOptions(e.physics),this.manipulation.setOptions(e.manipulation,e,this.options),this.interactionHandler.setOptions(e.interaction),this.renderer.setOptions(e.interaction),this.selectionHandler.setOptions(e.interaction),void 0!==e.groups&&this.body.emitter.emit("refreshNodes"),"configure"in e&&(this.configurator||(this.configurator=new D.default(this,this.body.container,I.configureOptions,this.canvas.pixelRatio)),this.configurator.setOptions(e.configure)),this.configurator&&this.configurator.options.enabled===!0){var r={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};V.deepExtend(r.nodes,this.nodesHandler.options),V.deepExtend(r.edges,this.edgesHandler.options),V.deepExtend(r.layout,this.layoutEngine.options),V.deepExtend(r.interaction,this.selectionHandler.options),V.deepExtend(r.interaction,this.renderer.options),V.deepExtend(r.interaction,this.interactionHandler.options),V.deepExtend(r.manipulation,this.manipulation.options),V.deepExtend(r.physics,this.physics.options),V.deepExtend(r.global,this.canvas.options),V.deepExtend(r.global,this.options),this.configurator.setModuleOptions(r)}void 0!==e.clickToUse?e.clickToUse===!0?void 0===this.activator&&(this.activator=new B(this.canvas.frame),this.activator.on("change",function(){t.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},Network.prototype._updateVisibleIndices=function(){var e=this.body.nodes,t=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var i in e)e.hasOwnProperty(i)&&e[i].options.hidden===!1&&this.body.nodeIndices.push(e[i].id);for(var n in t)t.hasOwnProperty(n)&&t[n].options.hidden===!1&&this.body.edgeIndices.push(t[n].id)},Network.prototype.bindEventListeners=function(){var e=this;this.body.emitter.on("_dataChanged",function(){e._updateVisibleIndices(),e.body.emitter.emit("_requestRedraw"),e.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){e._updateValueRange(e.body.nodes),e._updateValueRange(e.body.edges),e.body.emitter.emit("startSimulation"),e.body.emitter.emit("_requestRedraw")})},Network.prototype.setData=function(e){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),e&&e.dot&&(e.nodes||e.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(e&&e.options),e&&e.dot){console.log("The dot property has been depricated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=F.DOTToGraph(e.dot);return void this.setData(t)}if(e&&e.gephi){console.log("The gephi property has been depricated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=j.parseGephi(e.gephi);return void this.setData(i)}this.nodesHandler.setData(e&&e.nodes,!0),this.edgesHandler.setData(e&&e.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},Network.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var e in this.body.nodes)delete this.body.nodes[e];for(var t in this.body.edges)delete this.body.edges[t];V.recursiveDOMDelete(this.body.container)},Network.prototype._updateValueRange=function(e){var t,i=void 0,n=void 0,r=0;for(t in e)if(e.hasOwnProperty(t)){var o=e[t].getValue();void 0!==o&&(i=void 0===i?o:Math.min(o,i),n=void 0===n?o:Math.max(o,n),r+=o)}if(void 0!==i&&void 0!==n)for(t in e)e.hasOwnProperty(t)&&e[t].setValueRange(i,n,r)},Network.prototype.isActive=function(){return!this.activator||this.activator.active},Network.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},Network.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},Network.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},Network.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},Network.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},Network.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},Network.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},Network.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},Network.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},Network.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},Network.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},Network.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},Network.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},Network.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},Network.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},Network.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},Network.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},Network.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},Network.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},Network.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},Network.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},Network.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},Network.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},Network.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},Network.prototype.getConnectedNodes=function(e){return void 0!==this.body.nodes[e]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},Network.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},Network.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},Network.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},Network.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},Network.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},Network.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},Network.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},Network.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},Network.prototype.getNodeAt=function(){var e=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},Network.prototype.getEdgeAt=function(){var e=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},Network.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},Network.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},Network.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},Network.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},Network.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},Network.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},Network.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},Network.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},Network.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},Network.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},Network.prototype.getOptionsFromConfigurator=function(){var e={};return this.configurator&&(e=this.configurator.getOptions.apply(this.configurator)),e},e.exports=Network},function(e,t){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=function(){function Images(e){_classCallCheck(this,Images),this.images={},this.imageBroken={},this.callback=e}return i(Images,[{key:"_addImageToCache",value:function(e,t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t)),this.images[e]=t}},{key:"_tryloadBrokenUrl",value:function(e,t,i){var n=this;void 0!==e&&void 0!==t&&void 0!==i&&(i.onerror=function(){console.error("Could not load brokenImage:",t),n._addImageToCache(e,new Image)},i.src=t)}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,t,i){var n=this,r=this.images[e];if(r)return r;var o=new Image;return o.onload=function(){n._addImageToCache(e,o),n._redrawWithImage(o)},o.onerror=function(){console.error("Could not load image:",e),n._tryloadBrokenUrl(e,t,o)},o.src=e,o}}]),Images}();t.default=n},function(e,t,i){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(1),o=function(){function Groups(){_classCallCheck(this,Groups),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},r.extend(this.options,this.defaultOptions)}return n(Groups,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(void 0!==e)for(var i in e)if(e.hasOwnProperty(i)&&t.indexOf(i)===-1){var n=e[i];this.add(i,n)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(e){var t=this.groups[e];if(void 0===t)if(this.options.useDefaultGroups===!1&&this.groupsArray.length>0){var i=this.groupIndex%this.groupsArray.length;this.groupIndex++,t={},t.color=this.groups[this.groupsArray[i]],this.groups[e]=t}else{var n=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,t={},t.color=this.defaultGroups[n],this.groups[e]=t}return t}},{key:"add",value:function(e,t){return this.groups[e]=t,this.groupsArray.push(e),t}}]),Groups}();t.default=o},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(65),o=_interopRequireDefault(r),s=i(66),a=_interopRequireDefault(s),l=i(1),u=i(9),c=i(11),h=function(){function NodesHandler(e,t,i,n){var r=this;_classCallCheck(this,NodesHandler),this.body=e,this.images=t,this.groups=i,this.layoutEngine=n,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(e,t){r.add(t.items)},update:function(e,t){r.update(t.items,t.data)},remove:function(e,t){r.remove(t.items)}},this.options={},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center"},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,i,n){if(t===e)return.5;var r=1/(t-e);return Math.max(0,(n-e)*r)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return n(NodesHandler,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){l.forEach(e.nodesListeners,function(t,i){e.body.data.nodes&&e.body.data.nodes.off(i,t)}),delete e.body.functions.createNode,delete e.nodesListeners.add,delete e.nodesListeners.update,delete e.nodesListeners.remove,delete e.nodesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){if(o.default.parseOptions(this.options,e),void 0!==e.shape)for(var t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&this.body.nodes[t].updateShape();if(void 0!==e.font){a.default.parseOptions(this.options.font,e);for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i]._reset())}if(void 0!==e.size)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&this.body.nodes[n]._reset();void 0===e.hidden&&void 0===e.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,i=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=this.body.data.nodes;if(e instanceof u||e instanceof c)this.body.data.nodes=e;else if(Array.isArray(e))this.body.data.nodes=new u,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new u}n&&l.forEach(this.nodesListeners,function(e,t){n.off(t,e)}),this.body.nodes={},this.body.data.nodes&&!function(){var e=t;l.forEach(t.nodesListeners,function(t,i){e.body.data.nodes.on(i,t)});var i=t.body.data.nodes.getIds();t.add(i,!0)}(),i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],i=void 0,n=[],r=0;r<e.length;r++){i=e[r];var o=this.body.data.nodes.get(i),s=this.create(o);n.push(s),this.body.nodes[i]=s}this.layoutEngine.positionInitially(n),t===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t){for(var i=this.body.nodes,n=!1,r=0;r<e.length;r++){var o=e[r],s=i[o],a=t[r];void 0!==s?n=s.setOptions(a):(n=!0,s=this.create(a),i[o]=s)}n===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,i=0;i<e.length;i++){var n=e[i];delete t[n]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?o.default:arguments[1];return new t(e,this.body,this.images,this.groups,this.options)}},{key:"refresh",value:function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=this.body.nodes;for(var i in t){var n=void 0;t.hasOwnProperty(i)&&(n=t[i]);var r=this.body.data.nodes._data[i];void 0!==n&&void 0!==r&&(e===!0&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(r))}}},{key:"getPositions",value:function(e){var t={};if(void 0!==e){if(Array.isArray(e)===!0){for(var i=0;i<e.length;i++)if(void 0!==this.body.nodes[e[i]]){var n=this.body.nodes[e[i]];t[e[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[e]){var r=this.body.nodes[e];t[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];t[this.body.nodeIndices[o]]={x:Math.round(s.x),y:Math.round(s.y)}}return t}},{key:"storePositions",value:function(){var e=[],t=this.body.data.nodes.getDataSet();for(var i in t._data)if(t._data.hasOwnProperty(i)){var n=this.body.nodes[i];t._data[i].x==Math.round(n.x)&&t._data[i].y==Math.round(n.y)||e.push({id:n.id,x:Math.round(n.x),y:Math.round(n.y)})}t.update(e)}},{key:"getBoundingBox",value:function(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e){var t=[];if(void 0!==this.body.nodes[e])for(var i=this.body.nodes[e],n={},r=0;r<i.edges.length;r++){var o=i.edges[r];o.toId==i.id?void 0===n[o.fromId]&&(t.push(o.fromId),n[o.fromId]=!0):o.fromId==i.id&&void 0===n[o.toId]&&(t.push(o.toId),n[o.toId]=!0)}return t}},{key:"getConnectedEdges",value:function(e){var t=[];if(void 0!==this.body.nodes[e])for(var i=this.body.nodes[e],n=0;n<i.edges.length;n++)t.push(i.edges[n].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}},{key:"moveNode",value:function(e,t,i){var n=this;void 0!==this.body.nodes[e]?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(i),setTimeout(function(){n.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",e)}}]),NodesHandler}();t.default=h},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(66),o=_interopRequireDefault(r),s=i(67),a=_interopRequireDefault(s),l=i(69),u=_interopRequireDefault(l),c=i(71),h=_interopRequireDefault(c),p=i(72),d=_interopRequireDefault(p),f=i(73),m=_interopRequireDefault(f),y=i(75),v=_interopRequireDefault(y),g=i(76),_=_interopRequireDefault(g),b=i(77),w=_interopRequireDefault(b),C=i(78),x=_interopRequireDefault(C),E=i(79),S=_interopRequireDefault(E),P=i(80),k=_interopRequireDefault(P),T=i(81),A=_interopRequireDefault(T),D=i(82),M=_interopRequireDefault(D),O=i(83),I=_interopRequireDefault(O),R=i(29),N=(_interopRequireDefault(R),i(1)),L=function(){function Node(e,t,i,n,r){_classCallCheck(this,Node),this.options=N.bridgeObject(r),this.globalOptions=r,this.body=t,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new o.default(this.body,this.options,(!1)),this.setOptions(e)}return n(Node,[{key:"attachEdge",value:function(e){this.edges.indexOf(e)===-1&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t=this.edges.indexOf(e);t!=-1&&this.edges.splice(t,1)}},{key:"setOptions",value:function(e){var t=this.options.shape;if(e){if(void 0!==e.id&&(this.id=e.id),void 0===this.id)throw"Node must have an id";if(void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=parseFloat(e.value)),"number"==typeof e.group||"string"==typeof e.group&&""!=e.group){var i=this.grouplist.get(e.group);N.deepExtend(this.options,i),this.options.color=N.parseColor(this.options.color)}if(Node.parseOptions(this.options,e,!0,this.globalOptions),void 0!==this.options.image){if(!this.imagelist)throw"No imagelist provided";this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id)}return this.updateLabelModule(),this.updateShape(t),void 0!==e.hidden||void 0!==e.physics}}},{key:"updateLabelModule",value:function(){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize);
}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj);else switch(this.options.shape){case"box":this.shape=new a.default(this.options,this.body,this.labelModule);break;case"circle":this.shape=new u.default(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new h.default(this.options,this.body,this.labelModule,this.imageObj);break;case"database":this.shape=new d.default(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new m.default(this.options,this.body,this.labelModule);break;case"dot":this.shape=new v.default(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new _.default(this.options,this.body,this.labelModule);break;case"icon":this.shape=new w.default(this.options,this.body,this.labelModule);break;case"image":this.shape=new x.default(this.options,this.body,this.labelModule,this.imageObj);break;case"square":this.shape=new S.default(this.options,this.body,this.labelModule);break;case"star":this.shape=new k.default(this.options,this.body,this.labelModule);break;case"text":this.shape=new A.default(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new M.default(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new I.default(this.options,this.body,this.labelModule);break;default:this.shape=new _.default(this.options,this.body,this.labelModule)}this._reset()}},{key:"select",value:function(){this.selected=!0,this._reset()}},{key:"unselect",value:function(){this.selected=!1,this._reset()}},{key:"_reset",value:function(){this.shape.width=void 0,this.shape.height=void 0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(e,t,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*o}this.options.size=this.options.scaling.min+n*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){this.shape.draw(e,this.x,this.y,this.selected,this.hover)}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){this.shape.resize(e,this.selected)}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"parseOptions",value:function(e,t){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],r=["color","font","fixed","shadow"];if(N.selectiveNotDeepExtend(r,e,t,i),N.mergeOptions(e,t,"shadow",i,n),void 0!==t.color&&null!==t.color){var s=N.parseColor(t.color);N.fillIfDefined(e.color,s)}else i===!0&&null===t.color&&(e.color=N.bridgeObject(n.color));void 0!==t.fixed&&null!==t.fixed&&("boolean"==typeof t.fixed?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(void 0!==t.fixed.x&&"boolean"==typeof t.fixed.x&&(e.fixed.x=t.fixed.x),void 0!==t.fixed.y&&"boolean"==typeof t.fixed.y&&(e.fixed.y=t.fixed.y))),void 0!==t.font&&null!==t.font?o.default.parseOptions(e.font,t):i===!0&&null===t.font&&(e.font=N.bridgeObject(n.font)),void 0!==t.scaling&&N.mergeOptions(e.scaling,t.scaling,"label",i,n.scaling)}}]),Node}();t.default=L},function(e,t,i){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(l){r=!0,o=l}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),s=i(1),a=function(){function Label(e,t){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];_classCallCheck(this,Label),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return o(Label,[{key:"setOptions",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];this.nodeOptions=e,this.fontOptions=s.deepExtend({},e.font,!0),void 0!==e.label&&(this.labelDirty=!0),void 0!==e.font&&(Label.parseOptions(this.fontOptions,e,t),"string"==typeof e.font?this.baseSize=this.fontOptions.size:"object"===r(e.font)&&void 0!==e.font.size&&(this.baseSize=e.font.size))}},{key:"draw",value:function(e,t,i,n){var r=arguments.length<=4||void 0===arguments[4]?"middle":arguments[4];if(void 0!==this.nodeOptions.label){var o=this.fontOptions.size*this.body.view.scale;this.nodeOptions.label&&o<this.nodeOptions.scaling.label.drawThreshold-1||(this.calculateLabelSize(e,n,t,i,r),this._drawBackground(e),this._drawText(e,n,t,i,r))}}},{key:"_drawBackground",value:function(e){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;var t=2;if(this.isEdgeLabel)switch(this.fontOptions.align){case"middle":e.fillRect(.5*-this.size.width,.5*-this.size.height,this.size.width,this.size.height);break;case"top":e.fillRect(.5*-this.size.width,-(this.size.height+t),this.size.width,this.size.height);break;case"bottom":e.fillRect(.5*-this.size.width,t,this.size.width,this.size.height);break;default:e.fillRect(this.size.left,this.size.top-.5*t,this.size.width,this.size.height)}else e.fillRect(this.size.left,this.size.top-.5*t,this.size.width,this.size.height)}}},{key:"_drawText",value:function(e,t,i,r){var o=arguments.length<=4||void 0===arguments[4]?"middle":arguments[4],s=this.fontOptions.size,a=s*this.body.view.scale;a>=this.nodeOptions.scaling.label.maxVisible&&(s=Number(this.nodeOptions.scaling.label.maxVisible)/this.body.view.scale);var l=this.size.yLine,u=this._getColor(a),c=n(u,2),h=c[0],p=c[1],d=this._setAlignment(e,i,l,o),f=n(d,2);i=f[0],l=f[1],e.font=(t&&this.nodeOptions.labelHighlightBold?"bold ":"")+s+"px "+this.fontOptions.face,e.fillStyle=h,this.isEdgeLabel||"left"!==this.fontOptions.align?e.textAlign="center":(e.textAlign=this.fontOptions.align,i-=.5*this.size.width),this.fontOptions.strokeWidth>0&&(e.lineWidth=this.fontOptions.strokeWidth,e.strokeStyle=p,e.lineJoin="round");for(var m=0;m<this.lineCount;m++)this.fontOptions.strokeWidth>0&&e.strokeText(this.lines[m],i,l),e.fillText(this.lines[m],i,l),l+=s}},{key:"_setAlignment",value:function(e,t,i,n){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&this.pointToSelf===!1){t=0,i=0;var r=2;"top"===this.fontOptions.align?(e.textBaseline="alphabetic",i-=2*r):"bottom"===this.fontOptions.align?(e.textBaseline="hanging",i+=2*r):e.textBaseline="middle"}else e.textBaseline=n;return[t,i]}},{key:"_getColor",value:function(e){var t=this.fontOptions.color||"#000000",i=this.fontOptions.strokeColor||"#ffffff";if(e<=this.nodeOptions.scaling.label.drawThreshold){var n=Math.max(0,Math.min(1,1-(this.nodeOptions.scaling.label.drawThreshold-e)));t=s.overrideOpacity(t,n),i=s.overrideOpacity(i,n)}return[t,i]}},{key:"getTextSize",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],i={width:this._processLabel(e,t),height:this.fontOptions.size*this.lineCount,lineCount:this.lineCount};return i}},{key:"calculateLabelSize",value:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=arguments.length<=3||void 0===arguments[3]?0:arguments[3],r=arguments.length<=4||void 0===arguments[4]?"middle":arguments[4];this.labelDirty===!0&&(this.size.width=this._processLabel(e,t)),this.size.height=this.fontOptions.size*this.lineCount,this.size.left=i-.5*this.size.width,this.size.top=n-.5*this.size.height,this.size.yLine=n+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===r&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4),this.labelDirty=!1}},{key:"_processLabel",value:function(e,t){var i=0,n=[""],r=0;if(void 0!==this.nodeOptions.label){n=String(this.nodeOptions.label).split("\n"),r=n.length,e.font=(t&&this.nodeOptions.labelHighlightBold?"bold ":"")+this.fontOptions.size+"px "+this.fontOptions.face,i=e.measureText(n[0]).width;for(var o=1;o<r;o++){var s=e.measureText(n[o]).width;i=s>i?s:i}}return this.lines=n,this.lineCount=r,i}}],[{key:"parseOptions",value:function(e,t){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if("string"==typeof t.font){var n=t.font.split(" ");e.size=n[0].replace("px",""),e.face=n[1],e.color=n[2]}else"object"===r(t.font)&&s.fillIfDefined(e,t.font,i);e.size=Number(e.size)}}]),Label}();t.default=a},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(68),o=_interopRequireDefault(r),s=function(e){function Box(e,t,i){return _classCallCheck(this,Box),_possibleConstructorReturn(this,Object.getPrototypeOf(Box).call(this,e,t,i))}return _inherits(Box,e),n(Box,[{key:"resize",value:function(e,t){if(void 0===this.width){var i=5,n=this.labelModule.getTextSize(e,t);this.width=n.width+2*i,this.height=n.height+2*i,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,i,n,r){this.resize(e,n),this.left=t-this.width/2,this.top=i-this.height/2;var o=this.options.borderWidth,s=this.options.borderWidthSelected||2*this.options.borderWidth;e.strokeStyle=n?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,e.lineWidth=n?s:o,e.lineWidth/=this.body.view.scale,e.lineWidth=Math.min(this.width,e.lineWidth),e.fillStyle=n?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background;var a=this.options.shapeProperties.borderRadius;e.roundRect(this.left,this.top,this.width,this.height,a),this.enableShadow(e),e.fill(),this.disableShadow(e),e.save(),o>0&&(this.enableBorderDashes(e),e.stroke(),this.disableBorderDashes(e)),e.restore(),this.updateBoundingBox(t,i,e,n),this.labelModule.draw(e,t,i,n)}},{key:"updateBoundingBox",value:function(e,t,i,n){this.resize(i,n),this.left=e-.5*this.width,this.top=t-.5*this.height;var r=this.options.shapeProperties.borderRadius;this.boundingBox.left=this.left-r,this.boundingBox.top=this.top-r,this.boundingBox.bottom=this.top+this.height+r,this.boundingBox.right=this.left+this.width+r}},{key:"distanceToBorder",value:function(e,t){this.resize(e);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+i}}]),Box}(o.default);t.default=s},function(e,t){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=function(){function NodeBase(e,t,i){_classCallCheck(this,NodeBase),this.body=t,this.labelModule=i,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return i(NodeBase,[{key:"setOptions",value:function(e){this.options=e}},{key:"_distanceToBorder",value:function(e,t){var i=this.options.borderWidth;return this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+i}},{key:"enableShadow",value:function(e){this.options.shadow.enabled===!0&&(e.shadowColor=this.options.shadow.color,e.shadowBlur=this.options.shadow.size,e.shadowOffsetX=this.options.shadow.x,e.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(e){this.options.shadow.enabled===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e){if(this.options.shapeProperties.borderDashes!==!1)if(void 0!==e.setLineDash){var t=this.options.shapeProperties.borderDashes;t===!0&&(t=[5,15]),e.setLineDash(t)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1}},{key:"disableBorderDashes",value:function(e){this.options.shapeProperties.borderDashes!==!1&&(void 0!==e.setLineDash?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1))}}]),NodeBase}();t.default=n},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(70),o=_interopRequireDefault(r),s=function(e){function Circle(e,t,i){return _classCallCheck(this,Circle),_possibleConstructorReturn(this,Object.getPrototypeOf(Circle).call(this,e,t,i))}return _inherits(Circle,e),n(Circle,[{key:"resize",value:function(e,t){if(void 0===this.width){var i=5,n=this.labelModule.getTextSize(e,t),r=Math.max(n.width,n.height)+2*i;this.options.size=r/2,this.width=r,this.height=r,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,i,n,r){this.resize(e,n),this.left=t-this.width/2,this.top=i-this.height/2,this._drawRawCircle(e,t,i,n,r,this.options.size),this.boundingBox.top=i-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=i+this.options.size,this.updateBoundingBox(t,i),this.labelModule.draw(e,t,i,n)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}},{key:"distanceToBorder",value:function(e,t){return this.resize(e),.5*this.width}}]),Circle}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(68),o=_interopRequireDefault(r),s=function(e){function CircleImageBase(e,t,i){_classCallCheck(this,CircleImageBase);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(CircleImageBase).call(this,e,t,i));return n.labelOffset=0,n.imageLoaded=!1,n}return _inherits(CircleImageBase,e),n(CircleImageBase,[{key:"setOptions",value:function(e,t){this.options=e,t&&(this.imageObj=t)}},{key:"_resizeImage",value:function(){var e=!1;if(this.imageObj.width&&this.imageObj.height?this.imageLoaded===!1&&(this.imageLoaded=!0,e=!0):this.imageLoaded=!1,!this.width||!this.height||e===!0){var t,i,n;this.imageObj.width&&this.imageObj.height&&(t=0,i=0),this.options.shapeProperties.useImageSize===!1?this.imageObj.width>this.imageObj.height?(n=this.imageObj.width/this.imageObj.height,t=2*this.options.size*n||this.imageObj.width,i=2*this.options.size||this.imageObj.height):(n=this.imageObj.width&&this.imageObj.height?this.imageObj.height/this.imageObj.width:1,t=2*this.options.size,i=2*this.options.size*n):(t=this.imageObj.width,i=this.imageObj.height),this.width=t,this.height=i,this.radius=.5*this.width}}},{key:"_drawRawCircle",value:function(e,t,i,n,r,o){var s=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth,l=(n?a:s)/this.body.view.scale;e.lineWidth=Math.min(this.width,l),e.strokeStyle=n?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,e.fillStyle=n?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background,e.circle(t,i,o),this.enableShadow(e),e.fill(),this.disableShadow(e),e.save(),l>0&&(this.enableBorderDashes(e),e.stroke(),this.disableBorderDashes(e)),e.restore()}},{key:"_drawImageAtPosition",value:function(e){if(0!=this.imageObj.width){e.globalAlpha=1,this.enableShadow(e);var t=this.imageObj.width/this.width/this.body.view.scale;if(t>2&&this.options.shapeProperties.interpolation===!0){var i=this.imageObj.width,n=this.imageObj.height,r=document.createElement("canvas");r.width=i,r.height=i;var o=r.getContext("2d");t*=.5,i*=.5,n*=.5,o.drawImage(this.imageObj,0,0,i,n);for(var s=0,a=1;t>2&&a<4;)o.drawImage(r,s,0,i,n,s+i,0,i/2,n/2),s+=i,t*=.5,i*=.5,n*=.5,a+=1;e.drawImage(r,s,0,i,n,this.left,this.top,this.width,this.height)}else e.drawImage(this.imageObj,this.left,this.top,this.width,this.height);this.disableShadow(e)}}},{key:"_drawImageLabel",value:function(e,t,i,n){var r,o=0;if(void 0!==this.height){o=.5*this.height;var s=this.labelModule.getTextSize(e);s.lineCount>=1&&(o+=s.height/2)}r=i+o,this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,t,r,n,"hanging")}}]),CircleImageBase}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(70),o=_interopRequireDefault(r),s=function(e){function CircularImage(e,t,i,n){_classCallCheck(this,CircularImage);var r=_possibleConstructorReturn(this,Object.getPrototypeOf(CircularImage).call(this,e,t,i));return r.imageObj=n,r._swapToImageResizeWhenImageLoaded=!0,r}return _inherits(CircularImage,e),n(CircularImage,[{key:"resize",value:function(){if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){if(!this.width){var e=2*this.options.size;this.width=e,this.height=e,this._swapToImageResizeWhenImageLoaded=!0,this.radius=.5*this.width}}else this._swapToImageResizeWhenImageLoaded&&(this.width=void 0,this.height=void 0,this._swapToImageResizeWhenImageLoaded=!1),this._resizeImage()}},{key:"draw",value:function(e,t,i,n,r){this.resize(),this.left=t-this.width/2,this.top=i-this.height/2;var o=Math.min(.5*this.height,.5*this.width);this._drawRawCircle(e,t,i,n,r,o),e.save(),e.clip(),this._drawImageAtPosition(e),e.restore(),this._drawImageLabel(e,t,i,n),this.updateBoundingBox(t,i)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(e,t){return this.resize(e),.5*this.width}}]),CircularImage}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(68),o=_interopRequireDefault(r),s=function(e){function Database(e,t,i){return _classCallCheck(this,Database),_possibleConstructorReturn(this,Object.getPrototypeOf(Database).call(this,e,t,i))}return _inherits(Database,e),n(Database,[{key:"resize",value:function(e,t){if(void 0===this.width){var i=5,n=this.labelModule.getTextSize(e,t),r=n.width+2*i;this.width=r,this.height=r,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,i,n,r){this.resize(e,n),this.left=t-this.width/2,this.top=i-this.height/2;var o=this.options.borderWidth,s=this.options.borderWidthSelected||2*this.options.borderWidth,a=(n?s:o)/this.body.view.scale;e.lineWidth=Math.min(this.width,a),e.strokeStyle=n?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,e.fillStyle=n?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background,e.database(t-this.width/2,i-.5*this.height,this.width,this.height),this.enableShadow(e),e.fill(),this.disableShadow(e),e.save(),a>0&&(this.enableBorderDashes(e),e.stroke(),this.disableBorderDashes(e)),e.restore(),this.updateBoundingBox(t,i,e,n),this.labelModule.draw(e,t,i,n)}},{key:"updateBoundingBox",value:function(e,t,i,n){this.resize(i,n),this.left=e-.5*this.width,this.top=t-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),Database}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(74),o=_interopRequireDefault(r),s=function(e){function Diamond(e,t,i){return _classCallCheck(this,Diamond),_possibleConstructorReturn(this,Object.getPrototypeOf(Diamond).call(this,e,t,i))}return _inherits(Diamond,e),n(Diamond,[{key:"resize",value:function(e){this._resizeShape()}},{key:"draw",value:function(e,t,i,n,r){this._drawShape(e,"diamond",4,t,i,n,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),Diamond}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(68),o=_interopRequireDefault(r),s=function(e){function ShapeBase(e,t,i){return _classCallCheck(this,ShapeBase),_possibleConstructorReturn(this,Object.getPrototypeOf(ShapeBase).call(this,e,t,i))}return _inherits(ShapeBase,e),n(ShapeBase,[{key:"_resizeShape",value:function(){if(void 0===this.width){var e=2*this.options.size;this.width=e,this.height=e,this.radius=.5*this.width}}},{key:"_drawShape",value:function(e,t,i,n,r,o,s){this._resizeShape(),this.left=n-this.width/2,this.top=r-this.height/2;var a=this.options.borderWidth,l=this.options.borderWidthSelected||2*this.options.borderWidth,u=(o?l:a)/this.body.view.scale;if(e.lineWidth=Math.min(this.width,u),e.strokeStyle=o?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,e.fillStyle=o?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background,e[t](n,r,this.options.size),this.enableShadow(e),e.fill(),this.disableShadow(e),e.save(),u>0&&(this.enableBorderDashes(e),e.stroke(),this.disableBorderDashes(e)),e.restore(),void 0!==this.options.label){var c=r+.5*this.height+3;this.labelModule.draw(e,n,c,o,"hanging")}this.updateBoundingBox(n,r)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+3))}}]),ShapeBase}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(74),o=_interopRequireDefault(r),s=function(e){function Dot(e,t,i){return _classCallCheck(this,Dot),_possibleConstructorReturn(this,Object.getPrototypeOf(Dot).call(this,e,t,i))}return _inherits(Dot,e),n(Dot,[{key:"resize",value:function(e){this._resizeShape()}},{key:"draw",value:function(e,t,i,n,r){this._drawShape(e,"circle",2,t,i,n,r)}},{key:"distanceToBorder",value:function(e,t){return this.resize(e),
this.options.size}}]),Dot}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(68),o=_interopRequireDefault(r),s=function(e){function Ellipse(e,t,i){return _classCallCheck(this,Ellipse),_possibleConstructorReturn(this,Object.getPrototypeOf(Ellipse).call(this,e,t,i))}return _inherits(Ellipse,e),n(Ellipse,[{key:"resize",value:function(e,t){if(void 0===this.width){var i=this.labelModule.getTextSize(e,t);this.width=1.5*i.width,this.height=2*i.height,this.width<this.height&&(this.width=this.height),this.radius=.5*this.width}}},{key:"draw",value:function(e,t,i,n,r){this.resize(e,n),this.left=t-.5*this.width,this.top=i-.5*this.height;var o=this.options.borderWidth,s=this.options.borderWidthSelected||2*this.options.borderWidth,a=(n?s:o)/this.body.view.scale;e.lineWidth=Math.min(this.width,a),e.strokeStyle=n?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,e.fillStyle=n?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background,e.ellipse(this.left,this.top,this.width,this.height),this.enableShadow(e),e.fill(),this.disableShadow(e),e.save(),a>0&&(this.enableBorderDashes(e),e.stroke(),this.disableBorderDashes(e)),e.restore(),this.updateBoundingBox(t,i,e,n),this.labelModule.draw(e,t,i,n)}},{key:"updateBoundingBox",value:function(e,t,i,n){this.resize(i,n),this.left=e-.5*this.width,this.top=t-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(e,t){this.resize(e);var i=.5*this.width,n=.5*this.height,r=Math.sin(t)*i,o=Math.cos(t)*n;return i*n/Math.sqrt(r*r+o*o)}}]),Ellipse}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(68),o=_interopRequireDefault(r),s=function(e){function Icon(e,t,i){return _classCallCheck(this,Icon),_possibleConstructorReturn(this,Object.getPrototypeOf(Icon).call(this,e,t,i))}return _inherits(Icon,e),n(Icon,[{key:"resize",value:function(e){if(void 0===this.width){var t=5,i={width:Number(this.options.icon.size),height:Number(this.options.icon.size)};this.width=i.width+2*t,this.height=i.height+2*t,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,i,n,r){if(this.resize(e),this.options.icon.size=this.options.icon.size||50,this.left=t-.5*this.width,this.top=i-.5*this.height,this._icon(e,t,i,n),void 0!==this.options.label){var o=5;this.labelModule.draw(e,t,i+.5*this.height+o,n)}this.updateBoundingBox(t,i)}},{key:"updateBoundingBox",value:function(e,t){if(this.boundingBox.top=t-.5*this.options.icon.size,this.boundingBox.left=e-.5*this.options.icon.size,this.boundingBox.right=e+.5*this.options.icon.size,this.boundingBox.bottom=t+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){var i=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+i)}}},{key:"_icon",value:function(e,t,i,n){var r=Number(this.options.icon.size);void 0!==this.options.icon.code?(e.font=(n?"bold ":"")+r+"px "+this.options.icon.face,e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e),e.fillText(this.options.icon.code,t,i),this.disableShadow(e)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),Icon}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(70),o=_interopRequireDefault(r),s=function(e){function Image(e,t,i,n){_classCallCheck(this,Image);var r=_possibleConstructorReturn(this,Object.getPrototypeOf(Image).call(this,e,t,i));return r.imageObj=n,r}return _inherits(Image,e),n(Image,[{key:"resize",value:function(){this._resizeImage()}},{key:"draw",value:function(e,t,i,n,r){if(this.resize(),this.left=t-this.width/2,this.top=i-this.height/2,this.options.shapeProperties.useBorderWithImage===!0){var o=this.options.borderWidth,s=this.options.borderWidthSelected||2*this.options.borderWidth,a=(n?s:o)/this.body.view.scale;e.lineWidth=Math.min(this.width,a),e.beginPath(),e.strokeStyle=n?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,e.fillStyle=n?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),e.fill(),e.save(),a>0&&(this.enableBorderDashes(e),e.stroke(),this.disableBorderDashes(e)),e.restore(),e.closePath()}this._drawImageAtPosition(e),this._drawImageLabel(e,t,i,n||r),this.updateBoundingBox(t,i)}},{key:"updateBoundingBox",value:function(e,t){this.resize(),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),Image}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(74),o=_interopRequireDefault(r),s=function(e){function Square(e,t,i){return _classCallCheck(this,Square),_possibleConstructorReturn(this,Object.getPrototypeOf(Square).call(this,e,t,i))}return _inherits(Square,e),n(Square,[{key:"resize",value:function(){this._resizeShape()}},{key:"draw",value:function(e,t,i,n,r){this._drawShape(e,"square",2,t,i,n,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),Square}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(74),o=_interopRequireDefault(r),s=function(e){function Star(e,t,i){return _classCallCheck(this,Star),_possibleConstructorReturn(this,Object.getPrototypeOf(Star).call(this,e,t,i))}return _inherits(Star,e),n(Star,[{key:"resize",value:function(e){this._resizeShape()}},{key:"draw",value:function(e,t,i,n,r){this._drawShape(e,"star",4,t,i,n,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),Star}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(68),o=_interopRequireDefault(r),s=function(e){function Text(e,t,i){return _classCallCheck(this,Text),_possibleConstructorReturn(this,Object.getPrototypeOf(Text).call(this,e,t,i))}return _inherits(Text,e),n(Text,[{key:"resize",value:function(e,t){if(void 0===this.width){var i=5,n=this.labelModule.getTextSize(e,t);this.width=n.width+2*i,this.height=n.height+2*i,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,i,n,r){this.resize(e,n||r),this.left=t-this.width/2,this.top=i-this.height/2,this.enableShadow(e),this.labelModule.draw(e,t,i,n||r),this.disableShadow(e),this.updateBoundingBox(t,i,e,n)}},{key:"updateBoundingBox",value:function(e,t,i,n){this.resize(i,n),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),Text}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(74),o=_interopRequireDefault(r),s=function(e){function Triangle(e,t,i){return _classCallCheck(this,Triangle),_possibleConstructorReturn(this,Object.getPrototypeOf(Triangle).call(this,e,t,i))}return _inherits(Triangle,e),n(Triangle,[{key:"resize",value:function(e){this._resizeShape()}},{key:"draw",value:function(e,t,i,n,r){this._drawShape(e,"triangle",3,t,i,n,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),Triangle}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(74),o=_interopRequireDefault(r),s=function(e){function TriangleDown(e,t,i){return _classCallCheck(this,TriangleDown),_possibleConstructorReturn(this,Object.getPrototypeOf(TriangleDown).call(this,e,t,i))}return _inherits(TriangleDown,e),n(TriangleDown,[{key:"resize",value:function(e){this._resizeShape()}},{key:"draw",value:function(e,t,i,n,r){this._drawShape(e,"triangleDown",3,t,i,n,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),TriangleDown}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(85),o=_interopRequireDefault(r),s=i(66),a=_interopRequireDefault(s),l=i(1),u=i(9),c=i(11),h=function(){function EdgesHandler(e,t,i){var n=this;_classCallCheck(this,EdgesHandler),this.body=e,this.images=t,this.groups=i,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(e,t){n.add(t.items)},update:function(e,t){n.update(t.items)},remove:function(e,t){n.remove(t.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1},middle:{enabled:!1,scaleFactor:1},from:{enabled:!1,scaleFactor:1}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal"},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,i,n){if(t===e)return.5;var r=1/(t-e);return Math.max(0,(n-e)*r)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return n(EdgesHandler,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_forceDisableDynamicCurves",function(t){"dynamic"===t&&(t="continuous");var i=!1;for(var n in e.body.edges)if(e.body.edges.hasOwnProperty(n)){var r=e.body.edges[n],o=e.body.data.edges._data[n];if(void 0!==o){var s=o.smooth;void 0!==s&&s.enabled===!0&&"dynamic"===s.type&&(void 0===t?r.setOptions({smooth:!1}):r.setOptions({smooth:{type:t}}),i=!0)}}i===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){e.reconnectEdges(),e.markAllEdgesAsDirty()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){l.forEach(e.edgesListeners,function(t,i){e.body.data.edges&&e.body.data.edges.off(i,t)}),delete e.body.functions.createEdge,delete e.edgesListeners.add,delete e.edgesListeners.update,delete e.edgesListeners.remove,delete e.edgesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){o.default.parseOptions(this.options,e),void 0!==e.color&&this.markAllEdgesAsDirty();var t=!1;if(void 0!==e.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(t=this.body.edges[i].updateEdgeType()||t);if(void 0!==e.font){a.default.parseOptions(this.options.font,e);for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&this.body.edges[n].updateLabelModule()}void 0===e.hidden&&void 0===e.physics&&t!==!0||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,i=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=this.body.data.edges;if(e instanceof u||e instanceof c)this.body.data.edges=e;else if(Array.isArray(e))this.body.data.edges=new u,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new u}if(n&&l.forEach(this.edgesListeners,function(e,t){n.off(t,e)}),this.body.edges={},this.body.data.edges){l.forEach(this.edgesListeners,function(e,i){t.body.data.edges.on(i,e)});var r=this.body.data.edges.getIds();this.add(r,!0)}i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],i=this.body.edges,n=this.body.data.edges,r=0;r<e.length;r++){var o=e[r],s=i[o];s&&s.disconnect();var a=n.get(o,{showInternalIds:!0});i[o]=this.create(a)}t===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,i=this.body.data.edges,n=!1,r=0;r<e.length;r++){var o=e[r],s=i.get(o),a=t[o];void 0!==a?(a.disconnect(),n=a.setOptions(s)||n,a.connect()):(this.body.edges[o]=this.create(s),n=!0)}n===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.edges,i=0;i<e.length;i++){var n=e[i],r=t[n];void 0!==r&&(r.cleanup(),r.disconnect(),delete t[n])}this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function(){var e=this.body.edges;for(var t in e){var i=void 0;e.hasOwnProperty(t)&&(i=e[t]);var n=this.body.data.edges._data[t];void 0!==i&&void 0!==n&&i.setOptions(n)}}},{key:"create",value:function(e){return new o.default(e,this.body,this.options)}},{key:"markAllEdgesAsDirty",value:function(){for(var e in this.body.edges)this.body.edges[e].edgeType.colorDirty=!0}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,i=this.body.edges;for(e in t)t.hasOwnProperty(e)&&(t[e].edges=[]);for(e in i)if(i.hasOwnProperty(e)){var n=i[e];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(void 0!==this.body.edges[e]){var i=this.body.edges[e];i.fromId&&t.push(i.fromId),i.toId&&t.push(i.toId)}return t}}]),EdgesHandler}();t.default=h},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),o=i(66),s=_interopRequireDefault(o),a=i(86),l=_interopRequireDefault(a),u=i(90),c=_interopRequireDefault(u),h=i(91),p=_interopRequireDefault(h),d=i(92),f=_interopRequireDefault(d),m=i(1),y=function(){function Edge(e,t,i){if(_classCallCheck(this,Edge),void 0===t)throw"No body provided";this.options=m.bridgeObject(i),this.globalOptions=i,this.body=t,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.colorDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new s.default(this.body,this.options,(!0)),this.setOptions(e)}return r(Edge,[{key:"setOptions",value:function(e){if(e){this.colorDirty=!0,Edge.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value)),this.updateLabelModule();var t=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===e.hidden&&void 0===e.physics||(t=!0),t}}},{key:"updateLabelModule",value:function(){this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=!1,t=!0,i=this.options.smooth;return void 0!==this.edgeType&&(this.edgeType instanceof c.default&&i.enabled===!0&&"dynamic"===i.type&&(t=!1),this.edgeType instanceof l.default&&i.enabled===!0&&"cubicBezier"===i.type&&(t=!1),this.edgeType instanceof p.default&&i.enabled===!0&&"dynamic"!==i.type&&"cubicBezier"!==i.type&&(t=!1),this.edgeType instanceof f.default&&i.enabled===!1&&(t=!1),t===!0&&(e=this.cleanup())),t===!0?this.options.smooth.enabled===!0?"dynamic"===this.options.smooth.type?(e=!0,this.edgeType=new c.default(this.options,this.body,this.labelModule)):"cubicBezier"===this.options.smooth.type?this.edgeType=new l.default(this.options,this.body,this.labelModule):this.edgeType=new p.default(this.options,this.body,this.labelModule):this.edgeType=new f.default(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(e,t,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*o}this.options.width=this.options.scaling.min+n*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,this.options.arrows.from.enabled===!0&&(i.from=this.edgeType.getArrowData(e,"from",t,this.selected,this.hover),this.options.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core)),this.options.arrows.to.enabled===!0&&(i.to=this.edgeType.getArrowData(e,"to",t,this.selected,this.hover),this.options.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core)),this.options.arrows.middle.enabled===!0&&(i.middle=this.edgeType.getArrowData(e,"middle",t,this.selected,this.hover)),this.edgeType.drawLine(e,this.selected,this.hover,t),this.drawArrows(e,i),this.drawLabel(e,t)}},{key:"drawArrows",value:function(e,t){this.options.arrows.from.enabled===!0&&this.edgeType.drawArrowHead(e,this.selected,this.hover,t.from),this.options.arrows.middle.enabled===!0&&this.edgeType.drawArrowHead(e,this.selected,this.hover,t.middle),this.options.arrows.to.enabled===!0&&this.edgeType.drawArrowHead(e,this.selected,this.hover,t.to)}},{key:"drawLabel",value:function(e,t){if(void 0!==this.options.label){var i=this.from,n=this.to,r=this.from.selected||this.to.selected||this.selected;if(i.id!=n.id){this.labelModule.pointToSelf=!1;var o=this.edgeType.getPoint(.5,t);e.save(),"horizontal"!==this.options.font.align&&(this.labelModule.calculateLabelSize(e,r,o.x,o.y),e.translate(o.x,this.labelModule.size.yLine),this._rotateForLabelAlignment(e)),this.labelModule.draw(e,o.x,o.y,r),e.restore()}else{this.labelModule.pointToSelf=!0;var s,a,l=this.options.selfReferenceSize;i.shape.width>i.shape.height?(s=i.x+.5*i.shape.width,a=i.y-l):(s=i.x+l,a=i.y-.5*i.shape.height),o=this._pointOnCircle(s,a,l,.125),this.labelModule.draw(e,o.x,o.y,r)}}}},{key:"isOverlappingWith",value:function(e){if(this.connected){var t=10,i=this.from.x,n=this.from.y,r=this.to.x,o=this.to.y,s=e.left,a=e.top,l=this.edgeType.getDistanceToEdge(i,n,r,o,s,a);return l<t}return!1}},{key:"_rotateForLabelAlignment",value:function(e){var t=this.from.y-this.to.y,i=this.from.x-this.to.x,n=Math.atan2(t,i);(n<-1&&i<0||n>0&&i<0)&&(n+=Math.PI),e.rotate(n)}},{key:"_pointOnCircle",value:function(e,t,i,n){var r=2*n*Math.PI;return{x:e+i*Math.cos(r),y:t-i*Math.sin(r)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}}],[{key:"parseOptions",value:function(e,t){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],o=["arrowStrikethrough","id","from","hidden","hoverWidth","label","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width"];if(m.selectiveDeepExtend(o,e,t,i),m.mergeOptions(e,t,"smooth",i,r),m.mergeOptions(e,t,"shadow",i,r),void 0!==t.dashes&&null!==t.dashes?e.dashes=t.dashes:i===!0&&null===t.dashes&&(e.dashes=Object.create(r.dashes)),void 0!==t.scaling&&null!==t.scaling?(void 0!==t.scaling.min&&(e.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(e.scaling.max=t.scaling.max),m.mergeOptions(e.scaling,t.scaling,"label",i,r.scaling)):i===!0&&null===t.scaling&&(e.scaling=Object.create(r.scaling)),void 0!==t.arrows&&null!==t.arrows)if("string"==typeof t.arrows){var a=t.arrows.toLowerCase();e.arrows.to.enabled=a.indexOf("to")!=-1,e.arrows.middle.enabled=a.indexOf("middle")!=-1,e.arrows.from.enabled=a.indexOf("from")!=-1}else{if("object"!==n(t.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+JSON.stringify(t.arrows));m.mergeOptions(e.arrows,t.arrows,"to",i,r.arrows),m.mergeOptions(e.arrows,t.arrows,"middle",i,r.arrows),m.mergeOptions(e.arrows,t.arrows,"from",i,r.arrows)}else i===!0&&null===t.arrows&&(e.arrows=Object.create(r.arrows));if(void 0!==t.color&&null!==t.color)if(e.color=m.deepExtend({},e.color,!0),m.isString(t.color))e.color.color=t.color,e.color.highlight=t.color,e.color.hover=t.color,e.color.inherit=!1;else{var l=!1;void 0!==t.color.color&&(e.color.color=t.color.color,l=!0),void 0!==t.color.highlight&&(e.color.highlight=t.color.highlight,l=!0),void 0!==t.color.hover&&(e.color.hover=t.color.hover,l=!0),void 0!==t.color.inherit&&(e.color.inherit=t.color.inherit),void 0!==t.color.opacity&&(e.color.opacity=Math.min(1,Math.max(0,t.color.opacity))),void 0===t.color.inherit&&l===!0&&(e.color.inherit=!1)}else i===!0&&null===t.color&&(e.color=m.bridgeObject(r.color));void 0!==t.font&&null!==t.font?s.default.parseOptions(e.font,t):i===!0&&null===t.font&&(e.font=m.bridgeObject(r.font))}}]),Edge}();t.default=y},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(l){r=!0,o=l}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),o=i(87),s=_interopRequireDefault(o),a=function(e){function CubicBezierEdge(e,t,i){return _classCallCheck(this,CubicBezierEdge),_possibleConstructorReturn(this,Object.getPrototypeOf(CubicBezierEdge).call(this,e,t,i))}return _inherits(CubicBezierEdge,e),r(CubicBezierEdge,[{key:"_line",value:function(e,t){var i=t[0],n=t[1];e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===t||void 0===i.x?e.lineTo(this.toPoint.x,this.toPoint.y):e.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y),this.enableShadow(e),e.stroke(),this.disableShadow(e)}},{key:"_getViaCoordinates",value:function(){var e=this.from.x-this.to.x,t=this.from.y-this.to.y,i=void 0,n=void 0,r=void 0,o=void 0,s=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(t)||this.options.smooth.forceDirection===!0||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(n=this.from.y,o=this.to.y,i=this.from.x-s*e,r=this.to.x+s*e):(n=this.from.y-s*t,o=this.to.y+s*t,i=this.from.x,r=this.to.x),[{x:i,y:n},{x:r,y:o}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(e,t){return this._findBorderPositionBezier(e,t)}},{key:"_getDistanceToEdge",value:function(e,t,i,r,o,s){var a=arguments.length<=6||void 0===arguments[6]?this._getViaCoordinates():arguments[6],l=n(a,2),u=l[0],c=l[1];return this._getDistanceToBezierEdge(e,t,i,r,o,s,u,c)}},{key:"getPoint",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this._getViaCoordinates():arguments[1],i=n(t,2),r=i[0],o=i[1],s=e,a=[];a[0]=Math.pow(1-s,3),a[1]=3*s*Math.pow(1-s,2),a[2]=3*Math.pow(s,2)*(1-s),a[3]=Math.pow(s,3);var l=a[0]*this.fromPoint.x+a[1]*r.x+a[2]*o.x+a[3]*this.toPoint.x,u=a[0]*this.fromPoint.y+a[1]*r.y+a[2]*o.y+a[3]*this.toPoint.y;return{x:l,y:u}}}]),CubicBezierEdge}(s.default);t.default=a},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(88),o=_interopRequireDefault(r),s=function(e){function CubicBezierEdgeBase(e,t,i){return _classCallCheck(this,CubicBezierEdgeBase),_possibleConstructorReturn(this,Object.getPrototypeOf(CubicBezierEdgeBase).call(this,e,t,i))}return _inherits(CubicBezierEdgeBase,e),n(CubicBezierEdgeBase,[{key:"_getDistanceToBezierEdge",value:function(e,t,i,n,r,o,s,a){var l=1e9,u=void 0,c=void 0,h=void 0,p=void 0,d=void 0,f=e,m=t,y=[0,0,0,0];for(c=1;c<10;c++)h=.1*c,y[0]=Math.pow(1-h,3),y[1]=3*h*Math.pow(1-h,2),y[2]=3*Math.pow(h,2)*(1-h),y[3]=Math.pow(h,3),p=y[0]*e+y[1]*s.x+y[2]*a.x+y[3]*i,d=y[0]*t+y[1]*s.y+y[2]*a.y+y[3]*n,c>0&&(u=this._getDistanceToLine(f,m,p,d,r,o),l=u<l?u:l),f=p,m=d;return l}}]),CubicBezierEdgeBase}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(89),o=_interopRequireDefault(r),s=function(e){function BezierEdgeBase(e,t,i){return _classCallCheck(this,BezierEdgeBase),_possibleConstructorReturn(this,Object.getPrototypeOf(BezierEdgeBase).call(this,e,t,i))}return _inherits(BezierEdgeBase,e),n(BezierEdgeBase,[{key:"_findBorderPositionBezier",value:function(e,t){var i,n,r,o,s,a=arguments.length<=2||void 0===arguments[2]?this._getViaCoordinates():arguments[2],l=10,u=0,c=0,h=1,p=.2,d=this.to,f=!1;for(e.id===this.from.id&&(d=this.from,f=!0);c<=h&&u<l;){var m=.5*(c+h);if(i=this.getPoint(m,a),n=Math.atan2(d.y-i.y,d.x-i.x),r=d.distanceToBorder(t,n),o=Math.sqrt(Math.pow(i.x-d.x,2)+Math.pow(i.y-d.y,2)),s=r-o,Math.abs(s)<p)break;s<0?f===!1?c=m:h=m:f===!1?h=m:c=m,u++}return i.t=m,i}},{key:"_getDistanceToBezierEdge",value:function(e,t,i,n,r,o,s){var a=1e9,l=void 0,u=void 0,c=void 0,h=void 0,p=void 0,d=e,f=t;for(u=1;u<10;u++)c=.1*u,h=Math.pow(1-c,2)*e+2*c*(1-c)*s.x+Math.pow(c,2)*i,p=Math.pow(1-c,2)*t+2*c*(1-c)*s.y+Math.pow(c,2)*n,u>0&&(l=this._getDistanceToLine(d,f,h,p,r,o),a=l<a?l:a),d=h,f=p;return a}}]),BezierEdgeBase}(o.default);t.default=s},function(e,t,i){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(l){r=!0,o=l}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),o=i(1),s=function(){function EdgeBase(e,t,i){_classCallCheck(this,EdgeBase),this.body=t,this.labelModule=i,this.options={},this.setOptions(e),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return r(EdgeBase,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,t,i,n){e.strokeStyle=this.getColor(e,t,i),e.lineWidth=this.getLineWidth(t,i),this.options.dashes!==!1?this._drawDashedLine(e,n):this._drawLine(e,n)}},{key:"_drawLine",value:function(e,t,i,r){if(this.from!=this.to)this._line(e,t,i,r);else{var o=this._getCircleData(e),s=n(o,3),a=s[0],l=s[1],u=s[2];this._circle(e,a,l,u)}}},{key:"_drawDashedLine",value:function(e,t,i,r){e.lineCap="round";var o=[5,5];if(Array.isArray(this.options.dashes)===!0&&(o=this.options.dashes),void 0!==e.setLineDash){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,t);else{var s=this._getCircleData(e),a=n(s,3),l=a[0],u=a[1],c=a[2];this._circle(e,l,u,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)e.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,o);else{var h=this._getCircleData(e),p=n(h,3),d=p[0],f=p[1],m=p[2];this._circle(e,d,f,m)}this.enableShadow(e),e.stroke(),this.disableShadow(e)}}},{key:"findBorderPosition",value:function(e,t,i){return this.from!=this.to?this._findBorderPosition(e,t,i):this._findBorderPositionCircle(e,t,i)}},{key:"findBorderPositions",value:function(e){var t={},i={};if(this.from!=this.to)t=this._findBorderPosition(this.from,e),i=this._findBorderPosition(this.to,e);else{var r=this._getCircleData(e),o=n(r,3),s=o[0],a=o[1];o[2];t=this._findBorderPositionCircle(this.from,e,{x:s,y:a,low:.25,high:.6,direction:-1}),i=this._findBorderPositionCircle(this.from,e,{x:s,y:a,low:.6,high:.8,direction:1})}return{from:t,to:i}}},{key:"_getCircleData",value:function(e){var t=void 0,i=void 0,n=this.from,r=this.options.selfReferenceSize;return void 0!==e&&void 0===n.shape.width&&n.shape.resize(e),n.shape.width>n.shape.height?(t=n.x+.5*n.shape.width,i=n.y-r):(t=n.x+r,i=n.y-.5*n.shape.height),[t,i,r]}},{key:"_pointOnCircle",value:function(e,t,i,n){var r=2*n*Math.PI;return{x:e+i*Math.cos(r),y:t-i*Math.sin(r)}}},{key:"_findBorderPositionCircle",value:function(e,t,i){for(var n=i.x,r=i.y,o=i.low,s=i.high,a=i.direction,l=10,u=0,c=this.options.selfReferenceSize,h=void 0,p=void 0,d=void 0,f=void 0,m=void 0,y=.05,v=.5*(o+s);o<=s&&u<l&&(v=.5*(o+s),h=this._pointOnCircle(n,r,c,v),p=Math.atan2(e.y-h.y,e.x-h.x),d=e.distanceToBorder(t,p),f=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),m=d-f,!(Math.abs(m)<y));)m>0?a>0?o=v:s=v:a>0?s=v:o=v,u++;return h.t=v,h}},{key:"getLineWidth",value:function(e,t){return e===!0?Math.max(this.selectionWidth,.3/this.body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(e,t,i){var n=this.options.color;if(n.inherit!==!1){if("both"===n.inherit&&this.from.id!==this.to.id){var r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),s=void 0,a=void 0;return s=this.from.options.color.highlight.border,a=this.to.options.color.highlight.border,this.from.selected===!1&&this.to.selected===!1?(s=o.overrideOpacity(this.from.options.color.border,this.options.color.opacity),a=o.overrideOpacity(this.to.options.color.border,this.options.color.opacity)):this.from.selected===!0&&this.to.selected===!1?a=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(s=this.from.options.color.border),r.addColorStop(0,s),r.addColorStop(1,a),r}this.colorDirty===!0&&("to"===n.inherit?(this.color.highlight=this.to.options.color.highlight.border,this.color.hover=this.to.options.color.hover.border,this.color.color=o.overrideOpacity(this.to.options.color.border,n.opacity)):(this.color.highlight=this.from.options.color.highlight.border,this.color.hover=this.from.options.color.hover.border,this.color.color=o.overrideOpacity(this.from.options.color.border,n.opacity)))}else this.colorDirty===!0&&(this.color.highlight=n.highlight,this.color.hover=n.hover,this.color.color=o.overrideOpacity(n.color,n.opacity));return this.colorDirty=!1,t===!0?this.color.highlight:i===!0?this.color.hover:this.color.color}},{key:"_circle",value:function(e,t,i,n){this.enableShadow(e),e.beginPath(),e.arc(t,i,n,0,2*Math.PI,!1),e.stroke(),this.disableShadow(e)}},{key:"getDistanceToEdge",value:function(e,t,i,r,o,s,a){var l=0;if(this.from!=this.to)l=this._getDistanceToEdge(e,t,i,r,o,s,a);else{var u=this._getCircleData(),c=n(u,3),h=c[0],p=c[1],d=c[2],f=h-o,m=p-s;l=Math.abs(Math.sqrt(f*f+m*m)-d)}return this.labelModule.size.left<o&&this.labelModule.size.left+this.labelModule.size.width>o&&this.labelModule.size.top<s&&this.labelModule.size.top+this.labelModule.size.height>s?0:l}},{key:"_getDistanceToLine",value:function(e,t,i,n,r,o){var s=i-e,a=n-t,l=s*s+a*a,u=((r-e)*s+(o-t)*a)/l;u>1?u=1:u<0&&(u=0);var c=e+u*s,h=t+u*a,p=c-r,d=h-o;return Math.sqrt(p*p+d*d)}},{key:"getArrowData",value:function(e,t,i,r,o){var s=void 0,a=void 0,l=void 0,u=void 0,c=void 0,h=void 0,p=this.getLineWidth(r,o);if("from"===t?(l=this.from,u=this.to,c=.1,h=this.options.arrows.from.scaleFactor):"to"===t?(l=this.to,u=this.from,c=-.1,h=this.options.arrows.to.scaleFactor):(l=this.to,u=this.from,h=this.options.arrows.middle.scaleFactor),l!=u)if("middle"!==t)if(this.options.smooth.enabled===!0){a=this.findBorderPosition(l,e,{via:i});var d=this.getPoint(Math.max(0,Math.min(1,a.t+c)),i);s=Math.atan2(a.y-d.y,a.x-d.x)}else s=Math.atan2(l.y-u.y,l.x-u.x),a=this.findBorderPosition(l,e);else s=Math.atan2(l.y-u.y,l.x-u.x),a=this.getPoint(.5,i);else{var f=this._getCircleData(e),m=n(f,3),y=m[0],v=m[1],g=m[2];"from"===t?(a=this.findBorderPosition(this.from,e,{x:y,y:v,low:.25,high:.6,direction:-1}),s=a.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI):"to"===t?(a=this.findBorderPosition(this.from,e,{x:y,y:v,low:.6,high:1,direction:1}),s=a.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI):(a=this._pointOnCircle(y,v,g,.175),s=3.9269908169872414)}var _=15*h+3*p,b=a.x-.9*_*Math.cos(s),w=a.y-.9*_*Math.sin(s),C={x:b,y:w};return{point:a,core:C,angle:s,length:_}}},{key:"drawArrowHead",value:function(e,t,i,n){e.strokeStyle=this.getColor(e,t,i),e.fillStyle=e.strokeStyle,e.lineWidth=this.getLineWidth(t,i),e.arrow(n.point.x,n.point.y,n.angle,n.length),this.enableShadow(e),e.fill(),this.disableShadow(e)}},{key:"enableShadow",value:function(e){this.options.shadow.enabled===!0&&(e.shadowColor=this.options.shadow.color,e.shadowBlur=this.options.shadow.size,e.shadowOffsetX=this.options.shadow.x,e.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(e){this.options.shadow.enabled===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}]),EdgeBase}();t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(88),o=_interopRequireDefault(r),s=function(e){function BezierEdgeDynamic(e,t,i){_classCallCheck(this,BezierEdgeDynamic);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(BezierEdgeDynamic).call(this,e,t,i));return n._boundFunction=function(){n.positionBezierNode()},n.body.emitter.on("_repositionBezierNodes",n._boundFunction),n}return _inherits(BezierEdgeDynamic,e),n(BezierEdgeDynamic,[{key:"setOptions",value:function(e){var t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),t===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var e="edgeId:"+this.id,t=this.body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this.body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===t.x?e.lineTo(this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(t.x,t.y,this.toPoint.x,this.toPoint.y),this.enableShadow(e),e.stroke(),this.disableShadow(e)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.via:arguments[1],i=e,n=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*t.x+Math.pow(i,2)*this.toPoint.x,r=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*t.y+Math.pow(i,2)*this.toPoint.y;return{x:n,y:r}}},{key:"_findBorderPosition",value:function(e,t){return this._findBorderPositionBezier(e,t,this.via)}},{key:"_getDistanceToEdge",value:function(e,t,i,n,r,o){return this._getDistanceToBezierEdge(e,t,i,n,r,o,this.via)}}]),BezierEdgeDynamic}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(88),o=_interopRequireDefault(r),s=function(e){function BezierEdgeStatic(e,t,i){return _classCallCheck(this,BezierEdgeStatic),_possibleConstructorReturn(this,Object.getPrototypeOf(BezierEdgeStatic).call(this,e,t,i))}return _inherits(BezierEdgeStatic,e),n(BezierEdgeStatic,[{key:"_line",value:function(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===t.x?e.lineTo(this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(t.x,t.y,this.toPoint.x,this.toPoint.y),this.enableShadow(e),e.stroke(),this.disableShadow(e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var e=void 0,t=void 0,i=this.options.smooth.roundness,n=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if("discrete"===n||"diagonalCross"===n)Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(this.from.y>=this.to.y?this.from.x<=this.to.x?(e=this.from.x+i*o,t=this.from.y-i*o):this.from.x>this.to.x&&(e=this.from.x-i*o,t=this.from.y-i*o):this.from.y<this.to.y&&(this.from.x<=this.to.x?(e=this.from.x+i*o,t=this.from.y+i*o):this.from.x>this.to.x&&(e=this.from.x-i*o,t=this.from.y+i*o)),"discrete"===n&&(e=r<i*o?this.from.x:e)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(e=this.from.x+i*r,t=this.from.y-i*r):this.from.x>this.to.x&&(e=this.from.x-i*r,t=this.from.y-i*r):this.from.y<this.to.y&&(this.from.x<=this.to.x?(e=this.from.x+i*r,t=this.from.y+i*r):this.from.x>this.to.x&&(e=this.from.x-i*r,t=this.from.y+i*r)),"discrete"===n&&(t=o<i*r?this.from.y:t));else if("straightCross"===n)Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(e=this.from.x,t=this.from.y<this.to.y?this.to.y-(1-i)*o:this.to.y+(1-i)*o):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(e=this.from.x<this.to.x?this.to.x-(1-i)*r:this.to.x+(1-i)*r,t=this.from.y);else if("horizontal"===n)e=this.from.x<this.to.x?this.to.x-(1-i)*r:this.to.x+(1-i)*r,t=this.from.y;else if("vertical"===n)e=this.from.x,t=this.from.y<this.to.y?this.to.y-(1-i)*o:this.to.y+(1-i)*o;else if("curvedCW"===n){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var s=Math.sqrt(r*r+o*o),a=Math.PI,l=Math.atan2(o,r),u=(l+(.5*i+.5)*a)%(2*a);e=this.from.x+(.5*i+.5)*s*Math.sin(u),t=this.from.y+(.5*i+.5)*s*Math.cos(u)}else if("curvedCCW"===n){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var c=Math.sqrt(r*r+o*o),h=Math.PI,p=Math.atan2(o,r),d=(p+(.5*-i+.5)*h)%(2*h);e=this.from.x+(.5*i+.5)*c*Math.sin(d),t=this.from.y+(.5*i+.5)*c*Math.cos(d)}else Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?this.from.y>=this.to.y?this.from.x<=this.to.x?(e=this.from.x+i*o,t=this.from.y-i*o,e=this.to.x<e?this.to.x:e):this.from.x>this.to.x&&(e=this.from.x-i*o,t=this.from.y-i*o,e=this.to.x>e?this.to.x:e):this.from.y<this.to.y&&(this.from.x<=this.to.x?(e=this.from.x+i*o,t=this.from.y+i*o,e=this.to.x<e?this.to.x:e):this.from.x>this.to.x&&(e=this.from.x-i*o,t=this.from.y+i*o,e=this.to.x>e?this.to.x:e)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(e=this.from.x+i*r,t=this.from.y-i*r,t=this.to.y>t?this.to.y:t):this.from.x>this.to.x&&(e=this.from.x-i*r,t=this.from.y-i*r,t=this.to.y>t?this.to.y:t):this.from.y<this.to.y&&(this.from.x<=this.to.x?(e=this.from.x+i*r,t=this.from.y+i*r,t=this.to.y<t?this.to.y:t):this.from.x>this.to.x&&(e=this.from.x-i*r,t=this.from.y+i*r,t=this.to.y<t?this.to.y:t)));return{x:e,y:t}}},{key:"_findBorderPosition",value:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return this._findBorderPositionBezier(e,t,i.via)}},{key:"_getDistanceToEdge",value:function(e,t,i,n,r,o){var s=arguments.length<=6||void 0===arguments[6]?this._getViaCoordinates():arguments[6];return this._getDistanceToBezierEdge(e,t,i,n,r,o,s)}},{key:"getPoint",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this._getViaCoordinates():arguments[1],i=e,n=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*t.x+Math.pow(i,2)*this.toPoint.x,r=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*t.y+Math.pow(i,2)*this.toPoint.y;return{x:n,y:r}}}]),BezierEdgeStatic}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(89),o=_interopRequireDefault(r),s=function(e){function StraightEdge(e,t,i){return _classCallCheck(this,StraightEdge),_possibleConstructorReturn(this,Object.getPrototypeOf(StraightEdge).call(this,e,t,i))}return _inherits(StraightEdge,e),n(StraightEdge,[{key:"_line",value:function(e){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e),e.stroke(),this.disableShadow(e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}},{key:"_findBorderPosition",value:function(e,t){var i=this.to,n=this.from;e.id===this.from.id&&(i=this.from,n=this.to);var r=Math.atan2(i.y-n.y,i.x-n.x),o=i.x-n.x,s=i.y-n.y,a=Math.sqrt(o*o+s*s),l=e.distanceToBorder(t,r),u=(a-l)/a,c={};return c.x=(1-u)*n.x+u*i.x,c.y=(1-u)*n.y+u*i.y,c}},{key:"_getDistanceToEdge",value:function(e,t,i,n,r,o){return this._getDistanceToLine(e,t,i,n,r,o)}}]),StraightEdge}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(94),o=_interopRequireDefault(r),s=i(95),a=_interopRequireDefault(s),l=i(96),u=_interopRequireDefault(l),c=i(97),h=_interopRequireDefault(c),p=i(98),d=_interopRequireDefault(p),f=i(99),m=_interopRequireDefault(f),y=i(100),v=_interopRequireDefault(y),g=i(101),_=_interopRequireDefault(g),b=i(1),w=function(){function PhysicsEngine(e){_classCallCheck(this,PhysicsEngine),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},b.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return n(PhysicsEngine,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),e.ready===!0&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){e.ready===!0&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){void 0!==e&&(e===!1?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):(this.physicsEnabled=!0,b.selectiveNotDeepExtend(["stabilization"],this.options,e),b.mergeOptions(this.options,e,"stabilization"),void 0===e.enabled&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var e;"forceAtlas2Based"===this.options.solver?(e=this.options.forceAtlas2Based,this.nodesSolver=new v.default(this.body,this.physicsBody,e),this.edgesSolver=new h.default(this.body,this.physicsBody,e),this.gravitySolver=new _.default(this.body,this.physicsBody,e)):"repulsion"===this.options.solver?(e=this.options.repulsion,this.nodesSolver=new a.default(this.body,this.physicsBody,e),this.edgesSolver=new h.default(this.body,this.physicsBody,e),this.gravitySolver=new m.default(this.body,this.physicsBody,e)):"hierarchicalRepulsion"===this.options.solver?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new u.default(this.body,this.physicsBody,e),this.edgesSolver=new d.default(this.body,this.physicsBody,e),this.gravitySolver=new m.default(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new o.default(this.body,this.physicsBody,e),this.edgesSolver=new h.default(this.body,this.physicsBody,e),this.gravitySolver=new m.default(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];this.stabilized=!0,e===!0&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=Date.now();this.physicsTick();var t=Date.now()-e;(t<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?this.stabilizationIterations:arguments[0];
(this.stabilizationIterations>1||this.startedStabilization===!0)&&setTimeout(function(){e.body.emitter.emit("stabilized",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsTick",value:function(){if(this.startedStabilization===!1&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0),this.stabilized===!1){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var e=1.2;this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.calculateForces(),this.moveNodes(),this.revert(),this.timestep=.5*this.timestep,this.calculateForces(),this.moveNodes(),this.calculateForces(),this.moveNodes(),this._evaluateStepQuality()===!0?this.timestep=e*this.timestep:this.timestep/e<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/e))):(this.calculateForces(),this.moveNodes()),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.calculateForces(),this.moveNodes();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var i in e)e.hasOwnProperty(i)&&e[i].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[i].id);for(var n in t)t.hasOwnProperty(n)&&t[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[n].id);for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var o=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[o]={x:0,y:0},void 0===this.physicsBody.velocities[o]&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===e[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var e=Object.keys(this.previousStates),t=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var n=0;n<e.length;n++){var r=e[n];void 0!==t[r]?t[r].options.physics===!0&&(this.referenceState[r]={positions:{x:t[r].x,y:t[r].y}},i[r].x=this.previousStates[r].vx,i[r].y=this.previousStates[r].vy,t[r].x=this.previousStates[r].x,t[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var e=void 0,t=void 0,i=void 0,n=this.body.nodes,r=this.referenceState,o=.3;for(var s in this.referenceState)if(this.referenceState.hasOwnProperty(s)&&void 0!==n[s]&&(e=n[s].x-r[s].positions.x,t=n[s].y-r[s].positions.y,i=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),i>o))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=this.options.maxVelocity?this.options.maxVelocity:1e9,i=0,n=0,r=5,o=0;o<e.length;o++){var s=e[o],a=this._performStep(s,t);i=Math.max(i,a),n+=a}this.adaptiveTimestepEnabled=n/e.length<r,this.stabilized=i<this.options.minVelocity}},{key:"_performStep",value:function(e,t){var i=this.body.nodes[e],n=this.timestep,r=this.physicsBody.forces,o=this.physicsBody.velocities;if(this.previousStates[e]={x:i.x,y:i.y,vx:o[e].x,vy:o[e].y},i.options.fixed.x===!1){var s=this.modelOptions.damping*o[e].x,a=(r[e].x-s)/i.options.mass;o[e].x+=a*n,o[e].x=Math.abs(o[e].x)>t?o[e].x>0?t:-t:o[e].x,i.x+=o[e].x*n}else r[e].x=0,o[e].x=0;if(i.options.fixed.y===!1){var l=this.modelOptions.damping*o[e].y,u=(r[e].y-l)/i.options.mass;o[e].y+=u*n,o[e].y=Math.abs(o[e].y)>t?o[e].y>0?t:-t:o[e].y,i.y+=o[e].y*n}else r[e].y=0,o[e].y=0;var c=Math.sqrt(Math.pow(o[e].x,2)+Math.pow(o[e].y,2));return c}},{key:"calculateForces",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve()}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)e.hasOwnProperty(t)&&e[t].x&&e[t].y&&(this.freezeCache[t]={x:e[t].options.fixed.x,y:e[t].options.fixed.y},e[t].options.fixed.x=!0,e[t].options.fixed.y=!0)}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)e.hasOwnProperty(t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?this.options.stabilization.iterations:arguments[0];return"number"!=typeof t&&(console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",this.options.stabilization.iterations),t=this.options.stabilization.iterations),0===this.physicsBody.physicsNodeIndices.length?void(this.ready=!0):(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,void setTimeout(function(){return e._stabilizationBatch()},0))}},{key:"_stabilizationBatch",value:function(){this.startedStabilization===!1&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0);for(var e=0;this.stabilized===!1&&e<this.options.stabilization.updateInterval&&this.stabilizationIterations<this.targetIterations;)this.physicsTick(),e++;this.stabilized===!1&&this.stabilizationIterations<this.targetIterations?(this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations}),setTimeout(this._stabilizationBatch.bind(this),0)):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var t=0;t<this.physicsBody.physicsNodeIndices.length;t++){var i=this.body.nodes[this.physicsBody.physicsNodeIndices[t]],n=this.physicsBody.forces[this.physicsBody.physicsNodeIndices[t]],r=20,o=.03,s=Math.sqrt(Math.pow(n.x,2)+Math.pow(n.x,2)),a=Math.min(Math.max(5,s),15),l=3*a,u=b.HSVToHex((180-180*Math.min(1,Math.max(0,o*s)))/360,1,1);e.lineWidth=a,e.strokeStyle=u,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(i.x+r*n.x,i.y+r*n.y),e.stroke();var c=Math.atan2(n.y,n.x);e.fillStyle=u,e.arrow(i.x+r*n.x+Math.cos(c)*l,i.y+r*n.y+Math.sin(c)*l,c,l),e.fill()}}}]),PhysicsEngine}();t.default=w},function(e,t){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=function(){function BarnesHutSolver(e,t,i){_classCallCheck(this,BarnesHutSolver),this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(i),this.randomSeed=5}return i(BarnesHutSolver,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var e=1e4*Math.sin(this.randomSeed++);return e-Math.floor(e)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var e=void 0,t=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,r=this._formBarnesHutTree(t,i);this.barnesHutTree=r;for(var o=0;o<n;o++)e=t[i[o]],e.options.mass>0&&(this._getForceContribution(r.root.children.NW,e),this._getForceContribution(r.root.children.NE,e),this._getForceContribution(r.root.children.SW,e),this._getForceContribution(r.root.children.SE,e))}}},{key:"_getForceContribution",value:function(e,t){if(e.childrenCount>0){var i=void 0,n=void 0,r=void 0;i=e.centerOfMass.x-t.x,n=e.centerOfMass.y-t.y,r=Math.sqrt(i*i+n*n),r*e.calcSize>this.thetaInversed?this._calculateForces(r,i,n,t,e):4===e.childrenCount?(this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)):e.children.data.id!=t.id&&this._calculateForces(r,i,n,t,e)}}},{key:"_calculateForces",value:function(e,t,i,n,r){0===e&&(e=.1,t=e),this.overlapAvoidanceFactor<1&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));var o=this.options.gravitationalConstant*r.mass*n.options.mass/Math.pow(e,3),s=t*o,a=i*o;this.physicsBody.forces[n.id].x+=s,this.physicsBody.forces[n.id].y+=a}},{key:"_formBarnesHutTree",value:function(e,t){for(var i=void 0,n=t.length,r=e[t[0]].x,o=e[t[0]].y,s=e[t[0]].x,a=e[t[0]].y,l=1;l<n;l++){var u=e[t[l]].x,c=e[t[l]].y;e[t[l]].options.mass>0&&(u<r&&(r=u),u>s&&(s=u),c<o&&(o=c),c>a&&(a=c))}var h=Math.abs(s-r)-Math.abs(a-o);h>0?(o-=.5*h,a+=.5*h):(r+=.5*h,s-=.5*h);var p=1e-5,d=Math.max(p,Math.abs(s-r)),f=.5*d,m=.5*(r+s),y=.5*(o+a),v={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:m-f,maxX:m+f,minY:y-f,maxY:y+f},size:d,calcSize:1/d,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(v.root);for(var g=0;g<n;g++)i=e[t[g]],i.options.mass>0&&this._placeInTree(v.root,i);return v}},{key:"_updateBranchMass",value:function(e,t){var i=e.mass+t.options.mass,n=1/i;e.centerOfMass.x=e.centerOfMass.x*e.mass+t.x*t.options.mass,e.centerOfMass.x*=n,e.centerOfMass.y=e.centerOfMass.y*e.mass+t.y*t.options.mass,e.centerOfMass.y*=n,e.mass=i;var r=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<r?r:e.maxWidth}},{key:"_placeInTree",value:function(e,t,i){1==i&&void 0!==i||this._updateBranchMass(e,t),e.children.NW.range.maxX>t.x?e.children.NW.range.maxY>t.y?this._placeInRegion(e,t,"NW"):this._placeInRegion(e,t,"SW"):e.children.NW.range.maxY>t.y?this._placeInRegion(e,t,"NE"):this._placeInRegion(e,t,"SE")}},{key:"_placeInRegion",value:function(e,t,i){switch(e.children[i].childrenCount){case 0:e.children[i].children.data=t,e.children[i].childrenCount=1,this._updateBranchMass(e.children[i],t);break;case 1:e.children[i].children.data.x===t.x&&e.children[i].children.data.y===t.y?(t.x+=this.seededRandom(),t.y+=this.seededRandom()):(this._splitBranch(e.children[i]),this._placeInTree(e.children[i],t));break;case 4:this._placeInTree(e.children[i],t)}}},{key:"_splitBranch",value:function(e){var t=null;1===e.childrenCount&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),null!=t&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var i=void 0,n=void 0,r=void 0,o=void 0,s=.5*e.size;switch(t){case"NW":i=e.range.minX,n=e.range.minX+s,r=e.range.minY,o=e.range.minY+s;break;case"NE":i=e.range.minX+s,n=e.range.maxX,r=e.range.minY,o=e.range.minY+s;break;case"SW":i=e.range.minX,n=e.range.minX+s,r=e.range.minY+s,o=e.range.maxY;break;case"SE":i=e.range.minX+s,n=e.range.maxX,r=e.range.minY+s,o=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:r,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){void 0!==this.barnesHutTree&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,i){void 0===i&&(i="#FF0000"),4===e.childrenCount&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=i,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),BarnesHutSolver}();t.default=n},function(e,t){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=function(){function RepulsionSolver(e,t,i){_classCallCheck(this,RepulsionSolver),this.body=e,this.physicsBody=t,this.setOptions(i)}return i(RepulsionSolver,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,i,n,r,o,s,a,l=this.body.nodes,u=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,h=this.options.nodeDistance,p=-2/3/h,d=4/3,f=0;f<u.length-1;f++){s=l[u[f]];for(var m=f+1;m<u.length;m++)a=l[u[m]],e=a.x-s.x,t=a.y-s.y,i=Math.sqrt(e*e+t*t),0===i&&(i=.1*Math.random(),e=i),i<2*h&&(o=i<.5*h?1:p*i+d,o/=i,n=e*o,r=t*o,c[s.id].x-=n,c[s.id].y-=r,c[a.id].x+=n,c[a.id].y+=r)}}}]),RepulsionSolver}();t.default=n},function(e,t){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=function(){function HierarchicalRepulsionSolver(e,t,i){_classCallCheck(this,HierarchicalRepulsionSolver),this.body=e,this.physicsBody=t,this.setOptions(i)}return i(HierarchicalRepulsionSolver,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){var e,t,i,n,r,o,s,a,l,u,c=this.body.nodes,h=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,d=this.options.nodeDistance;for(l=0;l<h.length-1;l++)for(s=c[h[l]],u=l+1;u<h.length;u++)if(a=c[h[u]],s.level===a.level){e=a.x-s.x,t=a.y-s.y,i=Math.sqrt(e*e+t*t);var f=.05;o=i<d?-Math.pow(f*i,2)+Math.pow(f*d,2):0,0===i?i=.01:o/=i,n=e*o,r=t*o,p[s.id].x-=n,p[s.id].y-=r,p[a.id].x+=n,p[a.id].y+=r}}}]),HierarchicalRepulsionSolver}();t.default=n},function(e,t){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=function(){function SpringSolver(e,t,i){_classCallCheck(this,SpringSolver),this.body=e,this.physicsBody=t,this.setOptions(i)}return i(SpringSolver,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e=void 0,t=void 0,i=this.physicsBody.physicsEdgeIndices,n=this.body.edges,r=void 0,o=void 0,s=void 0,a=0;a<i.length;a++)t=n[i[a]],t.connected===!0&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0!==t.edgeType.via?(e=void 0===t.options.length?this.options.springLength:t.options.length,r=t.to,o=t.edgeType.via,s=t.from,this._calculateSpringForce(r,o,.5*e),this._calculateSpringForce(o,s,.5*e)):(e=void 0===t.options.length?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}},{key:"_calculateSpringForce",value:function(e,t,i){var n=e.x-t.x,r=e.y-t.y,o=Math.max(Math.sqrt(n*n+r*r),.01),s=this.options.springConstant*(i-o)/o,a=n*s,l=r*s;void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x+=a,this.physicsBody.forces[e.id].y+=l),void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x-=a,this.physicsBody.forces[t.id].y-=l)}}]),SpringSolver}();t.default=n},function(e,t){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=function(){function HierarchicalSpringSolver(e,t,i){_classCallCheck(this,HierarchicalSpringSolver),this.body=e,this.physicsBody=t,this.setOptions(i)}return i(HierarchicalSpringSolver,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,i,n,r,o,s,a,l=this.body.edges,u=.5,c=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,d=0;d<h.length;d++){var f=h[d];p[f].springFx=0,p[f].springFy=0}for(var m=0;m<c.length;m++)t=l[c[m]],t.connected===!0&&(e=void 0===t.options.length?this.options.springLength:t.options.length,i=t.from.x-t.to.x,n=t.from.y-t.to.y,a=Math.sqrt(i*i+n*n),a=0===a?.01:a,s=this.options.springConstant*(e-a)/a,r=i*s,o=n*s,t.to.level!=t.from.level?(void 0!==p[t.toId]&&(p[t.toId].springFx-=r,p[t.toId].springFy-=o),void 0!==p[t.fromId]&&(p[t.fromId].springFx+=r,p[t.fromId].springFy+=o)):(void 0!==p[t.toId]&&(p[t.toId].x-=u*r,p[t.toId].y-=u*o),void 0!==p[t.fromId]&&(p[t.fromId].x+=u*r,p[t.fromId].y+=u*o)));for(var y,v,s=1,g=0;g<h.length;g++){var _=h[g];y=Math.min(s,Math.max(-s,p[_].springFx)),v=Math.min(s,Math.max(-s,p[_].springFy)),p[_].x+=y,p[_].y+=v}for(var b=0,w=0,C=0;C<h.length;C++){var x=h[C];b+=p[x].x,w+=p[x].y}for(var E=b/h.length,S=w/h.length,P=0;P<h.length;P++){var k=h[P];p[k].x-=E,p[k].y-=S}}}]),HierarchicalSpringSolver}();t.default=n},function(e,t){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=function(){function CentralGravitySolver(e,t,i){_classCallCheck(this,CentralGravitySolver),this.body=e,this.physicsBody=t,this.setOptions(i)}return i(CentralGravitySolver,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e=void 0,t=void 0,i=void 0,n=void 0,r=this.body.nodes,o=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<o.length;a++){var l=o[a];n=r[l],e=-n.x,t=-n.y,i=Math.sqrt(e*e+t*t),this._calculateForces(i,e,t,s,n)}}},{key:"_calculateForces",value:function(e,t,i,n,r){var o=0===e?0:this.options.centralGravity/e;n[r.id].x=t*o,n[r.id].y=i*o}}]),CentralGravitySolver}();t.default=n},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(94),o=_interopRequireDefault(r),s=function(e){function ForceAtlas2BasedRepulsionSolver(e,t,i){return _classCallCheck(this,ForceAtlas2BasedRepulsionSolver),_possibleConstructorReturn(this,Object.getPrototypeOf(ForceAtlas2BasedRepulsionSolver).call(this,e,t,i))}return _inherits(ForceAtlas2BasedRepulsionSolver,e),n(ForceAtlas2BasedRepulsionSolver,[{key:"_calculateForces",value:function(e,t,i,n,r){0===e&&(e=.1*Math.random(),t=e),this.overlapAvoidanceFactor<1&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));var o=n.edges.length+1,s=this.options.gravitationalConstant*r.mass*n.options.mass*o/Math.pow(e,2),a=t*s,l=i*s;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=l}}]),ForceAtlas2BasedRepulsionSolver}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(99),o=_interopRequireDefault(r),s=function(e){function ForceAtlas2BasedCentralGravitySolver(e,t,i){return _classCallCheck(this,ForceAtlas2BasedCentralGravitySolver),_possibleConstructorReturn(this,Object.getPrototypeOf(ForceAtlas2BasedCentralGravitySolver).call(this,e,t,i))}return _inherits(ForceAtlas2BasedCentralGravitySolver,e),n(ForceAtlas2BasedCentralGravitySolver,[{key:"_calculateForces",value:function(e,t,i,n,r){if(e>0){var o=r.edges.length+1,s=this.options.centralGravity*o*r.options.mass;n[r.id].x=t*s,n[r.id].y=i*s}}}]),ForceAtlas2BasedCentralGravitySolver}(o.default);t.default=s},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),o=i(103),s=_interopRequireDefault(o),a=i(104),l=_interopRequireDefault(a),u=i(1),c=function(){function ClusterEngine(e){var t=this;_classCallCheck(this,ClusterEngine),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},u.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){t.clusteredNodes={},t.clusteredEdges={}})}return r(ClusterEngine,[{key:"setOptions",value:function(e){}},{key:"clusterByHubsize",value:function(e,t){void 0===e?e=this._getHubSize():"object"===("undefined"==typeof e?"undefined":n(e))&&(t=this._checkOptions(e),e=this._getHubSize());for(var i=[],r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>=e&&i.push(o.id)}for(var s=0;s<i.length;s++)this.clusterByConnection(i[s],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);for(var i={},n={},r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodeIndices[r],a=this.body.nodes[o],l=s.default.cloneOptions(a);if(e.joinCondition(l)===!0){i[o]=this.body.nodes[o];for(var u=0;u<a.edges.length;u++){var c=a.edges[u];void 0===this.clusteredEdges[c.id]&&(n[c.id]=c)}}}this._cluster(i,n,e,t)}},{key:"clusterByEdgeCount",value:function(e,t){var i=arguments.length<=2||void 0===arguments[2]||arguments[2];t=this._checkOptions(t);for(var n=[],r={},o=void 0,a=void 0,l=void 0,u=void 0,c=void 0,h=0;h<this.body.nodeIndices.length;h++){var p={},d={};if(u=this.body.nodeIndices[h],void 0===r[u]){c=0,l=this.body.nodes[u],a=[];for(var f=0;f<l.edges.length;f++)o=l.edges[f],void 0===this.clusteredEdges[o.id]&&(o.toId!==o.fromId&&c++,a.push(o));if(c===e){for(var m=!0,y=0;y<a.length;y++){o=a[y];var v=this._getConnectedId(o,u);if(void 0===t.joinCondition)d[o.id]=o,p[u]=this.body.nodes[u],p[v]=this.body.nodes[v],r[u]=!0;else{var g=s.default.cloneOptions(this.body.nodes[u]);if(t.joinCondition(g)!==!0){m=!1;break}d[o.id]=o,p[u]=this.body.nodes[u],r[u]=!0}}Object.keys(p).length>0&&Object.keys(d).length>0&&m===!0&&n.push({nodes:p,edges:d})}}}for(var _=0;_<n.length;_++)this._cluster(n[_].nodes,n[_].edges,t,!1);i===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];this.clusterByEdgeCount(1,e,t)}},{key:"clusterBridges",value:function(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];this.clusterByEdgeCount(2,e,t)}},{key:"clusterByConnection",value:function(e,t){var i=arguments.length<=2||void 0===arguments[2]||arguments[2];if(void 0===e)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw new Error("The nodeId given to clusterByConnection does not exist!");var n=this.body.nodes[e];t=this._checkOptions(t,n),void 0===t.clusterNodeProperties.x&&(t.clusterNodeProperties.x=n.x),void 0===t.clusterNodeProperties.y&&(t.clusterNodeProperties.y=n.y),void 0===t.clusterNodeProperties.fixed&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=n.options.fixed.x,t.clusterNodeProperties.fixed.y=n.options.fixed.y);var r={},o={},a=n.id,l=s.default.cloneOptions(n);r[a]=n;for(var u=0;u<n.edges.length;u++){var c=n.edges[u];if(void 0===this.clusteredEdges[c.id]){var h=this._getConnectedId(c,a);if(void 0===this.clusteredNodes[h])if(h!==a)if(void 0===t.joinCondition)o[c.id]=c,r[h]=this.body.nodes[h];else{var p=s.default.cloneOptions(this.body.nodes[h]);t.joinCondition(l,p)===!0&&(o[c.id]=c,r[h]=this.body.nodes[h])}else o[c.id]=c}}this._cluster(r,o,t,i)}},{key:"_createClusterEdges",value:function(e,t,i,n){for(var r=void 0,o=void 0,a=void 0,l=void 0,c=void 0,h=void 0,p=Object.keys(e),d=[],f=0;f<p.length;f++){o=p[f],a=e[o];for(var m=0;m<a.edges.length;m++)r=a.edges[m],void 0===this.clusteredEdges[r.id]&&(r.toId==r.fromId?t[r.id]=r:r.toId==o?(l=i.id,c=r.fromId,h=c):(l=r.toId,c=i.id,h=l),void 0===e[h]&&d.push({edge:r,fromId:c,toId:l}))}for(var y=0;y<d.length;y++){var v=d[y].edge,g=s.default.cloneOptions(v,"edge");u.deepExtend(g,n),g.from=d[y].fromId,g.to=d[y].toId,g.id="clusterEdge:"+u.randomUUID();var _=this.body.functions.createEdge(g);_.clusteringEdgeReplacingId=v.id,this.body.edges[_.id]=_,_.connect(),this._backupEdgeOptions(v),v.setOptions({physics:!1,hidden:!0})}}},{key:"_checkOptions",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,i){var n=arguments.length<=3||void 0===arguments[3]||arguments[3];if(!(Object.keys(e).length<2)){for(var r in e)if(e.hasOwnProperty(r)&&void 0!==this.clusteredNodes[r])return;var o=u.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var a=[];for(var c in e)if(e.hasOwnProperty(c)){var h=s.default.cloneOptions(e[c]);a.push(h)}var p=[];for(var d in t)if(t.hasOwnProperty(d)&&"clusterEdge:"!==d.substr(0,12)){var f=s.default.cloneOptions(t[d],"edge");p.push(f)}if(o=i.processProperties(o,a,p),!o)throw new Error("The processProperties function does not return properties!")}void 0===o.id&&(o.id="cluster:"+u.randomUUID());var m=o.id;void 0===o.label&&(o.label="cluster");var y=void 0;void 0===o.x&&(y=this._getClusterPosition(e),o.x=y.x),void 0===o.y&&(void 0===y&&(y=this._getClusterPosition(e)),o.y=y.y),o.id=m;var v=this.body.functions.createNode(o,l.default);v.isCluster=!0,v.containedNodes=e,v.containedEdges=t,v.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[o.id]=v,this._createClusterEdges(e,t,o,i.clusterEdgeProperties);for(var g in t)if(t.hasOwnProperty(g)&&void 0!==this.body.edges[g]){var _=this.body.edges[g];this._backupEdgeOptions(_),_.setOptions({physics:!1,hidden:!0})}for(var b in e)e.hasOwnProperty(b)&&(this.clusteredNodes[b]={clusterId:o.id,node:this.body.nodes[b]},this.body.nodes[b].setOptions({hidden:!0,physics:!1}));o.id=void 0,n===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics,hidden:e.options.hidden})}},{key:"_restoreEdge",value:function(e){var t=this.clusteredEdges[e.id];void 0!==t&&(e.setOptions({physics:t.physics,hidden:t.hidden}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return void 0!==this.body.nodes[e]?this.body.nodes[e].isCluster===!0:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var t=Object.keys(e),i=e[t[0]].x,n=e[t[0]].x,r=e[t[0]].y,o=e[t[0]].y,s=void 0,a=1;a<t.length;a++)s=e[t[a]],i=s.x<i?s.x:i,n=s.x>n?s.x:n,r=s.y<r?s.y:r,o=s.y>o?s.y:o;return{x:.5*(i+n),y:.5*(r+o)}}},{key:"openCluster",value:function(e,t){var i=arguments.length<=2||void 0===arguments[2]||arguments[2];if(void 0===e)throw new Error("No clusterNodeId supplied to openCluster.");if(void 0===this.body.nodes[e])throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(void 0===this.body.nodes[e].containedNodes)return void console.log("The node:"+e+" is not a cluster.");var n=this.body.nodes[e],r=n.containedNodes,o=n.containedEdges;if(void 0!==t&&void 0!==t.releaseFunction&&"function"==typeof t.releaseFunction){var a={},l={x:n.x,y:n.y};for(var c in r)if(r.hasOwnProperty(c)){var h=this.body.nodes[c];a[c]={x:h.x,y:h.y}}var p=t.releaseFunction(l,a);for(var d in r)if(r.hasOwnProperty(d)){var f=this.body.nodes[d];void 0!==p[d]&&(f.x=void 0===p[d].x?n.x:p[d].x,f.y=void 0===p[d].y?n.y:p[d].y)}}else for(var m in r)if(r.hasOwnProperty(m)){var y=this.body.nodes[m];y=r[m],y.options.fixed.x===!1&&(y.x=n.x),y.options.fixed.y===!1&&(y.y=n.y)}for(var v in r)if(r.hasOwnProperty(v)){var g=this.body.nodes[v];g.vx=n.vx,g.vy=n.vy,g.setOptions({hidden:!1,physics:!0}),delete this.clusteredNodes[v]}for(var _=[],b=0;b<n.edges.length;b++)_.push(n.edges[b]);for(var w=0;w<_.length;w++){var C=_[w],x=this._getConnectedId(C,e);if(void 0!==this.clusteredNodes[x]){var E=this.body.nodes[this.clusteredNodes[x].clusterId],S=this.body.edges[C.clusteringEdgeReplacingId];if(void 0!==S){E.containedEdges[S.id]=S,delete o[S.id];var P=S.fromId,k=S.toId;S.toId==x?k=this.clusteredNodes[x].clusterId:P=this.clusteredNodes[x].clusterId;var T=s.default.cloneOptions(S,"edge");u.deepExtend(T,E.clusterEdgeProperties);
var A="clusterEdge:"+u.randomUUID();u.deepExtend(T,{from:P,to:k,hidden:!1,physics:!0,id:A});var D=this.body.functions.createEdge(T);D.clusteringEdgeReplacingId=S.id,this.body.edges[A]=D,this.body.edges[A].connect()}}else{var M=this.body.edges[C.clusteringEdgeReplacingId];void 0!==M&&this._restoreEdge(M)}C.cleanup(),C.disconnect(),delete this.body.edges[C.id]}for(var O in o)o.hasOwnProperty(O)&&this._restoreEdge(o[O]);delete this.body.nodes[e],i===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(this.isCluster(e)===!0){var i=this.body.nodes[e].containedNodes;for(var n in i)i.hasOwnProperty(n)&&t.push(this.body.nodes[n].id)}return t}},{key:"findNode",value:function(e){for(var t=[],i=100,n=0;void 0!==this.clusteredNodes[e]&&n<i;)t.push(this.body.nodes[e].id),e=this.clusteredNodes[e].clusterId,n++;return t.push(this.body.nodes[e].id),t.reverse(),t}},{key:"_getConnectedId",value:function(e,t){return e.toId!=t?e.toId:e.fromId!=t?e.fromId:e.fromId}},{key:"_getHubSize",value:function(){for(var e=0,t=0,i=0,n=0,r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>n&&(n=o.edges.length),e+=o.edges.length,t+=Math.pow(o.edges.length,2),i+=1}e/=i,t/=i;var s=t-Math.pow(e,2),a=Math.sqrt(s),l=Math.floor(e+2*a);return l>n&&(l=n),l}}]),ClusterEngine}();t.default=c},function(e,t,i){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(1),o=function(){function NetworkUtil(){_classCallCheck(this,NetworkUtil)}return n(NetworkUtil,null,[{key:"getRange",value:function(e){var t,i=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=1e9,r=-1e9,o=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)t=e[i[a]],o>t.shape.boundingBox.left&&(o=t.shape.boundingBox.left),s<t.shape.boundingBox.right&&(s=t.shape.boundingBox.right),n>t.shape.boundingBox.top&&(n=t.shape.boundingBox.top),r<t.shape.boundingBox.bottom&&(r=t.shape.boundingBox.bottom);return 1e9===o&&s===-1e9&&1e9===n&&r===-1e9&&(n=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:n,maxY:r}}},{key:"getRangeCore",value:function(e){var t,i=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=1e9,r=-1e9,o=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)t=e[i[a]],o>t.x&&(o=t.x),s<t.x&&(s=t.x),n>t.y&&(n=t.y),r<t.y&&(r=t.y);return 1e9===o&&s===-1e9&&1e9===n&&r===-1e9&&(n=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:n,maxY:r}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,t){var i={};return void 0===t||"node"===t?(r.deepExtend(i,e.options,!0),i.x=e.x,i.y=e.y,i.amountOfConnections=e.edges.length):r.deepExtend(i,e.options,!0),i}}]),NetworkUtil}();t.default=o},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=i(65),r=_interopRequireDefault(n),o=function(e){function Cluster(e,t,i,n,r){_classCallCheck(this,Cluster);var o=_possibleConstructorReturn(this,Object.getPrototypeOf(Cluster).call(this,e,t,i,n,r));return o.isCluster=!0,o.containedNodes={},o.containedEdges={},o}return _inherits(Cluster,e),Cluster}(r.default);t.default=o},function(e,t,i){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}();"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);var r=i(1),o=function(){function CanvasRenderer(e,t){_classCallCheck(this,CanvasRenderer),this.body=e,this.canvas=t,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.pixelRatio=void 0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},r.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return n(CanvasRenderer,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("dragStart",function(){e.dragging=!0}),this.body.emitter.on("dragEnd",function(){return e.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){return e._resizeNodes()}),this.body.emitter.on("_redraw",function(){e.renderingActive===!1&&e._redraw()}),this.body.emitter.on("_blockRedraw",function(){e.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){e.allowRedraw=!0,e.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()}),this.body.emitter.on("_stopRendering",function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0}),this.body.emitter.on("destroy",function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,e.requiresTimeout===!0?clearTimeout(e.renderTimer):cancelAnimationFrame(e.renderTimer),e.body.emitter.off()})}},{key:"setOptions",value:function(e){if(void 0!==e){var t=["hideEdgesOnDrag","hideNodesOnDrag"];r.selectiveDeepExtend(t,this.options,e)}}},{key:"_startRendering",value:function(){this.renderingActive===!0&&void 0===this.renderTimer&&(this.requiresTimeout===!0?this.renderTimer=window.setTimeout(this._renderStep.bind(this),this.simulationInterval):this.renderTimer=window.requestAnimationFrame(this._renderStep.bind(this)))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this.requiresTimeout===!0?window.setTimeout(function(){e._redraw(!1)},0):window.requestAnimationFrame(function(){e._redraw(!1)}))}},{key:"_redraw",value:function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var t=this.canvas.frame.canvas.getContext("2d");0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;if(t.clearRect(0,0,i,n),0===this.canvas.frame.clientWidth)return;t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale),t.beginPath(),this.body.emitter.emit("beforeDrawing",t),t.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&this._drawEdges(t),(this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1)&&this._drawNodes(t,e),t.beginPath(),this.body.emitter.emit("afterDrawing",t),t.closePath(),t.restore(),e===!0&&t.clearRect(0,0,i,n)}}},{key:"_resizeNodes",value:function(){var e=this.canvas.frame.canvas.getContext("2d");void 0===this.pixelRatio&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t=this.body.nodes,i=void 0;for(var n in t)t.hasOwnProperty(n)&&(i=t[n],i.resize(e),i.updateBoundingBox(e,i.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],i=this.body.nodes,n=this.body.nodeIndices,r=void 0,o=[],s=20,a=this.canvas.DOMtoCanvas({x:-s,y:-s}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+s,y:this.canvas.frame.canvas.clientHeight+s}),u={top:a.y,left:a.x,bottom:l.y,right:l.x},c=0;c<n.length;c++)r=i[n[c]],r.isSelected()?o.push(n[c]):t===!0?r.draw(e):r.isBoundingBoxOverlappingWith(u)===!0?r.draw(e):r.updateBoundingBox(e,r.selected);for(var h=0;h<o.length;h++)r=i[o[h]],r.draw(e)}},{key:"_drawEdges",value:function(e){for(var t=this.body.edges,i=this.body.edgeIndices,n=void 0,r=0;r<i.length;r++)n=t[i[r]],n.connected===!0&&n.draw(e)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,e.indexOf("msie 9.0")!=-1?this.requiresTimeout=!0:e.indexOf("safari")!=-1&&e.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),CanvasRenderer}();t.default=o},function(e,t,i){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(20),o=i(28),s=i(1),a=function(){function Canvas(e){_classCallCheck(this,Canvas),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},s.extend(this.options,this.defaultOptions),this.bindEventListeners()}return n(Canvas,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.once("resize",function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()})}},{key:"setOptions",value:function(e){var t=this;if(void 0!==e){var i=["width","height","autoResize"];s.selectiveDeepExtend(i,this.options,e)}this.options.autoResize===!0&&(this._cleanUp(),this.resizeTimer=setInterval(function(){var e=t.setSize();e===!0&&t.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),s.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),s.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.pixelRatio:arguments[0];this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=e&&1!=t?i=.5*this.cameraState.scale*(e+t):1!=e?i=this.cameraState.scale*e:1!=t&&(i=this.cameraState.scale*t),this.body.view.scale=i;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if("number"==typeof e)return e+"px";if("string"==typeof e){if(e.indexOf("%")!==-1||e.indexOf("px")!==-1)return e;if(e.indexOf("%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext){var e=this.frame.canvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new r(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:r.DIRECTION_ALL}),o.onTouch(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("mousewheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new r(this.frame),o.onRelease(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.options.width:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.options.height:arguments[1];e=this._prepareValue(e),t=this._prepareValue(t);var i=!1,n=this.frame.canvas.width,r=this.frame.canvas.height,o=this.frame.canvas.getContext("2d"),s=this.pixelRatio;return this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t?(this._getCameraState(s),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,i=!0):(this.frame.canvas.width==Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&this.frame.canvas.height==Math.round(this.frame.canvas.clientHeight*this.pixelRatio)||this._getCameraState(s),this.frame.canvas.width!=Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&(this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),i=!0),this.frame.canvas.height!=Math.round(this.frame.canvas.clientHeight*this.pixelRatio)&&(this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),i=!0)),i===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),Canvas}();t.default=a},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(103),o=_interopRequireDefault(r),s=i(1),a=function(){function View(e,t){var i=this;_classCallCheck(this,View),this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){i.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return n(View,[{key:"setOptions",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}},{key:"fit",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{nodes:[]}:arguments[0],t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],i=void 0,n=void 0;if(void 0!==e.nodes&&0!==e.nodes.length||(e.nodes=this.body.nodeIndices),t===!0){var r=0;for(var s in this.body.nodes)if(this.body.nodes.hasOwnProperty(s)){var a=this.body.nodes[s];a.predefinedPosition===!0&&(r+=1)}if(r>.5*this.body.nodeIndices.length)return void this.fit(e,!1);i=o.default.getRange(this.body.nodes,e.nodes);var l=this.body.nodeIndices.length;n=12.662/(l+7.4147)+.0964822;var u=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);n*=u}else{this.body.emitter.emit("_resizeNodes"),i=o.default.getRange(this.body.nodes,e.nodes);var c=1.1*Math.abs(i.maxX-i.minX),h=1.1*Math.abs(i.maxY-i.minY),p=this.canvas.frame.canvas.clientWidth/c,d=this.canvas.frame.canvas.clientHeight/h;n=p<=d?p:d}n>1?n=1:0===n&&(n=1);var f=o.default.findCenter(i),m={position:f,scale:n,animation:e.animation};this.moveTo(m)}},{key:"focus",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(void 0!==this.body.nodes[e]){var i={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=i,t.lockedOnNode=e,this.moveTo(t)}else console.log("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){return void 0===e?void(e={}):(void 0===e.offset&&(e.offset={x:0,y:0}),void 0===e.offset.x&&(e.offset.x=0),void 0===e.offset.y&&(e.offset.y=0),void 0===e.scale&&(e.scale=this.body.view.scale),void 0===e.position&&(e.position=this.getViewPosition()),void 0===e.animation&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),void 0===e.animation.duration&&(e.animation.duration=1e3),void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad"),void this.animateView(e))}},{key:"animateView",value:function(e){if(void 0!==e){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:t.x-e.position.x,y:t.y-e.position.y};this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+e.offset.y},0===e.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:t.x-e.x,y:t.y-e.y},n=this.body.view.translation,r={x:n.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=r}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;var t=s.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),View}();t.default=a},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(109),o=_interopRequireDefault(r),s=i(110),a=_interopRequireDefault(s),l=i(1),u=function(){function InteractionHandler(e,t,i){_classCallCheck(this,InteractionHandler),this.body=e,this.canvas=t,this.selectionHandler=i,this.navigationHandler=new o.default(e,t),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return n(InteractionHandler,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){if(void 0!==e){var t=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];l.selectiveNotDeepExtend(t,this.options,e),l.mergeOptions(this.options,e,"keyboard"),e.tooltip&&(l.extend(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=l.parseColor(e.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-l.getAbsoluteLeft(this.canvas.frame.canvas),y:e.y-l.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(e){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center),i=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,e,i),this.selectionHandler._generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler._generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,e,i),this.selectionHandler._generateClickEvent("click",e,t),this.selectionHandler._generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if((new Date).valueOf()-this.touchTime>10){var t=this.getPointer(e.center);this.selectionHandler._generateClickEvent("release",e,t),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler._generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e,t){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n=this.selectionHandler._getSelectedEdgeCount(),r=this.selectionHandler._getSelectedNodeCount(),o=this.selectionHandler.getSelection(),s=void 0;s=i===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e);var a=this.selectionHandler._getSelectedEdgeCount(),l=this.selectionHandler._getSelectedNodeCount(),u=this.selectionHandler.getSelection(),c=this._determineIfDifferent(o,u),h=c.nodesChanged,p=c.edgesChanged,d=!1;l-r>0?(this.selectionHandler._generateClickEvent("selectNode",t,e),s=!0,d=!0):h===!0&&l>0?(this.selectionHandler._generateClickEvent("deselectNode",t,e,o),this.selectionHandler._generateClickEvent("selectNode",t,e),d=!0,s=!0):l-r<0&&(this.selectionHandler._generateClickEvent("deselectNode",t,e,o),s=!0),a-n>0&&d===!1?(this.selectionHandler._generateClickEvent("selectEdge",t,e),s=!0):a>0&&p===!0?(this.selectionHandler._generateClickEvent("deselectEdge",t,e,o),this.selectionHandler._generateClickEvent("selectEdge",t,e),s=!0):a-n<0&&(this.selectionHandler._generateClickEvent("deselectEdge",t,e,o),s=!0),s===!0&&this.selectionHandler._generateClickEvent("select",t,e)}},{key:"_determineIfDifferent",value:function(e,t){for(var i=!1,n=!1,r=0;r<e.nodes.length;r++)t.nodes.indexOf(e.nodes[r])===-1&&(i=!0);for(var o=0;o<t.nodes.length;o++)e.nodes.indexOf(e.nodes[o])===-1&&(i=!0);for(var s=0;s<e.edges.length;s++)t.edges.indexOf(e.edges[s])===-1&&(n=!0);for(var a=0;a<t.edges.length;a++)e.edges.indexOf(e.edges[a])===-1&&(n=!0);return{nodesChanged:i,edgesChanged:n}}},{key:"onDragStart",value:function(e){void 0===this.drag.pointer&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=l.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==t&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(t)),this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var n in i)if(i.hasOwnProperty(n)){var r=i[n],o={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(o)}}else this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(e){var t=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var i=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0)!function(){t.selectionHandler._generateClickEvent("dragging",e,i);var r=i.x-t.drag.pointer.x,o=i.y-t.drag.pointer.y;n.forEach(function(e){var i=e.node;e.xFixed===!1&&(i.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(e.x)+r)),e.yFixed===!1&&(i.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(e.y)+o))}),t.body.emitter.emit("startSimulation")}();else if(this.options.dragView===!0){if(this.selectionHandler._generateClickEvent("dragging",e,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);
var r=i.x-this.drag.pointer.x,o=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+r,y:this.drag.translation.y+o},this.body.emitter.emit("_redraw")}}}},{key:"onDragEnd",value:function(e){this.drag.dragging=!1;var t=this.drag.selection;t&&t.length?(t.forEach(function(e){e.node.options.fixed.x=e.xFixed,e.node.options.fixed.y=e.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var i=this.pinch.scale*e.scale;this.zoom(i,t)}},{key:"zoom",value:function(e,t){if(this.options.zoomView===!0){var i=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var n=void 0;void 0!==this.drag&&this.drag.dragging===!0&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,o=e/i,s=(1-o)*t.x+r.x*o,a=(1-o)*t.y+r.y*o;if(this.body.view.scale=e,this.body.view.translation={x:s,y:a},void 0!=n){var l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),i<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}}},{key:"onMouseWheel",value:function(e){if(this.options.zoomView===!0){var t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),0!==t){var i=this.body.view.scale,n=t/10;t<0&&(n/=1-n),i*=1+n;var r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(i,r)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var t=this,i=this.getPointer({x:e.clientX,y:e.clientY}),n=!1;if(void 0!==this.popup&&(this.popup.hidden===!1&&this._checkHidePopup(i),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return t._checkShowPopup(i)},this.options.tooltipDelay))),this.options.hover===!0){var r=this.selectionHandler.getNodeAt(i);void 0===r&&(r=this.selectionHandler.getEdgeAt(i)),this.selectionHandler.hoverObject(r)}}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),i=this.canvas._YconvertDOMtoCanvas(e.y),n={left:t,top:i,right:t,bottom:i},r=void 0===this.popupObj?void 0:this.popupObj.id,o=!1,s="node";if(void 0===this.popupObj){for(var l=this.body.nodeIndices,u=this.body.nodes,c=void 0,h=[],p=0;p<l.length;p++)c=u[l[p]],c.isOverlappingWith(n)===!0&&void 0!==c.getTitle()&&h.push(l[p]);h.length>0&&(this.popupObj=u[h[h.length-1]],o=!0)}if(void 0===this.popupObj&&o===!1){for(var d=this.body.edgeIndices,f=this.body.edges,m=void 0,y=[],v=0;v<d.length;v++)m=f[d[v]],m.isOverlappingWith(n)===!0&&m.connected===!0&&void 0!==m.getTitle()&&y.push(d[v]);y.length>0&&(this.popupObj=f[y[y.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new a.default(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t),i===!0)){var n=this.selectionHandler.getNodeAt(e);i=n.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));i===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),InteractionHandler}();t.default=u},function(e,t,i){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=(i(1),i(20)),o=i(28),s=i(23),a=function(){function NavigationHandler(e,t){var i=this;_classCallCheck(this,NavigationHandler),this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){i.activated=!0,i.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){i.activated=!1,i.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==i.keycharm&&i.keycharm.destroy()}),this.options={}}return n(NavigationHandler,[{key:"setOptions",value:function(e){void 0!==e&&(this.options=e,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<t.length;n++){this.navigationDOM[t[n]]=document.createElement("div"),this.navigationDOM[t[n]].className="vis-button vis-"+t[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[n]]);var s=new r(this.navigationDOM[t[n]]);"_fit"===i[n]?o.onTouch(s,this._fit.bind(this)):o.onTouch(s,this.bindToRedraw.bind(this,i[n])),this.navigationHammers.push(s)}var a=new r(this.canvas.frame);o.onRelease(a,function(){e._stopMovement()}),this.navigationHammers.push(a),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){void 0===this.boundFunctions[e]&&(this.boundFunctions[e]=this[e].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){void 0!==this.boundFunctions[e]&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)this.boundFunctions.hasOwnProperty(e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){this.body.view.scale*=1+this.options.keyboard.speed.zoom,this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale})}},{key:"_zoomOut",value:function(){this.body.view.scale/=1+this.options.keyboard.speed.zoom,this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}},{key:"configureKeyboardBindings",value:function(){var e=this;void 0!==this.keycharm&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=s({container:window,preventDefault:!0}):this.keycharm=s({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(this.keycharm.bind("up",function(){e.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){e.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){e.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){e.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){e.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){e.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){e.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){e.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){e.unbindFromRedraw("_zoomOut")},"keyup")))}}]),NavigationHandler}();t.default=a},function(e,t){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=function(){function Popup(e){_classCallCheck(this,Popup),this.container=e,this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-network-tooltip",this.container.appendChild(this.frame)}return i(Popup,[{key:"setPosition",value:function(e,t){this.x=parseInt(e),this.y=parseInt(t)}},{key:"setText",value:function(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=e}},{key:"show",value:function(e){if(void 0===e&&(e=!0),e===!0){var t=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,o=this.y-t;o+t+this.padding>n&&(o=n-t-this.padding),o<this.padding&&(o=this.padding);var s=this.x;s+i+this.padding>r&&(s=r-i-this.padding),s<this.padding&&(s=this.padding),this.frame.style.left=s+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.visibility="hidden"}}]),Popup}();t.default=n},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(65),o=_interopRequireDefault(r),s=i(85),a=_interopRequireDefault(s),l=i(1),u=function(){function SelectionHandler(e,t){var i=this;_classCallCheck(this,SelectionHandler),this.body=e,this.canvas=t,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},l.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){i.updateSelection()})}return n(SelectionHandler,[{key:"setOptions",value:function(e){if(void 0!==e){var t=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];l.selectiveDeepExtend(t,this.options,e)}}},{key:"selectOnPoint",value:function(e){var t=!1;if(this.options.selectable===!0){var i=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),void 0!==i&&(t=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(this.options.selectable===!0){var i=this.getNodeAt(e)||this.getEdgeAt(e);void 0!==i&&(t=!0,i.isSelected()===!0?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_generateClickEvent",value:function(e,t,i,n){var r=!(arguments.length<=4||void 0===arguments[4])&&arguments[4],o=void 0;o=r===!0?{nodes:[],edges:[]}:this.getSelection(),o.pointer={DOM:{x:i.x,y:i.y},canvas:this.canvas.DOMtoCanvas(i)},o.event=t,void 0!==n&&(o.previousSelection=n),this.body.emitter.emit(e,o)}},{key:"selectObject",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.options.selectConnectedEdges:arguments[1];return void 0!==e&&(e instanceof o.default&&t===!0&&this._selectConnectedEdges(e),e.select(),this._addToSelection(e),!0)}},{key:"deselectObject",value:function(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t=[],i=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodeIndices[n];i[r].isOverlappingWith(e)&&t.push(r)}return t}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1],i=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(i);return n.length>0?t===!0?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var i=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var r=this.body.edgeIndices[n];i[r].isOverlappingWith(e)&&t.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1],i=this._pointerToPositionObject(e),n=this._getAllEdgesOverlappingWith(i);return n.length>0?t===!0?this.body.edges[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_addToSelection",value:function(e){e instanceof o.default?this.selectionObj.nodes[e.id]=e:this.selectionObj.edges[e.id]=e}},{key:"_addToHover",value:function(e){e instanceof o.default?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){e instanceof o.default?(delete this.selectionObj.nodes[e.id],this._unselectConnectedEdges(e)):delete this.selectionObj.edges[e.id]}},{key:"unselectAll",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].unselect();for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&this.selectionObj.edges[t].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var e=0;for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedNode",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return this.selectionObj.nodes[e]}},{key:"_getSelectedEdge",value:function(){for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return this.selectionObj.edges[e]}},{key:"_getSelectedEdgeCount",value:function(){var e=0;for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedObjectCount",value:function(){var e=0;for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(e+=1);return e}},{key:"_selectionIsEmpty",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return!1;for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var i=e.edges[t];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var i=e.edges[t];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var i=e.edges[t];i.unselect(),this._removeFromSelection(i)}}},{key:"blurObject",value:function(e){e.hover===!0&&(e.hover=!1,e instanceof o.default?this.body.emitter.emit("blurNode",{node:e.id}):this.body.emitter.emit("blurEdge",{edge:e.id}))}},{key:"hoverObject",value:function(e){var t=!1;for(var i in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(i)&&(void 0===e||e instanceof o.default&&e.id!=i||e instanceof a.default)&&(this.blurObject(this.hoverObj.nodes[i]),delete this.hoverObj.nodes[i],t=!0);for(var n in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(n)&&(t===!0?(this.hoverObj.edges[n].hover=!1,delete this.hoverObj.edges[n]):void 0===e&&(this.blurObject(this.hoverObj.edges[n]),delete this.hoverObj.edges[n],t=!0));void 0!==e&&(e.hover===!1&&(e.hover=!0,this._addToHover(e),t=!0,e instanceof o.default?this.body.emitter.emit("hoverNode",{node:e.id}):this.body.emitter.emit("hoverEdge",{edge:e.id})),e instanceof o.default&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(e)),t===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){var e=this.getSelectedNodes(),t=this.getSelectedEdges();return{nodes:e,edges:t}}},{key:"getSelectedNodes",value:function(){var e=[];if(this.options.selectable===!0)for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&e.push(this.selectionObj.nodes[t].id);return e}},{key:"getSelectedEdges",value:function(){var e=[];if(this.options.selectable===!0)for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&e.push(this.selectionObj.edges[t].id);return e}},{key:"setSelection",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=void 0,n=void 0;if(!e||!e.nodes&&!e.edges)throw"Selection must be an object with nodes and/or edges properties";if((t.unselectAll||void 0===t.unselectAll)&&this.unselectAll(),e.nodes)for(i=0;i<e.nodes.length;i++){n=e.nodes[i];var r=this.body.nodes[n];if(!r)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(r,t.highlightEdges)}if(e.edges)for(i=0;i<e.edges.length;i++){n=e.edges[i];var o=this.body.edges[n];if(!o)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(o)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}},{key:"selectEdges",value:function(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(this.body.nodes.hasOwnProperty(e)||delete this.selectionObj.nodes[e]);for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(this.body.edges.hasOwnProperty(t)||delete this.selectionObj.edges[t])}}]),SelectionHandler}();t.default=u},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(l){r=!0,o=l}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),s=i(103),a=_interopRequireDefault(s),l=i(1),u=function(){function LayoutEngine(e){_classCallCheck(this,LayoutEngine),this.body=e,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return o(LayoutEngine,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()})}},{key:"setOptions",value:function(e,t){if(void 0!==e){var i=this.options.hierarchical.enabled;if(l.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,e),l.mergeOptions(this.options,e,"hierarchical"),void 0!==e.randomSeed&&(this.initialRandomSeed=e.randomSeed),this.options.hierarchical.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),"RL"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.options.hierarchical.levelSeparation>0&&(this.options.hierarchical.levelSeparation*=-1):this.options.hierarchical.levelSeparation<0&&(this.options.hierarchical.levelSeparation*=-1),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(i===!0)return this.body.emitter.emit("refresh"),l.deepExtend(t,this.optionsBackup)}return t}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(this.options.hierarchical.enabled===!0){void 0===e.physics||e.physics===!0?(e.physics={enabled:void 0===this.optionsBackup.physics.enabled||this.optionsBackup.physics.enabled,solver:"hierarchicalRepulsion"},this.optionsBackup.physics.enabled=void 0===this.optionsBackup.physics.enabled||this.optionsBackup.physics.enabled,this.optionsBackup.physics.solver=this.optionsBackup.physics.solver||"barnesHut"):"object"===r(e.physics)?(this.optionsBackup.physics.enabled=void 0===e.physics.enabled||e.physics.enabled,this.optionsBackup.physics.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(this.optionsBackup.physics.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var t="horizontal";"RL"!==this.options.hierarchical.direction&&"LR"!==this.options.hierarchical.direction||(t="vertical"),void 0===e.edges?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1}):void 0===e.edges.smooth?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1):"boolean"==typeof e.edges.smooth?(this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:t}):(void 0!==e.edges.smooth.type&&"dynamic"!==e.edges.smooth.type&&(t=e.edges.smooth.type),this.optionsBackup.edges={smooth:void 0===e.edges.smooth.enabled||e.edges.smooth.enabled,type:void 0===e.edges.smooth.type?"dynamic":e.edges.smooth.type,roundness:void 0===e.edges.smooth.roundness?.5:e.edges.smooth.roundness,forceDirection:void 0!==e.edges.smooth.forceDirection&&e.edges.smooth.forceDirection},e.edges.smooth={enabled:void 0===e.edges.smooth.enabled||e.edges.smooth.enabled,type:t,roundness:void 0===e.edges.smooth.roundness?.5:e.edges.smooth.roundness,forceDirection:void 0!==e.edges.smooth.forceDirection&&e.edges.smooth.forceDirection}),this.body.emitter.emit("_forceDisableDynamicCurves",t)}return e}},{key:"seededRandom",value:function(){var e=1e4*Math.sin(this.randomSeed++);return e-Math.floor(e)}},{key:"positionInitially",value:function(e){if(this.options.hierarchical.enabled!==!0){this.randomSeed=this.initialRandomSeed;for(var t=0;t<e.length;t++){var i=e[t],n=1*e.length+10,r=2*Math.PI*this.seededRandom();void 0===i.x&&(i.x=n*Math.cos(r)),void 0===i.y&&(i.y=n*Math.sin(r))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var e=0,t=0;t<this.body.nodeIndices.length;t++){var i=this.body.nodes[this.body.nodeIndices[t]];i.predefinedPosition===!0&&(e+=1)}if(e<.5*this.body.nodeIndices.length){var n=10,r=0,o=100;if(this.body.nodeIndices.length>o){for(var s=this.body.nodeIndices.length;this.body.nodeIndices.length>o;){r+=1;var a=this.body.nodeIndices.length;r%3===0?this.body.modules.clustering.clusterBridges():this.body.modules.clustering.clusterOutliers();var l=this.body.nodeIndices.length;if(a==l&&r%3!==0||r>n)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*s)})}this.body.modules.kamadaKawai.solve(this.body.nodeIndices,this.body.edgeIndices,!0),this._shiftToCenter();for(var u=70,c=0;c<this.body.nodeIndices.length;c++)this.body.nodes[this.body.nodeIndices[c]].x+=(.5-this.seededRandom())*u,this.body.nodes[this.body.nodeIndices[c]].y+=(.5-this.seededRandom())*u;this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=a.default.getRangeCore(this.body.nodes,this.body.nodeIndices),t=a.default.findCenter(e),i=0;i<this.body.nodeIndices.length;i++)this.body.nodes[this.body.nodeIndices[i]].x-=t.x,this.body.nodes[this.body.nodeIndices[i]].y-=t.y}},{key:"_declusterAll",value:function(){for(var e=!0;e===!0;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var e=void 0,t=void 0,i=!1,n=!0,r=!1;this.hierarchicalLevels={},this.lastNodeOnLevel={},this.hierarchicalChildrenReference={},this.hierarchicalParentReference={},this.hierarchicalTrees={},this.treeIndex=-1,this.distributionOrdering={},this.distributionIndex={},this.distributionOrderingPresence={};for(t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(e=this.body.nodes[t],void 0===e.options.x&&void 0===e.options.y&&(n=!1),void 0!==e.options.level?(i=!0,this.hierarchicalLevels[t]=e.options.level):r=!0);if(r===!0&&i===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");r===!0&&("hubsize"===this.options.hierarchical.sortMethod?this._determineLevelsByHubsize():"directed"===this.options.hierarchical.sortMethod?this._determineLevelsDirected():"custom"===this.options.hierarchical.sortMethod&&this._determineLevelsCustomCallback());for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&void 0===this.hierarchicalLevels[o]&&(this.hierarchicalLevels[o]=0);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,t=!1,i={},r=function(){for(var t=a(),i=0;i<t.length-1;i++){var n=t[i].max-t[i+1].min;o(i+1,n+e.options.hierarchical.treeSpacing)}},o=function(t,i){for(var n in e.hierarchicalTrees)if(e.hierarchicalTrees.hasOwnProperty(n)&&e.hierarchicalTrees[n]===t){var r=e.body.nodes[n],o=e._getPositionForHierarchy(r);e._setPositionForHierarchy(r,o+i,void 0,!0)}},s=function(t){var i=1e9,n=-1e9;for(var r in e.hierarchicalTrees)if(e.hierarchicalTrees.hasOwnProperty(r)&&e.hierarchicalTrees[r]===t){var o=e._getPositionForHierarchy(e.body.nodes[r]);i=Math.min(o,i),n=Math.max(o,n)}return{min:i,max:n}},a=function(){for(var t=[],i=0;i<=e.treeIndex;i++)t.push(s(i));return t},l=function getBranchNodes(t,i){if(i[t.id]=!0,e.hierarchicalChildrenReference[t.id]){var n=e.hierarchicalChildrenReference[t.id];if(n.length>0)for(var r=0;r<n.length;r++)getBranchNodes(e.body.nodes[n[r]],i)}},u=function(t){var i=arguments.length<=1||void 0===arguments[1]?1e9:arguments[1],r=1e9,o=1e9,s=1e9,a=-1e9;for(var l in t)if(t.hasOwnProperty(l)){var u=e.body.nodes[l],c=e.hierarchicalLevels[u.id],h=e._getPositionForHierarchy(u),p=e._getSpaceAroundNode(u,t),d=n(p,2),f=d[0],m=d[1];r=Math.min(f,r),o=Math.min(m,o),c<=i&&(s=Math.min(h,s),a=Math.max(h,a))}return[s,a,r,o]},c=function getMaxLevel(t){var i=e.hierarchicalLevels[t];if(e.hierarchicalChildrenReference[t]){var n=e.hierarchicalChildrenReference[t];if(n.length>0)for(var r=0;r<n.length;r++)i=Math.max(i,getMaxLevel(n[r]))}return i},h=function(e,t){var i=c(e.id),n=c(t.id);return Math.min(i,n)},p=function(t,i){var n=e.hierarchicalParentReference[t.id],r=e.hierarchicalParentReference[i.id];if(void 0===n||void 0===r)return!1;for(var o=0;o<n.length;o++)for(var s=0;s<r.length;s++)if(n[o]==r[s])return!0;return!1},d=function(t,i,n){for(var r=0;r<i.length;r++){var o=i[r],s=e.distributionOrdering[o];if(s.length>1)for(var a=0;a<s.length-1;a++)p(s[a],s[a+1])===!0&&e.hierarchicalTrees[s[a].id]===e.hierarchicalTrees[s[a+1].id]&&t(s[a],s[a+1],n)}},f=function(i,r){var o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],s=e._getPositionForHierarchy(i),a=e._getPositionForHierarchy(r),c=Math.abs(a-s);if(c>e.options.hierarchical.nodeSpacing){var p={};p[i.id]=!0;var d={};d[r.id]=!0,l(i,p),l(r,d);var f=h(i,r),m=u(p,f),y=n(m,4),v=(y[0],y[1]),g=(y[2],y[3],u(d,f)),_=n(g,4),b=_[0],w=(_[1],_[2]),C=(_[3],Math.abs(v-b));if(C>e.options.hierarchical.nodeSpacing){
var x=v-b+e.options.hierarchical.nodeSpacing;x<-w+e.options.hierarchical.nodeSpacing&&(x=-w+e.options.hierarchical.nodeSpacing),x<0&&(e._shiftBlock(r.id,x),t=!0,o===!0&&e._centerParent(r))}}},m=function(r,o){for(var s=o.id,a=o.edges,c=e.hierarchicalLevels[o.id],h=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,p={},d=[],f=0;f<a.length;f++){var m=a[f];if(m.toId!=m.fromId){var y=m.toId==s?m.from:m.to;p[a[f].id]=y,e.hierarchicalLevels[y.id]<c&&d.push(m)}}var v=function(t,i){for(var n=0,r=0;r<i.length;r++)if(void 0!==p[i[r].id]){var o=e._getPositionForHierarchy(p[i[r].id])-t;n+=o/Math.sqrt(o*o+h)}return n},g=function(t,i){for(var n=0,r=0;r<i.length;r++)if(void 0!==p[i[r].id]){var o=e._getPositionForHierarchy(p[i[r].id])-t;n-=h*Math.pow(o*o+h,-1.5)}return n},_=function(t,i){for(var n=e._getPositionForHierarchy(o),r={},s=0;s<t;s++){var a=v(n,i),l=g(n,i),u=40,c=Math.max(-u,Math.min(u,Math.round(a/l)));if(n-=c,void 0!==r[n])break;r[n]=s}return n},b=function(r){var s=e._getPositionForHierarchy(o);if(void 0===i[o.id]){var a={};a[o.id]=!0,l(o,a),i[o.id]=a}var c=u(i[o.id]),h=n(c,4),p=(h[0],h[1],h[2]),d=h[3],f=r-s,m=0;f>0?m=Math.min(f,d-e.options.hierarchical.nodeSpacing):f<0&&(m=-Math.min(-f,p-e.options.hierarchical.nodeSpacing)),0!=m&&(e._shiftBlock(o.id,m),t=!0)},w=function(i){var r=e._getPositionForHierarchy(o),s=e._getSpaceAroundNode(o),a=n(s,2),l=a[0],u=a[1],c=i-r,h=r;c>0?h=Math.min(r+(u-e.options.hierarchical.nodeSpacing),i):c<0&&(h=Math.max(r-(l-e.options.hierarchical.nodeSpacing),i)),h!==r&&(e._setPositionForHierarchy(o,h,void 0,!0),t=!0)},C=_(r,d);b(C),C=_(r,a),w(C)},y=function(i){var n=Object.keys(e.distributionOrdering);n=n.reverse();for(var r=0;r<i;r++){t=!1;for(var o=0;o<n.length;o++)for(var s=n[o],a=e.distributionOrdering[s],l=0;l<a.length;l++)m(1e3,a[l]);if(t!==!0)break}},v=function(i){var n=Object.keys(e.distributionOrdering);n=n.reverse();for(var r=0;r<i&&(t=!1,d(f,n,!0),t===!0);r++);},g=function(){for(var t in e.body.nodes)e.body.nodes.hasOwnProperty(t)&&e._centerParent(e.body.nodes[t])},_=function(){var t=Object.keys(e.distributionOrdering);t=t.reverse();for(var i=0;i<t.length;i++)for(var n=t[i],r=e.distributionOrdering[n],o=0;o<r.length;o++)e._centerParent(r[o])};this.options.hierarchical.blockShifting===!0&&(v(5),g()),this.options.hierarchical.edgeMinimization===!0&&y(20),this.options.hierarchical.parentCentralization===!0&&_(),r()}},{key:"_getSpaceAroundNode",value:function(e,t){var i=!0;void 0===t&&(i=!1);var n=this.hierarchicalLevels[e.id];if(void 0!==n){var r=this.distributionIndex[e.id],o=this._getPositionForHierarchy(e),s=1e9,a=1e9;if(0!==r){var l=this.distributionOrdering[n][r-1];if(i===!0&&void 0===t[l.id]||i===!1){var u=this._getPositionForHierarchy(l);s=o-u}}if(r!=this.distributionOrdering[n].length-1){var c=this.distributionOrdering[n][r+1];if(i===!0&&void 0===t[c.id]||i===!1){var h=this._getPositionForHierarchy(c);a=Math.min(a,h-o)}}return[s,a]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchicalParentReference[e.id])for(var t=this.hierarchicalParentReference[e.id],i=0;i<t.length;i++){var r=t[i],o=this.body.nodes[r];if(this.hierarchicalChildrenReference[r]){var s=1e9,a=-1e9,l=this.hierarchicalChildrenReference[r];if(l.length>0)for(var u=0;u<l.length;u++){var c=this.body.nodes[l[u]];s=Math.min(s,this._getPositionForHierarchy(c)),a=Math.max(a,this._getPositionForHierarchy(c))}var h=this._getPositionForHierarchy(o),p=this._getSpaceAroundNode(o),d=n(p,2),f=d[0],m=d[1],y=.5*(s+a),v=h-y;(v<0&&Math.abs(v)<m-this.options.hierarchical.nodeSpacing||v>0&&Math.abs(v)<f-this.options.hierarchical.nodeSpacing)&&this._setPositionForHierarchy(o,y,void 0,!0)}}}},{key:"_placeNodesByHierarchy",value:function(e){this.positionedNodes={};for(var t in e)if(e.hasOwnProperty(t)){var i=Object.keys(e[t]);i=this._indexArrayToNodes(i),this._sortNodeArray(i);for(var n=0,r=0;r<i.length;r++){var o=i[r];if(void 0===this.positionedNodes[o.id]){var s=this.options.hierarchical.nodeSpacing*n;n>0&&(s=this._getPositionForHierarchy(i[r-1])+this.options.hierarchical.nodeSpacing),this._setPositionForHierarchy(o,s,t),this._validataPositionAndContinue(o,t,s),n++}}}}},{key:"_placeBranchNodes",value:function(e,t){if(void 0!==this.hierarchicalChildrenReference[e]){for(var i=[],n=0;n<this.hierarchicalChildrenReference[e].length;n++)i.push(this.body.nodes[this.hierarchicalChildrenReference[e][n]]);this._sortNodeArray(i);for(var r=0;r<i.length;r++){var o=i[r],s=this.hierarchicalLevels[o.id];if(!(s>t&&void 0===this.positionedNodes[o.id]))return;var a=void 0;a=0===r?this._getPositionForHierarchy(this.body.nodes[e]):this._getPositionForHierarchy(i[r-1])+this.options.hierarchical.nodeSpacing,this._setPositionForHierarchy(o,a,s),this._validataPositionAndContinue(o,s,a)}for(var l=1e9,u=-1e9,c=0;c<i.length;c++){var h=i[c].id;l=Math.min(l,this._getPositionForHierarchy(this.body.nodes[h])),u=Math.max(u,this._getPositionForHierarchy(this.body.nodes[h]))}this._setPositionForHierarchy(this.body.nodes[e],.5*(l+u),t)}}},{key:"_validataPositionAndContinue",value:function(e,t,i){if(void 0!==this.lastNodeOnLevel[t]){var n=this._getPositionForHierarchy(this.body.nodes[this.lastNodeOnLevel[t]]);if(i-n<this.options.hierarchical.nodeSpacing){var r=n+this.options.hierarchical.nodeSpacing-i,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,r)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}},{key:"_indexArrayToNodes",value:function(e){for(var t=[],i=0;i<e.length;i++)t.push(this.body.nodes[e[i]]);return t}},{key:"_getDistribution",value:function(){var e={},t=void 0,i=void 0;for(t in this.body.nodes)if(this.body.nodes.hasOwnProperty(t)){i=this.body.nodes[t];var n=void 0===this.hierarchicalLevels[t]?0:this.hierarchicalLevels[t];"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(i.y=this.options.hierarchical.levelSeparation*n,i.options.fixed.y=!0):(i.x=this.options.hierarchical.levelSeparation*n,i.options.fixed.x=!0),void 0===e[n]&&(e[n]={}),e[n][t]=i}return e}},{key:"_getHubSize",value:function(){var e=0;for(var t in this.body.nodes)if(this.body.nodes.hasOwnProperty(t)){var i=this.body.nodes[t];void 0===this.hierarchicalLevels[t]&&(e=i.edges.length<e?e:i.edges.length)}return e}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,t=1,i=function(t,i){void 0===e.hierarchicalLevels[i.id]&&(void 0===e.hierarchicalLevels[t.id]&&(e.hierarchicalLevels[t.id]=0),e.hierarchicalLevels[i.id]=e.hierarchicalLevels[t.id]+1)};t>0&&(t=this._getHubSize(),0!==t);)for(var n in this.body.nodes)if(this.body.nodes.hasOwnProperty(n)){var r=this.body.nodes[n];r.edges.length===t&&this._crawlNetwork(i,n)}}},{key:"_determineLevelsCustomCallback",value:function(){var e=this,t=1e5,i=function(e,t,i){},n=function(n,r,o){var s=e.hierarchicalLevels[n.id];void 0===s&&(e.hierarchicalLevels[n.id]=t);var l=i(a.default.cloneOptions(n,"node"),a.default.cloneOptions(r,"node"),a.default.cloneOptions(o,"edge"));e.hierarchicalLevels[r.id]=e.hierarchicalLevels[n.id]+l};this._crawlNetwork(n),this._setMinLevelToZero()}},{key:"_determineLevelsDirected",value:function(){var e=this,t=1e4,i=function(i,n,r){var o=e.hierarchicalLevels[i.id];void 0===o&&(e.hierarchicalLevels[i.id]=t),r.toId==n.id?e.hierarchicalLevels[n.id]=e.hierarchicalLevels[i.id]+1:e.hierarchicalLevels[n.id]=e.hierarchicalLevels[i.id]-1};this._crawlNetwork(i),this._setMinLevelToZero()}},{key:"_setMinLevelToZero",value:function(){var e=1e9;for(var t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&void 0!==this.hierarchicalLevels[t]&&(e=Math.min(this.hierarchicalLevels[t],e));for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&void 0!==this.hierarchicalLevels[i]&&(this.hierarchicalLevels[i]-=e)}},{key:"_generateMap",value:function(){var e=this,t=function(t,i){if(e.hierarchicalLevels[i.id]>e.hierarchicalLevels[t.id]){var n=t.id,r=i.id;void 0===e.hierarchicalChildrenReference[n]&&(e.hierarchicalChildrenReference[n]=[]),e.hierarchicalChildrenReference[n].push(r),void 0===e.hierarchicalParentReference[r]&&(e.hierarchicalParentReference[r]=[]),e.hierarchicalParentReference[r].push(n)}};this._crawlNetwork(t)}},{key:"_crawlNetwork",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?function(){}:arguments[0],i=arguments[1],n={},r=0,o=function crawler(i,r){if(void 0===n[i.id]){void 0===e.hierarchicalTrees[i.id]&&(e.hierarchicalTrees[i.id]=r,e.treeIndex=Math.max(r,e.treeIndex)),n[i.id]=!0;for(var o=void 0,s=0;s<i.edges.length;s++)i.edges[s].connected===!0&&(o=i.edges[s].toId===i.id?i.edges[s].from:i.edges[s].to,i.id!==o.id&&(t(i,o,i.edges[s]),crawler(o,r)))}};if(void 0===i)for(var s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodes[this.body.nodeIndices[s]];void 0===n[a.id]&&(o(a,r),r+=1)}else{var l=this.body.nodes[i];if(void 0===l)return void console.error("Node not found:",i);o(l)}}},{key:"_shiftBlock",value:function(e,t){if("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.body.nodes[e].x+=t:this.body.nodes[e].y+=t,void 0!==this.hierarchicalChildrenReference[e])for(var i=0;i<this.hierarchicalChildrenReference[e].length;i++)this._shiftBlock(this.hierarchicalChildrenReference[e][i],t)}},{key:"_findCommonParent",value:function(e,t){var i=this,n={},r=function iterateParents(e,t){if(void 0!==i.hierarchicalParentReference[t])for(var n=0;n<i.hierarchicalParentReference[t].length;n++){var r=i.hierarchicalParentReference[t][n];e[r]=!0,iterateParents(e,r)}},o=function findParent(e,t){if(void 0!==i.hierarchicalParentReference[t])for(var n=0;n<i.hierarchicalParentReference[t].length;n++){var r=i.hierarchicalParentReference[t][n];if(void 0!==e[r])return{foundParent:r,withChild:t};var o=findParent(e,r);if(null!==o.foundParent)return o}return{foundParent:null,withChild:t}};return r(n,e),o(n,t)}},{key:"_setPositionForHierarchy",value:function(e,t,i){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];n!==!0&&(void 0===this.distributionOrdering[i]&&(this.distributionOrdering[i]=[],this.distributionOrderingPresence[i]={}),void 0===this.distributionOrderingPresence[i][e.id]&&(this.distributionOrdering[i].push(e),this.distributionIndex[e.id]=this.distributionOrdering[i].length-1),this.distributionOrderingPresence[i][e.id]=!0),"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?e.x=t:e.y=t}},{key:"_getPositionForHierarchy",value:function(e){return"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?e.x:e.y}},{key:"_sortNodeArray",value:function(e){e.length>1&&("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?e.sort(function(e,t){return e.x-t.x}):e.sort(function(e,t){return e.y-t.y}))}}]),LayoutEngine}();t.default=u},function(e,t,i){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(1),o=i(20),s=i(28),a=function(){function ManipulationSystem(e,t,i){var n=this;_classCallCheck(this,ManipulationSystem),this.body=e,this.canvas=t,this.selectionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},r.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){n._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return n(ManipulationSystem,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,i){void 0!==t&&(void 0!==t.locale?this.options.locale=t.locale:this.options.locale=i.locale,void 0!==t.locales?this.options.locales=t.locales:this.options.locales=i.locales),void 0!==e&&("boolean"==typeof e?this.options.enabled=e:(this.options.enabled=!0,r.deepExtend(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var e=this.selectionHandler._getSelectedNodeCount(),t=this.selectionHandler._getSelectedEdgeCount(),i=e+t,n=this.options.locales[this.options.locale],r=!1;this.options.addNode!==!1&&(this._createAddNodeButton(n),r=!0),this.options.addEdge!==!1&&(r===!0?this._createSeperator(1):r=!0,this._createAddEdgeButton(n)),1===e&&"function"==typeof this.options.editNode?(r===!0?this._createSeperator(2):r=!0,this._createEditNodeButton(n)):1===t&&0===e&&this.options.editEdge!==!1&&(r===!0?this._createSeperator(3):r=!0,this._createEditEdgeButton(n)),0!==i&&(e>0&&this.options.deleteNode!==!1?(r===!0&&this._createSeperator(4),this._createDeleteButton(n)):0===e&&this.options.deleteEdge!==!1&&(r===!0&&this._createSeperator(4),this._createDeleteButton(n))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var t=this.selectionHandler._getSelectedNode();if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(t.isCluster!==!0){var i=r.deepExtend({},t.options,!1);if(i.x=t.x,i.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(t){null!==t&&void 0!==t&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(t),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",function(){}),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){var e=this;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",this.guiEnabled===!0){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId?!function(){var t=e.body.edges[e.edgeBeingEditedId],i=e._getNewTargetNode(t.from.x,t.from.y),n=e._getNewTargetNode(t.to.x,t.to.y);e.temporaryIds.nodes.push(i.id),e.temporaryIds.nodes.push(n.id),e.body.nodes[i.id]=i,e.body.nodeIndices.push(i.id),e.body.nodes[n.id]=n,e.body.nodeIndices.push(n.id),e._temporaryBindUI("onTouch",e._controlNodeTouch.bind(e)),e._temporaryBindUI("onTap",function(){}),e._temporaryBindUI("onHold",function(){}),e._temporaryBindUI("onDragStart",e._controlNodeDragStart.bind(e)),e._temporaryBindUI("onDrag",e._controlNodeDrag.bind(e)),e._temporaryBindUI("onDragEnd",e._controlNodeDragEnd.bind(e)),e._temporaryBindUI("onMouseMove",function(){}),e._temporaryBindEvent("beforeDrawing",function(e){var r=t.edgeType.findBorderPositions(e);i.selected===!1&&(i.x=r.from.x,i.y=r.from.y),n.selected===!1&&(n.x=r.to.x,n.y=r.to.y)}),e.body.emitter.emit("_redraw")}():this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),n=void 0;if(t.length>0){for(var r=0;r<t.length;r++)if(this.body.nodes[t[r]].isCluster===!0)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(n=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"==typeof n){var o={nodes:t,edges:i};if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n(o,function(t){null!==t&&void 0!==t&&"delete"===e.inMode?(e.body.data.edges.getDataSet().remove(t.edges),e.body.data.nodes.getDataSet().remove(t.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var i=r.deepExtend({},this.options.controlNodeStyle);i.id="targetNode"+r.randomUUID(),i.hidden=!1,i.physics=!1,i.x=e,i.y=t;var n=this.body.functions.createNode(i);return n.shape.boundingBox={left:e,right:e,top:t,bottom:t},n}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},r.recursiveDOMDelete(this.editModeDiv);var e=this.options.locales[this.options.locale],t=this._createButton("editMode","vis-button vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(t),this._bindHammerToDiv(t,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(r.recursiveDOMDelete(this.editModeDiv),r.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var e=0;e<this.manipulationHammers.length;e++)this.manipulationHammers[e].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),r.recursiveDOMDelete(this.manipulationDiv),r.recursiveDOMDelete(this.editModeDiv),r.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t=this._createButton("addNode","vis-button vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(e){var t=this._createButton("addEdge","vis-button vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(e){var t=this._createButton("editNode","vis-button vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(e){var t=this._createButton("editEdge","vis-button vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(e){if(this.options.rtl)var t="vis-button vis-delete-rtl";else var t="vis-button vis-delete";var i=this._createButton("delete",t,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(e){var t=this._createButton("back","vis-button vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(e,t,i){var n=arguments.length<=3||void 0===arguments[3]?"vis-label":arguments[3];return this.manipulationDOM[e+"Div"]=document.createElement("div"),this.manipulationDOM[e+"Div"].className=t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=n,this.manipulationDOM[e+"Label"].innerHTML=i,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",e))}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(void 0===this.body.eventListeners[e])throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+JSON.stringify(Object.keys(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var t=this.temporaryEventFunctions[e].event,i=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,i)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(e,t){var i=new o(e,{});s.onTouch(i,t),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var t=this.body.edgeIndices.indexOf(this.temporaryIds.edges[e]);t!==-1&&this.body.edgeIndices.splice(t,1)}for(var i=0;i<this.temporaryIds.nodes.length;i++){delete this.body.nodes[this.temporaryIds.nodes[i]];var n=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]);n!==-1&&this.body.nodeIndices.splice(n,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=r.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(e){var t=this.lastTouch,i=this.selectionHandler._pointerToPositionObject(t),n=this.body.nodes[this.temporaryIds.nodes[0]],r=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var s=n.isOverlappingWith(i),a=r.isOverlappingWith(i);s===!0?(this.selectedControlNode=n,o.edgeType.from=n):a===!0&&(this.selectedControlNode=r,o.edgeType.to=r),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),i=this.canvas.DOMtoCanvas(t);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y;else{var n=t.x-this.lastTouch.x,r=t.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+r}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var t=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(t),n=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),o=void 0,s=r.length-1;s>=0;s--)if(r[s]!==this.selectedControlNode.id){o=this.body.nodes[r[s]];break}if(void 0!==o&&void 0!==this.selectedControlNode)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,n.to.id):this._performEditEdge(n.from.id,o.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=r.extend({},this.body.view.translation);var t=this.lastTouch,i=this.selectionHandler.getNodeAt(t);if(void 0!==i)if(i.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var n=this._getNewTargetNode(i.x,i.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var o=this.body.functions.createEdge({id:"connectionEdge"+r.randomUUID(),from:i.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(o.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center);if(void 0!==this.temporaryIds.nodes[0]){var i=this.body.nodes[this.temporaryIds.nodes[0]];i.x=this.canvas._XconvertDOMtoCanvas(t.x),i.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else{var n=t.x-this.lastTouch.x,r=t.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+r}}}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(t),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),o=void 0,s=r.length-1;s>=0;s--)if(this.temporaryIds.nodes.indexOf(r[s])===-1){o=this.body.nodes[r[s]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(n,o.id)),this.body.emitter.emit("_redraw")}},{key:"_performAddNode",value:function(e){var t=this,i={id:r.randomUUID(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(e){null!==e&&void 0!==e&&"addNode"===t.inMode&&(t.body.data.nodes.getDataSet().add(e),t.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,t){var i=this,n={from:e,to:t};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(e){null!==e&&void 0!==e&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(e),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,t){var i=this,n={id:this.edgeBeingEditedId,from:e,to:t};if("function"==typeof this.options.editEdge){if(2!==this.options.editEdge.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editEdge(n,function(e){null===e||void 0===e||"editEdge"!==i.inMode?(i.body.edges[n.id].updateEdgeType(),i.body.emitter.emit("_redraw")):(i.body.data.edges.getDataSet().update(e),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),ManipulationSystem}();t.default=a},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i="string",n="boolean",r="number",o="array",s="object",a="dom",l="any",u={configure:{
enabled:{"boolean":n},filter:{"boolean":n,string:i,array:o,"function":"function"},container:{dom:a},showButton:{"boolean":n},__type__:{object:s,"boolean":n,string:i,array:o,"function":"function"}},edges:{arrows:{to:{enabled:{"boolean":n},scaleFactor:{number:r},__type__:{object:s,"boolean":n}},middle:{enabled:{"boolean":n},scaleFactor:{number:r},__type__:{object:s,"boolean":n}},from:{enabled:{"boolean":n},scaleFactor:{number:r},__type__:{object:s,"boolean":n}},__type__:{string:["from","to","middle"],object:s}},arrowStrikethrough:{"boolean":n},color:{color:{string:i},highlight:{string:i},hover:{string:i},inherit:{string:["from","to","both"],"boolean":n},opacity:{number:r},__type__:{object:s,string:i}},dashes:{"boolean":n,array:o},font:{color:{string:i},size:{number:r},face:{string:i},background:{string:i},strokeWidth:{number:r},strokeColor:{string:i},align:{string:["horizontal","top","middle","bottom"]},__type__:{object:s,string:i}},hidden:{"boolean":n},hoverWidth:{"function":"function",number:r},label:{string:i,undefined:"undefined"},labelHighlightBold:{"boolean":n},length:{number:r,undefined:"undefined"},physics:{"boolean":n},scaling:{min:{number:r},max:{number:r},label:{enabled:{"boolean":n},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:s,"boolean":n}},customScalingFunction:{"function":"function"},__type__:{object:s}},selectionWidth:{"function":"function",number:r},selfReferenceSize:{number:r},shadow:{enabled:{"boolean":n},color:{string:i},size:{number:r},x:{number:r},y:{number:r},__type__:{object:s,"boolean":n}},smooth:{enabled:{"boolean":n},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:r},forceDirection:{string:["horizontal","vertical","none"],"boolean":n},__type__:{object:s,"boolean":n}},title:{string:i,undefined:"undefined"},width:{number:r},value:{number:r,undefined:"undefined"},__type__:{object:s}},groups:{useDefaultGroups:{"boolean":n},__any__:"get from nodes, will be overwritten below",__type__:{object:s}},interaction:{dragNodes:{"boolean":n},dragView:{"boolean":n},hideEdgesOnDrag:{"boolean":n},hideNodesOnDrag:{"boolean":n},hover:{"boolean":n},keyboard:{enabled:{"boolean":n},speed:{x:{number:r},y:{number:r},zoom:{number:r},__type__:{object:s}},bindToWindow:{"boolean":n},__type__:{object:s,"boolean":n}},multiselect:{"boolean":n},navigationButtons:{"boolean":n},selectable:{"boolean":n},selectConnectedEdges:{"boolean":n},hoverConnectedEdges:{"boolean":n},tooltipDelay:{number:r},zoomView:{"boolean":n},__type__:{object:s}},layout:{randomSeed:{undefined:"undefined",number:r},improvedLayout:{"boolean":n},hierarchical:{enabled:{"boolean":n},levelSeparation:{number:r},nodeSpacing:{number:r},treeSpacing:{number:r},blockShifting:{"boolean":n},edgeMinimization:{"boolean":n},parentCentralization:{"boolean":n},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:s,"boolean":n}},__type__:{object:s}},manipulation:{enabled:{"boolean":n},initiallyActive:{"boolean":n},addNode:{"boolean":n,"function":"function"},addEdge:{"boolean":n,"function":"function"},editNode:{"function":"function"},editEdge:{"boolean":n,"function":"function"},deleteNode:{"boolean":n,"function":"function"},deleteEdge:{"boolean":n,"function":"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:s,"boolean":n}},nodes:{borderWidth:{number:r},borderWidthSelected:{number:r,undefined:"undefined"},brokenImage:{string:i,undefined:"undefined"},color:{border:{string:i},background:{string:i},highlight:{border:{string:i},background:{string:i},__type__:{object:s,string:i}},hover:{border:{string:i},background:{string:i},__type__:{object:s,string:i}},__type__:{object:s,string:i}},fixed:{x:{"boolean":n},y:{"boolean":n},__type__:{object:s,"boolean":n}},font:{align:{string:i},color:{string:i},size:{number:r},face:{string:i},background:{string:i},strokeWidth:{number:r},strokeColor:{string:i},__type__:{object:s,string:i}},group:{string:i,number:r,undefined:"undefined"},hidden:{"boolean":n},icon:{face:{string:i},code:{string:i},size:{number:r},color:{string:i},__type__:{object:s}},id:{string:i,number:r},image:{string:i,undefined:"undefined"},label:{string:i,undefined:"undefined"},labelHighlightBold:{"boolean":n},level:{number:r,undefined:"undefined"},mass:{number:r},physics:{"boolean":n},scaling:{min:{number:r},max:{number:r},label:{enabled:{"boolean":n},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:s,"boolean":n}},customScalingFunction:{"function":"function"},__type__:{object:s}},shadow:{enabled:{"boolean":n},color:{string:i},size:{number:r},x:{number:r},y:{number:r},__type__:{object:s,"boolean":n}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon"]},shapeProperties:{borderDashes:{"boolean":n,array:o},borderRadius:{number:r},interpolation:{"boolean":n},useImageSize:{"boolean":n},useBorderWithImage:{"boolean":n},__type__:{object:s}},size:{number:r},title:{string:i,undefined:"undefined"},value:{number:r,undefined:"undefined"},x:{number:r},y:{number:r},__type__:{object:s}},physics:{enabled:{"boolean":n},barnesHut:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:s}},forceAtlas2Based:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:s}},repulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:s}},hierarchicalRepulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:s}},maxVelocity:{number:r},minVelocity:{number:r},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{"boolean":n},iterations:{number:r},updateInterval:{number:r},onlyDynamicEdges:{"boolean":n},fit:{"boolean":n},__type__:{object:s,"boolean":n}},timestep:{number:r},adaptiveTimestep:{"boolean":n},__type__:{object:s,"boolean":n}},autoResize:{"boolean":n},clickToUse:{"boolean":n},locale:{string:i},locales:{__any__:{any:l},__type__:{object:s}},height:{string:i},width:{string:i},__type__:{object:s}};u.groups.__any__=u.nodes,u.manipulation.controlNodeStyle=u.nodes;var c={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05]},middle:{enabled:!1,scaleFactor:[1,0,3,.05]},from:{enabled:!1,scaleFactor:[1,0,3,.05]}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]},global:{locale:["en","nl"]}};t.allOptions=u,t.configureOptions=c},function(e,t,i){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(l){r=!0,o=l}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),o=i(116),s=_interopRequireDefault(o),a=function(){function KamadaKawai(e,t,i){_classCallCheck(this,KamadaKawai),this.body=e,this.springLength=t,this.springConstant=i,this.distanceSolver=new s.default}return r(KamadaKawai,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,t){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],r=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(r),this._createK_matrix(r);for(var o=.01,s=1,a=0,l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=5,c=1e9,h=0,p=0,d=0,f=0,m=0;c>o&&a<l;){a+=1;var y=this._getHighestEnergyNode(i),v=n(y,4);for(h=v[0],c=v[1],p=v[2],d=v[3],f=c,m=0;f>s&&m<u;){m+=1,this._moveNode(h,p,d);var g=this._getEnergy(h),_=n(g,3);f=_[0],p=_[1],d=_[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var t=this.body.nodeIndices,i=this.body.nodes,r=0,o=t[0],s=0,a=0,l=0;l<t.length;l++){var u=t[l];if(i[u].predefinedPosition===!1||i[u].isCluster===!0&&e===!0||i[u].options.fixed.x===!0||i[u].options.fixed.y===!0){var c=this._getEnergy(u),h=n(c,3),p=h[0],d=h[1],f=h[2];r<p&&(r=p,o=u,s=d,a=f)}}return[o,r,s,a]}},{key:"_getEnergy",value:function(e){for(var t=this.body.nodeIndices,i=this.body.nodes,n=i[e].x,r=i[e].y,o=0,s=0,a=0;a<t.length;a++){var l=t[a];if(l!==e){var u=i[l].x,c=i[l].y,h=1/Math.sqrt(Math.pow(n-u,2)+Math.pow(r-c,2));o+=this.K_matrix[e][l]*(n-u-this.L_matrix[e][l]*(n-u)*h),s+=this.K_matrix[e][l]*(r-c-this.L_matrix[e][l]*(r-c)*h)}}var p=Math.sqrt(Math.pow(o,2)+Math.pow(s,2));return[p,o,s]}},{key:"_moveNode",value:function(e,t,i){for(var n=this.body.nodeIndices,r=this.body.nodes,o=0,s=0,a=0,l=r[e].x,u=r[e].y,c=0;c<n.length;c++){var h=n[c];if(h!==e){var p=r[h].x,d=r[h].y,f=1/Math.pow(Math.pow(l-p,2)+Math.pow(u-d,2),1.5);o+=this.K_matrix[e][h]*(1-this.L_matrix[e][h]*Math.pow(u-d,2)*f),s+=this.K_matrix[e][h]*(this.L_matrix[e][h]*(l-p)*(u-d)*f),a+=this.K_matrix[e][h]*(1-this.L_matrix[e][h]*Math.pow(l-p,2)*f)}}var m=o,y=s,v=t,g=a,_=i,b=(v/m+_/y)/(y/m-g/y),w=-(y*b+v)/m;r[e].x+=w,r[e].y+=b}},{key:"_createL_matrix",value:function(e){var t=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var n=0;n<t.length;n++){this.L_matrix[t[n]]={};for(var r=0;r<t.length;r++)this.L_matrix[t[n]][t[r]]=i*e[t[n]][t[r]]}}},{key:"_createK_matrix",value:function(e){var t=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var n=0;n<t.length;n++){this.K_matrix[t[n]]={};for(var r=0;r<t.length;r++)this.K_matrix[t[n]][t[r]]=i*Math.pow(e[t[n]][t[r]],-2)}}}]),KamadaKawai}();t.default=a},function(e,t){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=function(){function FloydWarshall(){_classCallCheck(this,FloydWarshall)}return i(FloydWarshall,[{key:"getDistances",value:function(e,t,i){for(var n={},r=e.edges,o=0;o<t.length;o++){n[t[o]]={},n[t[o]]={};for(var s=0;s<t.length;s++)n[t[o]][t[s]]=o==s?0:1e9,n[t[o]][t[s]]=o==s?0:1e9}for(var a=0;a<i.length;a++){var l=r[i[a]];l.connected===!0&&void 0!==n[l.fromId]&&void 0!==n[l.toId]&&(n[l.fromId][l.toId]=1,n[l.toId][l.fromId]=1)}for(var u=t.length,c=0;c<u;c++)for(var h=0;h<u-1;h++)for(var p=h+1;p<u;p++)n[t[h]][t[p]]=Math.min(n[t[h]][t[p]],n[t[h]][t[c]]+n[t[c]][t[p]]),n[t[p]][t[h]]=n[t[h]][t[p]];return n}}]),FloydWarshall}();t.default=n},function(e,t){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(e,t,i){this.beginPath(),this.arc(e,t,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(e,t,i){this.beginPath(),this.rect(e-i,t-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(e,t,i){this.beginPath(),i*=1.15,t+=.275*i;var n=2*i,r=n/2,o=Math.sqrt(3)/6*n,s=Math.sqrt(n*n-r*r);this.moveTo(e,t-(s-o)),this.lineTo(e+r,t+o),this.lineTo(e-r,t+o),this.lineTo(e,t-(s-o)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(e,t,i){this.beginPath(),i*=1.15,t-=.275*i;var n=2*i,r=n/2,o=Math.sqrt(3)/6*n,s=Math.sqrt(n*n-r*r);this.moveTo(e,t+(s-o)),this.lineTo(e+r,t-o),this.lineTo(e-r,t-o),this.lineTo(e,t+(s-o)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(e,t,i){this.beginPath(),i*=.82,t+=.1*i;for(var n=0;n<10;n++){var r=n%2===0?1.3*i:.5*i;this.lineTo(e+r*Math.sin(2*n*Math.PI/10),t-r*Math.cos(2*n*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(e,t,i){this.beginPath(),this.lineTo(e,t+i),this.lineTo(e+i,t),this.lineTo(e,t-i),this.lineTo(e-i,t),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(e,t,i,n,r){var o=Math.PI/180;i-2*r<0&&(r=i/2),n-2*r<0&&(r=n/2),this.beginPath(),this.moveTo(e+r,t),this.lineTo(e+i-r,t),this.arc(e+i-r,t+r,r,270*o,360*o,!1),this.lineTo(e+i,t+n-r),this.arc(e+i-r,t+n-r,r,0,90*o,!1),this.lineTo(e+r,t+n),this.arc(e+r,t+n-r,r,90*o,180*o,!1),this.lineTo(e,t+r),this.arc(e+r,t+r,r,180*o,270*o,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse=function(e,t,i,n){var r=.5522848,o=i/2*r,s=n/2*r,a=e+i,l=t+n,u=e+i/2,c=t+n/2;this.beginPath(),this.moveTo(e,c),this.bezierCurveTo(e,c-s,u-o,t,u,t),this.bezierCurveTo(u+o,t,a,c-s,a,c),this.bezierCurveTo(a,c+s,u+o,l,u,l),this.bezierCurveTo(u-o,l,e,c+s,e,c),this.closePath()},CanvasRenderingContext2D.prototype.database=function(e,t,i,n){var r=1/3,o=i,s=n*r,a=.5522848,l=o/2*a,u=s/2*a,c=e+o,h=t+s,p=e+o/2,d=t+s/2,f=t+(n-s/2),m=t+n;this.beginPath(),this.moveTo(c,d),this.bezierCurveTo(c,d+u,p+l,h,p,h),this.bezierCurveTo(p-l,h,e,d+u,e,d),this.bezierCurveTo(e,d-u,p-l,t,p,t),this.bezierCurveTo(p+l,t,c,d-u,c,d),this.lineTo(c,f),this.bezierCurveTo(c,f+u,p+l,m,p,m),this.bezierCurveTo(p-l,m,e,f+u,e,f),this.lineTo(e,d)},CanvasRenderingContext2D.prototype.arrow=function(e,t,i,n){var r=e-n*Math.cos(i),o=t-n*Math.sin(i),s=e-.9*n*Math.cos(i),a=t-.9*n*Math.sin(i),l=r+n/3*Math.cos(i+.5*Math.PI),u=o+n/3*Math.sin(i+.5*Math.PI),c=r+n/3*Math.cos(i-.5*Math.PI),h=o+n/3*Math.sin(i-.5*Math.PI);this.beginPath(),this.moveTo(e,t),this.lineTo(l,u),this.lineTo(s,a),this.lineTo(c,h),this.closePath()},CanvasRenderingContext2D.prototype.dashedLine=function(e,t,i,n,r){this.beginPath(),this.moveTo(e,t);for(var o=r.length,s=i-e,a=n-t,l=a/s,u=Math.sqrt(s*s+a*a),c=0,h=!0,p=0,d=r[0];u>=.1;)d=r[c++%o],d>u&&(d=u),p=Math.sqrt(d*d/(1+l*l)),p=s<0?-p:p,e+=p,t+=l*p,h===!0?this.lineTo(e,t):this.moveTo(e,t),u-=d,h=!h})},function(e,t){function parseDOT(e){return s=e,parseGraph()}function first(){a=0,l=s.charAt(0)}function next(){a++,l=s.charAt(a)}function nextPreview(){return s.charAt(a+1)}function isAlphaNumeric(e){return h.test(e)}function merge(e,t){if(e||(e={}),t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function setValue(e,t,i){for(var n=t.split("."),r=e;n.length;){var o=n.shift();n.length?(r[o]||(r[o]={}),r=r[o]):r[o]=i}}function addNode(e,t){for(var i,n,r=null,o=[e],s=e;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes)for(i=0,n=s.nodes.length;i<n;i++)if(t.id===s.nodes[i].id){r=s.nodes[i];break}for(r||(r={id:t.id},e.node&&(r.attr=merge(r.attr,e.node))),i=o.length-1;i>=0;i--){var a=o[i];a.nodes||(a.nodes=[]),a.nodes.indexOf(r)===-1&&a.nodes.push(r)}t.attr&&(r.attr=merge(r.attr,t.attr))}function addEdge(e,t){if(e.edges||(e.edges=[]),e.edges.push(t),e.edge){var i=merge({},e.edge);t.attr=merge(i,t.attr)}}function createEdge(e,t,i,n,r){var o={from:t,to:i,type:n};return e.edge&&(o.attr=merge({},e.edge)),o.attr=merge(o.attr||{},r),o}function getToken(){for(c=r.NULL,u="";" "===l||"\t"===l||"\n"===l||"\r"===l;)next();do{var e=!1;if("#"===l){for(var t=a-1;" "===s.charAt(t)||"\t"===s.charAt(t);)t--;if("\n"===s.charAt(t)||""===s.charAt(t)){for(;""!=l&&"\n"!=l;)next();e=!0}}if("/"===l&&"/"===nextPreview()){for(;""!=l&&"\n"!=l;)next();e=!0}if("/"===l&&"*"===nextPreview()){for(;""!=l;){if("*"===l&&"/"===nextPreview()){next(),next();break}next()}e=!0}for(;" "===l||"\t"===l||"\n"===l||"\r"===l;)next()}while(e);if(""===l)return void(c=r.DELIMITER);var i=l+nextPreview();if(o[i])return c=r.DELIMITER,u=i,next(),void next();if(o[l])return c=r.DELIMITER,u=l,void next();if(isAlphaNumeric(l)||"-"===l){for(u+=l,next();isAlphaNumeric(l);)u+=l,next();return"false"===u?u=!1:"true"===u?u=!0:isNaN(Number(u))||(u=Number(u)),void(c=r.IDENTIFIER)}if('"'===l){for(next();""!=l&&('"'!=l||'"'===l&&'"'===nextPreview());)u+=l,'"'===l&&next(),next();if('"'!=l)throw newSyntaxError('End of string " expected');return next(),void(c=r.IDENTIFIER)}for(c=r.UNKNOWN;""!=l;)u+=l,next();throw new SyntaxError('Syntax error in part "'+chop(u,30)+'"')}function parseGraph(){var e={};if(first(),getToken(),"strict"===u&&(e.strict=!0,getToken()),"graph"!==u&&"digraph"!==u||(e.type=u,getToken()),c===r.IDENTIFIER&&(e.id=u,getToken()),"{"!=u)throw newSyntaxError("Angle bracket { expected");if(getToken(),parseStatements(e),"}"!=u)throw newSyntaxError("Angle bracket } expected");if(getToken(),""!==u)throw newSyntaxError("End of file expected");return getToken(),delete e.node,delete e.edge,delete e.graph,e}function parseStatements(e){for(;""!==u&&"}"!=u;)parseStatement(e),";"===u&&getToken()}function parseStatement(e){var t=parseSubgraph(e);if(t)return void parseEdge(e,t);var i=parseAttributeStatement(e);if(!i){if(c!=r.IDENTIFIER)throw newSyntaxError("Identifier expected");var n=u;if(getToken(),"="===u){if(getToken(),c!=r.IDENTIFIER)throw newSyntaxError("Identifier expected");e[n]=u,getToken()}else parseNodeStatement(e,n)}}function parseSubgraph(e){var t=null;if("subgraph"===u&&(t={},t.type="subgraph",getToken(),c===r.IDENTIFIER&&(t.id=u,getToken())),"{"===u){if(getToken(),t||(t={}),t.parent=e,t.node=e.node,t.edge=e.edge,t.graph=e.graph,parseStatements(t),"}"!=u)throw newSyntaxError("Angle bracket } expected");getToken(),delete t.node,delete t.edge,delete t.graph,delete t.parent,e.subgraphs||(e.subgraphs=[]),e.subgraphs.push(t)}return t}function parseAttributeStatement(e){return"node"===u?(getToken(),e.node=parseAttributeList(),"node"):"edge"===u?(getToken(),e.edge=parseAttributeList(),"edge"):"graph"===u?(getToken(),e.graph=parseAttributeList(),"graph"):null}function parseNodeStatement(e,t){var i={id:t},n=parseAttributeList();n&&(i.attr=n),addNode(e,i),parseEdge(e,t)}function parseEdge(e,t){for(;"->"===u||"--"===u;){var i,n=u;getToken();var o=parseSubgraph(e);if(o)i=o;else{if(c!=r.IDENTIFIER)throw newSyntaxError("Identifier or subgraph expected");i=u,addNode(e,{id:i}),getToken()}var s=parseAttributeList(),a=createEdge(e,t,i,n,s);addEdge(e,a),t=i}}function parseAttributeList(){for(var e=null;"["===u;){for(getToken(),e={};""!==u&&"]"!=u;){if(c!=r.IDENTIFIER)throw newSyntaxError("Attribute name expected");var t=u;if(getToken(),"="!=u)throw newSyntaxError("Equal sign = expected");if(getToken(),c!=r.IDENTIFIER)throw newSyntaxError("Attribute value expected");var i=u;setValue(e,t,i),getToken(),","==u&&getToken()}if("]"!=u)throw newSyntaxError("Bracket ] expected");getToken()}return e}function newSyntaxError(e){return new SyntaxError(e+', got "'+chop(u,30)+'" (char '+a+")")}function chop(e,t){return e.length<=t?e:e.substr(0,27)+"..."}function forEach2(e,t,i){Array.isArray(e)?e.forEach(function(e){Array.isArray(t)?t.forEach(function(t){i(e,t)}):i(e,t)}):Array.isArray(t)?t.forEach(function(t){i(e,t)}):i(e,t)}function setProp(e,t,i){for(var n=t.split("."),r=n.pop(),o=e,s=0;s<n.length;s++){var a=n[s];a in o||(o[a]={}),o=o[a]}return o[r]=i,e}function convertAttr(e,t){var i={};for(var n in e)if(e.hasOwnProperty(n)){var r=t[n];Array.isArray(r)?r.forEach(function(t){setProp(i,t,e[n])}):"string"==typeof r?setProp(i,r,e[n]):setProp(i,n,e[n])}return i}function DOTToGraph(e){var t=parseDOT(e),r={nodes:[],edges:[],options:{}};if(t.nodes&&t.nodes.forEach(function(e){var t={id:e.id,label:String(e.label||e.id)};merge(t,convertAttr(e.attr,i)),t.image&&(t.shape="image"),r.nodes.push(t)}),t.edges){var o=function(e){var t={from:e.from,to:e.to};return merge(t,convertAttr(e.attr,n)),t.arrows="->"===e.type?"to":void 0,t};t.edges.forEach(function(e){var t,i;t=e.from instanceof Object?e.from.nodes:{id:e.from},i=e.to instanceof Object?e.to.nodes:{id:e.to},e.from instanceof Object&&e.from.edges&&e.from.edges.forEach(function(e){var t=o(e);r.edges.push(t)}),forEach2(t,i,function(t,i){var n=createEdge(r,t.id,i.id,e.type,e.attr),s=o(n);r.edges.push(s)}),e.to instanceof Object&&e.to.edges&&e.to.edges.forEach(function(e){var t=o(e);r.edges.push(t)})})}return t.attr&&(r.options=t.attr),r}var i={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},n=Object.create(i);n.color="color.color";var r={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},o={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},s="",a=0,l="",u="",c=r.NULL,h=/[a-zA-Z_0-9.:#]/;t.parseDOT=parseDOT,t.DOTToGraph=DOTToGraph},function(e,t){function parseGephi(e,t){var i=[],n=[],r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==t&&(void 0!==t.fixed&&(r.nodes.fixed=t.fixed),void 0!==t.parseColor&&(r.nodes.parseColor=t.parseColor),void 0!==t.inheritColor&&(r.edges.inheritColor=t.inheritColor));for(var o=e.edges,s=e.nodes,a=0;a<o.length;a++){var l={},u=o[a];l.id=u.id,l.from=u.source,l.to=u.target,l.attributes=u.attributes,l.label=u.label,l.title=void 0!==u.attributes?u.attributes.title:void 0,"Directed"===u.type&&(l.arrows="to"),u.color&&r.inheritColor===!1&&(l.color=u.color),i.push(l)}for(var a=0;a<s.length;a++){var c={},h=s[a];c.id=h.id,c.attributes=h.attributes,c.title=h.title,c.x=h.x,c.y=h.y,c.label=h.label,c.title=void 0!==h.attributes?h.attributes.title:void 0,r.nodes.parseColor===!0?c.color=h.color:c.color=void 0!==h.color?{background:h.color,border:h.color,highlight:{background:h.color,border:h.color},hover:{background:h.color,border:h.color}}:void 0,c.size=h.size,c.fixed=r.nodes.fixed&&void 0!==h.x&&void 0!==h.y,n.push(c)}return{nodes:n,edges:i}}t.parseGephi=parseGephi},function(e,t){t.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},t.en_EN=t.en,t.en_US=t.en,t.de={edit:"Editieren",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Kante hinzufügen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."},t.de_DE=t.de,t.es={edit:"Editar",del:"Eliminar selección",back:"Átras",addNode:"Añadir nodo",addEdge:"Añadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},t.es_ES=t.es,t.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},t.nl_NL=t.nl,t.nl_BE=t.nl}])})}});
//# sourceMappingURL=vendor.c1d3693e512a10d939c7.bundle.map